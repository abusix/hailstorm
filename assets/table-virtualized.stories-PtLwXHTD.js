import{j as h}from"./jsx-runtime-DtaoT6pD.js";import{r as D,g as ln,R as k}from"./index-OjgoNOWw.js";import{r as un}from"./index-mQqIOHEI.js";import{c as xt}from"./class-names-xhKKfcKT.js";import{T as R}from"./table-unvirtualized-497IaBMw.js";import{aE as cn,l as dn,bD as gn,av as fn,as as pn,hu as hn}from"./zoom-to-fit-icon-65magoHv.js";import{B as le}from"./button-AyZoymC1.js";import{I as mn}from"./icon-button-4gxnxrGR.js";import{D as je}from"./divider-line-juAh6NUm.js";import"./spinner-wMFQnwL5.js";/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function A(e,n){return typeof e=="function"?e(n):e}function T(e,n){return t=>{n.setState(r=>({...r,[e]:A(t,r[e])}))}}function oe(e){return e instanceof Function}function vn(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function Sn(e,n){const t=[],r=o=>{o.forEach(i=>{t.push(i);const s=n(i);s!=null&&s.length&&r(s)})};return r(e),t}function C(e,n,t){let r=[],o;return()=>{let i;t.key&&t.debug&&(i=Date.now());const s=e();if(!(s.length!==r.length||s.some((c,u)=>r[u]!==c)))return o;r=s;let l;if(t.key&&t.debug&&(l=Date.now()),o=n(...s),t==null||t.onChange==null||t.onChange(o),t.key&&t.debug&&t!=null&&t.debug()){const c=Math.round((Date.now()-i)*100)/100,u=Math.round((Date.now()-l)*100)/100,d=u/16,f=(g,m)=>{for(g=String(g);g.length<m;)g=" "+g;return g};console.info(`%câ± ${f(u,5)} /${f(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*d,120))}deg 100% 31%);`,t==null?void 0:t.key)}return o}}function Cn(e,n,t,r){var o,i;const a={...e._getDefaultColumnDef(),...n},l=a.accessorKey;let c=(o=(i=a.id)!=null?i:l?l.replace(".","_"):void 0)!=null?o:typeof a.header=="string"?a.header:void 0,u;if(a.accessorFn?u=a.accessorFn:l&&(l.includes(".")?u=f=>{let g=f;for(const p of l.split(".")){var m;g=(m=g)==null?void 0:m[p]}return g}:u=f=>f[a.accessorKey]),!c)throw new Error;let d={id:`${String(c)}`,accessorFn:u,parent:r,depth:t,columnDef:a,columns:[],getFlatColumns:C(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(g=>g.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var f;return(f=e.options.debugAll)!=null?f:e.options.debugColumns}}),getLeafColumns:C(()=>[e._getOrderColumnsFn()],f=>{var g;if((g=d.columns)!=null&&g.length){let m=d.columns.flatMap(p=>p.getLeafColumns());return f(m)}return[d]},{key:"column.getLeafColumns",debug:()=>{var f;return(f=e.options.debugAll)!=null?f:e.options.debugColumns}})};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}function Je(e,n,t){var r;let i={id:(r=t.id)!=null?r:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(i),s},getContext:()=>({table:e,header:i,column:n})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(i,e)}),i}const wn={createTable:e=>{e.getHeaderGroups=C(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,r,o)=>{var i,s;const a=(i=r==null?void 0:r.map(d=>t.find(f=>f.id===d)).filter(Boolean))!=null?i:[],l=(s=o==null?void 0:o.map(d=>t.find(f=>f.id===d)).filter(Boolean))!=null?s:[],c=t.filter(d=>!(r!=null&&r.includes(d.id))&&!(o!=null&&o.includes(d.id)));return J(n,[...a,...c,...l],e)},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getCenterHeaderGroups=C(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,r,o)=>(t=t.filter(i=>!(r!=null&&r.includes(i.id))&&!(o!=null&&o.includes(i.id))),J(n,t,e,"center")),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getLeftHeaderGroups=C(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,r)=>{var o;const i=(o=r==null?void 0:r.map(s=>t.find(a=>a.id===s)).filter(Boolean))!=null?o:[];return J(n,i,e,"left")},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getRightHeaderGroups=C(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,r)=>{var o;const i=(o=r==null?void 0:r.map(s=>t.find(a=>a.id===s)).filter(Boolean))!=null?o:[];return J(n,i,e,"right")},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getFooterGroups=C(()=>[e.getHeaderGroups()],n=>[...n].reverse(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getLeftFooterGroups=C(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getCenterFooterGroups=C(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getRightFooterGroups=C(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getFlatHeaders=C(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getLeftFlatHeaders=C(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getCenterFlatHeaders=C(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getRightFlatHeaders=C(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getCenterLeafHeaders=C(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getLeftLeafHeaders=C(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getRightLeafHeaders=C(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}}),e.getLeafHeaders=C(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,r)=>{var o,i,s,a,l,c;return[...(o=(i=n[0])==null?void 0:i.headers)!=null?o:[],...(s=(a=t[0])==null?void 0:a.headers)!=null?s:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[]].map(u=>u.getLeafHeaders()).flat()},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugHeaders}})}};function J(e,n,t,r){var o,i;let s=0;const a=function(f,g){g===void 0&&(g=1),s=Math.max(s,g),f.filter(m=>m.getIsVisible()).forEach(m=>{var p;(p=m.columns)!=null&&p.length&&a(m.columns,g+1)},0)};a(e);let l=[];const c=(f,g)=>{const m={depth:g,id:[r,`${g}`].filter(Boolean).join("_"),headers:[]},p=[];f.forEach(v=>{const S=[...p].reverse()[0],y=v.column.depth===m.depth;let b,E=!1;if(y&&v.column.parent?b=v.column.parent:(b=v.column,E=!0),S&&(S==null?void 0:S.column)===b)S.subHeaders.push(v);else{const I=Je(t,b,{id:[r,g,b.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:E,placeholderId:E?`${p.filter(F=>F.column===b).length}`:void 0,depth:g,index:p.length});I.subHeaders.push(v),p.push(I)}m.headers.push(v),v.headerGroup=m}),l.push(m),g>0&&c(p,g-1)},u=n.map((f,g)=>Je(t,f,{depth:s,index:g}));c(u,s-1),l.reverse();const d=f=>f.filter(m=>m.column.getIsVisible()).map(m=>{let p=0,v=0,S=[0];m.subHeaders&&m.subHeaders.length?(S=[],d(m.subHeaders).forEach(b=>{let{colSpan:E,rowSpan:I}=b;p+=E,S.push(I)})):p=1;const y=Math.min(...S);return v=v+y,m.colSpan=p,m.rowSpan=v,{colSpan:p,rowSpan:v}});return d((o=(i=l[0])==null?void 0:i.headers)!=null?o:[]),l}const Z={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},ve=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Dn={getDefaultColumnDef:()=>Z,getInitialState:e=>({columnSizing:{},columnSizingInfo:ve(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",onColumnSizingChange:T("columnSizing",e),onColumnSizingInfoChange:T("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,r,o;const i=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:Z.minSize,(r=i??e.columnDef.size)!=null?r:Z.size),(o=e.columnDef.maxSize)!=null?o:Z.maxSize)},e.getStart=t=>{const r=t?t==="left"?n.getLeftVisibleLeafColumns():n.getRightVisibleLeafColumns():n.getVisibleLeafColumns(),o=r.findIndex(i=>i.id===e.id);if(o>0){const i=r[o-1];return i.getStart(t)+i.getSize()}return 0},e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:r,...o}=t;return o})},e.getCanResize=()=>{var t,r;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((r=n.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var i;t+=(i=o.column.getSize())!=null?i:0}};return r(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=()=>{const t=n.getColumn(e.column.id),r=t==null?void 0:t.getCanResize();return o=>{if(!t||!r||(o.persist==null||o.persist(),Se(o)&&o.touches&&o.touches.length>1))return;const i=e.getSize(),s=e?e.getLeafHeaders().map(p=>[p.column.id,p.column.getSize()]):[[t.id,t.getSize()]],a=Se(o)?Math.round(o.touches[0].clientX):o.clientX,l={},c=(p,v)=>{typeof v=="number"&&(n.setColumnSizingInfo(S=>{var y,b;const E=v-((y=S==null?void 0:S.startOffset)!=null?y:0),I=Math.max(E/((b=S==null?void 0:S.startSize)!=null?b:0),-.999999);return S.columnSizingStart.forEach(F=>{let[he,P]=F;l[he]=Math.round(Math.max(P+P*I,0)*100)/100}),{...S,deltaOffset:E,deltaPercentage:I}}),(n.options.columnResizeMode==="onChange"||p==="end")&&n.setColumnSizing(S=>({...S,...l})))},u=p=>c("move",p),d=p=>{c("end",p),n.setColumnSizingInfo(v=>({...v,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},f={moveHandler:p=>u(p.clientX),upHandler:p=>{document.removeEventListener("mousemove",f.moveHandler),document.removeEventListener("mouseup",f.upHandler),d(p.clientX)}},g={moveHandler:p=>(p.cancelable&&(p.preventDefault(),p.stopPropagation()),u(p.touches[0].clientX),!1),upHandler:p=>{var v;document.removeEventListener("touchmove",g.moveHandler),document.removeEventListener("touchend",g.upHandler),p.cancelable&&(p.preventDefault(),p.stopPropagation()),d((v=p.touches[0])==null?void 0:v.clientX)}},m=yn()?{passive:!1}:!1;Se(o)?(document.addEventListener("touchmove",g.moveHandler,m),document.addEventListener("touchend",g.upHandler,m)):(document.addEventListener("mousemove",f.moveHandler,m),document.addEventListener("mouseup",f.upHandler,m)),n.setColumnSizingInfo(p=>({...p,startOffset:a,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:t.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?ve():(t=e.initialState.columnSizingInfo)!=null?t:ve())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((r,o)=>r+o.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((r,o)=>r+o.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((r,o)=>r+o.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((r,o)=>r+o.getSize(),0))!=null?n:0}}};let ee=null;function yn(){if(typeof ee=="boolean")return ee;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return ee=e,ee}function Se(e){return e.type==="touchstart"}const bn={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:T("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var r,o;if(!n){e._queue(()=>{n=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,i;e.setExpanded(r?{}:(o=(i=e.initialState)==null?void 0:i.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const s=i.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(r=>{var o;const i=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(n.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,t=(o=t)!=null?o:!i,!i&&t)return{...s,[e.id]:!0};if(i&&!t){const{[e.id]:a,...l}=s;return l}return r})},e.getIsExpanded=()=>{var t;const r=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var t,r,o;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((r=n.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let t=!0,r=e;for(;t&&r.parentId;)r=n.getRow(r.parentId,!0),t=r.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},Ot=(e,n,t)=>{var r;const o=t.toLowerCase();return!!(!((r=e.getValue(n))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(o))};Ot.autoRemove=e=>M(e);const _t=(e,n,t)=>{var r;return!!(!((r=e.getValue(n))==null||(r=r.toString())==null)&&r.includes(t))};_t.autoRemove=e=>M(e);const Mt=(e,n,t)=>{var r;return((r=e.getValue(n))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(t==null?void 0:t.toLowerCase())};Mt.autoRemove=e=>M(e);const Pt=(e,n,t)=>{var r;return(r=e.getValue(n))==null?void 0:r.includes(t)};Pt.autoRemove=e=>M(e)||!(e!=null&&e.length);const $t=(e,n,t)=>!t.some(r=>{var o;return!((o=e.getValue(n))!=null&&o.includes(r))});$t.autoRemove=e=>M(e)||!(e!=null&&e.length);const Ft=(e,n,t)=>t.some(r=>{var o;return(o=e.getValue(n))==null?void 0:o.includes(r)});Ft.autoRemove=e=>M(e)||!(e!=null&&e.length);const At=(e,n,t)=>e.getValue(n)===t;At.autoRemove=e=>M(e);const Nt=(e,n,t)=>e.getValue(n)==t;Nt.autoRemove=e=>M(e);const ke=(e,n,t)=>{let[r,o]=t;const i=e.getValue(n);return i>=r&&i<=o};ke.resolveFilterValue=e=>{let[n,t]=e,r=typeof n!="number"?parseFloat(n):n,o=typeof t!="number"?parseFloat(t):t,i=n===null||Number.isNaN(r)?-1/0:r,s=t===null||Number.isNaN(o)?1/0:o;if(i>s){const a=i;i=s,s=a}return[i,s]};ke.autoRemove=e=>M(e)||M(e[0])&&M(e[1]);const $={includesString:Ot,includesStringSensitive:_t,equalsString:Mt,arrIncludes:Pt,arrIncludesAll:$t,arrIncludesSome:Ft,equals:At,weakEquals:Nt,inNumberRange:ke};function M(e){return e==null||e===""}const Rn={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:T("columnFilters",e),onGlobalFilterChange:T("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const r=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],r=t==null?void 0:t.getValue(e.id);return typeof r=="string"?$.includesString:typeof r=="number"?$.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?$.equals:Array.isArray(r)?$.arrIncludes:$.weakEquals},e.getFilterFn=()=>{var t,r;return oe(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(r=n.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?t:$[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,r,o;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((r=n.options.enableColumnFilters)!=null?r:!0)&&((o=n.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var t,r,o,i;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((r=n.options.enableGlobalFilter)!=null?r:!0)&&((o=n.options.enableFilters)!=null?o:!0)&&((i=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(r=>r.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,r;return(t=(r=n.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(r=>{const o=e.getFilterFn(),i=r==null?void 0:r.find(u=>u.id===e.id),s=A(t,i?i.value:void 0);if(Ze(o,s,e)){var a;return(a=r==null?void 0:r.filter(u=>u.id!==e.id))!=null?a:[]}const l={id:e.id,value:s};if(i){var c;return(c=r==null?void 0:r.map(u=>u.id===e.id?l:u))!=null?c:[]}return r!=null&&r.length?[...r,l]:[l]})},e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>$.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:r}=e.options;return oe(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[r])!=null?n:$[r]},e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),r=o=>{var i;return(i=A(n,o))==null?void 0:i.filter(s=>{const a=t.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(Ze(l,s.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)},e.resetColumnFilters=n=>{var t,r;e.setColumnFilters(n?[]:(t=(r=e.initialState)==null?void 0:r.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function Ze(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const En=(e,n,t)=>t.reduce((r,o)=>{const i=o.getValue(e);return r+(typeof i=="number"?i:0)},0),In=(e,n,t)=>{let r;return t.forEach(o=>{const i=o.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},Tn=(e,n,t)=>{let r;return t.forEach(o=>{const i=o.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},xn=(e,n,t)=>{let r,o;return t.forEach(i=>{const s=i.getValue(e);s!=null&&(r===void 0?s>=s&&(r=o=s):(r>s&&(r=s),o<s&&(o=s)))}),[r,o]},On=(e,n)=>{let t=0,r=0;if(n.forEach(o=>{let i=o.getValue(e);i!=null&&(i=+i)>=i&&(++t,r+=i)}),t)return r/t},_n=(e,n)=>{if(!n.length)return;const t=n.map(i=>i.getValue(e));if(!vn(t))return;if(t.length===1)return t[0];const r=Math.floor(t.length/2),o=t.sort((i,s)=>i-s);return t.length%2!==0?o[r]:(o[r-1]+o[r])/2},Mn=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),Pn=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,$n=(e,n)=>n.length,Ce={sum:En,min:In,max:Tn,extent:xn,mean:On,median:_n,unique:Mn,uniqueCount:Pn,count:$n},Fn={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:T("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(r=>r!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,r,o,i;return(t=(r=(o=(i=e.columnDef.enableGrouping)!=null?i:!0)!=null?o:n.options.enableGrouping)!=null?r:!0)!=null?t:!!e.accessorFn},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],r=t==null?void 0:t.getValue(e.id);if(typeof r=="number")return Ce.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Ce.extent},e.getAggregationFn=()=>{var t,r;if(!e)throw new Error;return oe(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(r=n.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?t:Ce[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,r;e.setGrouping(n?[]:(t=(r=e.initialState)==null?void 0:r.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const r=n.getColumn(t);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[t]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,r)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=t.subRows)!=null&&o.length)}}};function An(e,n,t){if(!(n!=null&&n.length)||!t)return e;const r=e.filter(i=>!n.includes(i.id));return t==="remove"?r:[...n.map(i=>e.find(s=>s.id===i)).filter(Boolean),...r]}const Nn={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:T("columnOrder",e)}),createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=C(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,r)=>o=>{let i=[];if(!(n!=null&&n.length))i=o;else{const s=[...n],a=[...o];for(;a.length&&s.length;){const l=s.shift(),c=a.findIndex(u=>u.id===l);c>-1&&i.push(a.splice(c,1)[0])}i=[...i,...a]}return An(i,t,r)},{key:!1})}},Me=0,Pe=10,we=()=>({pageIndex:Me,pageSize:Pe}),Hn={getInitialState:e=>({...e,pagination:{...we(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:T("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var r,o;if(!n){e._queue(()=>{n=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=r=>{const o=i=>A(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?we():(o=e.initialState.pagination)!=null?o:we())},e.setPageIndex=r=>{e.setPagination(o=>{let i=A(r,o.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,s)),{...o,pageIndex:i}})},e.resetPageIndex=r=>{var o,i;e.setPageIndex(r?Me:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?o:Me)},e.resetPageSize=r=>{var o,i;e.setPageSize(r?Pe:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?o:Pe)},e.setPageSize=r=>{e.setPagination(o=>{const i=Math.max(1,A(r,o.pageSize)),s=o.pageSize*o.pageIndex,a=Math.floor(s/i);return{...o,pageIndex:a,pageSize:i}})},e.setPageCount=r=>e.setPagination(o=>{var i;let s=A(r,(i=e.options.pageCount)!=null?i:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...o,pageCount:s}}),e.getPageOptions=C(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((i,s)=>s)),o},{key:!1,debug:()=>{var r;return(r=e.options.debugAll)!=null?r:e.options.debugTable}}),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}},De=()=>({left:[],right:[]}),ye=()=>({top:[],bottom:[]}),Vn={getInitialState:e=>({columnPinning:De(),rowPinning:ye(),...e}),getDefaultOptions:e=>({onColumnPinningChange:T("columnPinning",e),onRowPinningChange:T("rowPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);n.setColumnPinning(o=>{var i,s;if(t==="right"){var a,l;return{left:((a=o==null?void 0:o.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=o==null?void 0:o.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(t==="left"){var c,u;return{left:[...((c=o==null?void 0:o.left)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((u=o==null?void 0:o.right)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((i=o==null?void 0:o.left)!=null?i:[]).filter(d=>!(r!=null&&r.includes(d))),right:((s=o==null?void 0:o.right)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,i,s;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((i=(s=n.options.enableColumnPinning)!=null?s:n.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(a=>a.id),{left:r,right:o}=n.getState().columnPinning,i=t.some(a=>r==null?void 0:r.includes(a)),s=t.some(a=>o==null?void 0:o.includes(a));return i?"left":s?"right":!1},e.getPinnedIndex=()=>{var t,r;const o=e.getIsPinned();return o?(t=(r=n.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.pin=(t,r,o)=>{const i=r?e.getLeafRows().map(l=>{let{id:c}=l;return c}):[],s=o?e.getParentRows().map(l=>{let{id:c}=l;return c}):[],a=new Set([...s,e.id,...i]);n.setRowPinning(l=>{var c,u;if(t==="bottom"){var d,f;return{top:((d=l==null?void 0:l.top)!=null?d:[]).filter(p=>!(a!=null&&a.has(p))),bottom:[...((f=l==null?void 0:l.bottom)!=null?f:[]).filter(p=>!(a!=null&&a.has(p))),...Array.from(a)]}}if(t==="top"){var g,m;return{top:[...((g=l==null?void 0:l.top)!=null?g:[]).filter(p=>!(a!=null&&a.has(p))),...Array.from(a)],bottom:((m=l==null?void 0:l.bottom)!=null?m:[]).filter(p=>!(a!=null&&a.has(p)))}}return{top:((c=l==null?void 0:l.top)!=null?c:[]).filter(p=>!(a!=null&&a.has(p))),bottom:((u=l==null?void 0:l.bottom)!=null?u:[]).filter(p=>!(a!=null&&a.has(p)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:r,enablePinning:o}=n.options;return typeof r=="function"?r(e):(t=r??o)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:r,bottom:o}=n.getState().rowPinning,i=t.some(a=>r==null?void 0:r.includes(a)),s=t.some(a=>o==null?void 0:o.includes(a));return i?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var t,r;const o=e.getIsPinned();if(!o)return-1;const i=(t=n._getPinnedRows(o))==null?void 0:t.map(s=>{let{id:a}=s;return a});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1},e.getCenterVisibleCells=C(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,r,o)=>{const i=[...r??[],...o??[]];return t.filter(s=>!i.includes(s.column.id))},{key:!1,debug:()=>{var t;return(t=n.options.debugAll)!=null?t:n.options.debugRows}}),e.getLeftVisibleCells=C(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,,],(t,r)=>(r??[]).map(i=>t.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),{key:!1,debug:()=>{var t;return(t=n.options.debugAll)!=null?t:n.options.debugRows}}),e.getRightVisibleCells=C(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,r)=>(r??[]).map(i=>t.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),{key:!1,debug:()=>{var t;return(t=n.options.debugAll)!=null?t:n.options.debugRows}})},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,r;return e.setColumnPinning(n?De():(t=(r=e.initialState)==null?void 0:r.columnPinning)!=null?t:De())},e.getIsSomeColumnsPinned=n=>{var t;const r=e.getState().columnPinning;if(!n){var o,i;return!!((o=r.left)!=null&&o.length||(i=r.right)!=null&&i.length)}return!!((t=r[n])!=null&&t.length)},e.getLeftLeafColumns=C(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(r=>n.find(o=>o.id===r)).filter(Boolean),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugColumns}}),e.getRightLeafColumns=C(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(r=>n.find(o=>o.id===r)).filter(Boolean),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugColumns}}),e.getCenterLeafColumns=C(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,r)=>{const o=[...t??[],...r??[]];return n.filter(i=>!o.includes(i.id))},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugColumns}}),e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,r;return e.setRowPinning(n?ye():(t=(r=e.initialState)==null?void 0:r.rowPinning)!=null?t:ye())},e.getIsSomeRowsPinned=n=>{var t;const r=e.getState().rowPinning;if(!n){var o,i;return!!((o=r.top)!=null&&o.length||(i=r.bottom)!=null&&i.length)}return!!((t=r[n])!=null&&t.length)},e._getPinnedRows=n=>C(()=>[e.getRowModel().rows,e.getState().rowPinning[n]],(t,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(r??[]).map(s=>{const a=e.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(r??[]).map(s=>t.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:n}))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugRows}})(),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=C(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,r)=>{const o=new Set([...t??[],...r??[]]);return n.filter(i=>!o.has(i.id))},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}})}},Ln={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:T("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const r={...t},o=e.getPreGroupedRowModel().flatRows;return n?o.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):o.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const r=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),o={...t};return e.getRowModel().rows.forEach(i=>{$e(o,i.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=C(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?be(e,t):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable}}),e.getFilteredSelectedRowModel=C(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?be(e,t):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable}}),e.getGroupedSelectedRowModel=C(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?be(e,t):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable}}),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let r=!!(n.length&&Object.keys(t).length);return r&&n.some(o=>o.getCanSelect()&&!t[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:t}=e.getState();let r=!!n.length;return r&&n.some(o=>!t[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,r)=>{const o=e.getIsSelected();n.setRowSelection(i=>{var s;if(t=typeof t<"u"?t:!o,e.getCanSelect()&&o===t)return i;const a={...i};return $e(a,e.id,t,(s=r==null?void 0:r.selectChildren)!=null?s:!0,n),a})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return Ge(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return Fe(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return Fe(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return r=>{var o;t&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},$e=(e,n,t,r,o)=>{var i;const s=o.getRow(n);t?(s.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),s.getCanSelect()&&(e[n]=!0)):delete e[n],r&&(i=s.subRows)!=null&&i.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>$e(e,a.id,t,r,o))};function be(e,n){const t=e.getState().rowSelection,r=[],o={},i=function(s,a){return s.map(l=>{var c;const u=Ge(l,t);if(u&&(r.push(l),o[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:i(l.subRows)}),u)return l}).filter(Boolean)};return{rows:i(n.rows),flatRows:r,rowsById:o}}function Ge(e,n){var t;return(t=n[e.id])!=null?t:!1}function Fe(e,n,t){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,i=!1;return e.subRows.forEach(s=>{if(!(i&&!o)&&(s.getCanSelect()&&(Ge(s,n)?i=!0:o=!1),s.subRows&&s.subRows.length)){const a=Fe(s,n);a==="all"?i=!0:(a==="some"&&(i=!0),o=!1)}}),o?"all":i?"some":!1}const Ae=/([0-9]+)/gm,zn=(e,n,t)=>Ht(N(e.getValue(t)).toLowerCase(),N(n.getValue(t)).toLowerCase()),jn=(e,n,t)=>Ht(N(e.getValue(t)),N(n.getValue(t))),kn=(e,n,t)=>Be(N(e.getValue(t)).toLowerCase(),N(n.getValue(t)).toLowerCase()),Gn=(e,n,t)=>Be(N(e.getValue(t)),N(n.getValue(t))),Bn=(e,n,t)=>{const r=e.getValue(t),o=n.getValue(t);return r>o?1:r<o?-1:0},qn=(e,n,t)=>Be(e.getValue(t),n.getValue(t));function Be(e,n){return e===n?0:e>n?1:-1}function N(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Ht(e,n){const t=e.split(Ae).filter(Boolean),r=n.split(Ae).filter(Boolean);for(;t.length&&r.length;){const o=t.shift(),i=r.shift(),s=parseInt(o,10),a=parseInt(i,10),l=[s,a].sort();if(isNaN(l[0])){if(o>i)return 1;if(i>o)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return t.length-r.length}const G={alphanumeric:zn,alphanumericCaseSensitive:jn,text:kn,textCaseSensitive:Gn,datetime:Bn,basic:qn},Un={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:T("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of t){const i=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return G.datetime;if(typeof i=="string"&&(r=!0,i.split(Ae).length>1))return G.alphanumeric}return r?G.text:G.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,r;if(!e)throw new Error;return oe(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(r=n.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?t:G[e.columnDef.sortingFn]},e.toggleSorting=(t,r)=>{const o=e.getNextSortingOrder(),i=typeof t<"u"&&t!==null;n.setSorting(s=>{const a=s==null?void 0:s.find(g=>g.id===e.id),l=s==null?void 0:s.findIndex(g=>g.id===e.id);let c=[],u,d=i?t:o==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?a?u="toggle":u="add":s!=null&&s.length&&l!==s.length-1?u="replace":a?u="toggle":u="replace",u==="toggle"&&(i||o||(u="remove")),u==="add"){var f;c=[...s,{id:e.id,desc:d}],c.splice(0,c.length-((f=n.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else u==="toggle"?c=s.map(g=>g.id===e.id?{...g,desc:d}:g):u==="remove"?c=s.filter(g=>g.id!==e.id):c=[{id:e.id,desc:d}];return c})},e.getFirstSortDir=()=>{var t,r;return((t=(r=e.columnDef.sortDescFirst)!=null?r:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var r,o;const i=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==i&&((r=n.options.enableSortingRemoval)==null||r)&&(!(t&&(o=n.options.enableMultiRemove)!=null)||o)?!1:s==="desc"?"asc":"desc":i},e.getCanSort=()=>{var t,r;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((r=n.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,r;return(t=(r=e.columnDef.enableMultiSort)!=null?r:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const r=(t=n.getState().sorting)==null?void 0:t.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,r;return(t=(r=n.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return r=>{t&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,r;e.setSorting(n?[]:(t=(r=e.initialState)==null?void 0:r.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Xn={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:T("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(r=>({...r,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,r;return(t=(r=n.getState().columnVisibility)==null?void 0:r[e.id])!=null?t:!0},e.getCanHide=()=>{var t,r;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((r=n.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=C(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(r=>r.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var t;return(t=n.options.debugAll)!=null?t:n.options.debugRows}}),e.getVisibleCells=C(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,r,o)=>[...t,...r,...o],{key:!1,debug:()=>{var t;return(t=n.options.debugAll)!=null?t:n.options.debugRows}})},createTable:e=>{const n=(t,r)=>C(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),{key:t,debug:()=>{var o;return(o=e.options.debugAll)!=null?o:e.options.debugColumns}});e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var r;e.setColumnVisibility(t?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=t=>{var r;t=(r=t)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,i)=>({...o,[i.id]:t||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var r;e.toggleAllColumnsVisible((r=t.target)==null?void 0:r.checked)}}},et=[wn,Xn,Nn,Vn,Rn,Un,Fn,bn,Hn,Ln,Dn];function Wn(e){var n;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let t={_features:et};const r=t._features.reduce((u,d)=>Object.assign(u,d.getDefaultOptions==null?void 0:d.getDefaultOptions(t)),{}),o=u=>t.options.mergeOptions?t.options.mergeOptions(r,u):{...r,...u};let s={...{},...(n=e.initialState)!=null?n:{}};t._features.forEach(u=>{var d;s=(d=u.getInitialState==null?void 0:u.getInitialState(s))!=null?d:s});const a=[];let l=!1;const c={_features:et,options:{...r,...e},initialState:s,_queue:u=>{a.push(u),l||(l=!0,Promise.resolve().then(()=>{for(;a.length;)a.shift()();l=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{t.setState(t.initialState)},setOptions:u=>{const d=A(u,t.options);t.options=o(d)},getState:()=>t.options.state,setState:u=>{t.options.onStateChange==null||t.options.onStateChange(u)},_getRowId:(u,d,f)=>{var g;return(g=t.options.getRowId==null?void 0:t.options.getRowId(u,d,f))!=null?g:`${f?[f.id,d].join("."):d}`},getCoreRowModel:()=>(t._getCoreRowModel||(t._getCoreRowModel=t.options.getCoreRowModel(t)),t._getCoreRowModel()),getRowModel:()=>t.getPaginationRowModel(),getRow:(u,d)=>{const f=(d?t.getCoreRowModel():t.getRowModel()).rowsById[u];if(!f)throw new Error;return f},_getDefaultColumnDef:C(()=>[t.options.defaultColumn],u=>{var d;return u=(d=u)!=null?d:{},{header:f=>{const g=f.header.column.columnDef;return g.accessorKey?g.accessorKey:g.accessorFn?g.id:null},cell:f=>{var g,m;return(g=(m=f.renderValue())==null||m.toString==null?void 0:m.toString())!=null?g:null},...t._features.reduce((f,g)=>Object.assign(f,g.getDefaultColumnDef==null?void 0:g.getDefaultColumnDef()),{}),...u}},{debug:()=>{var u;return(u=t.options.debugAll)!=null?u:t.options.debugColumns},key:!1}),_getColumnDefs:()=>t.options.columns,getAllColumns:C(()=>[t._getColumnDefs()],u=>{const d=function(f,g,m){return m===void 0&&(m=0),f.map(p=>{const v=Cn(t,p,m,g),S=p;return v.columns=S.columns?d(S.columns,v,m+1):[],v})};return d(u)},{key:!1,debug:()=>{var u;return(u=t.options.debugAll)!=null?u:t.options.debugColumns}}),getAllFlatColumns:C(()=>[t.getAllColumns()],u=>u.flatMap(d=>d.getFlatColumns()),{key:!1,debug:()=>{var u;return(u=t.options.debugAll)!=null?u:t.options.debugColumns}}),_getAllFlatColumnsById:C(()=>[t.getAllFlatColumns()],u=>u.reduce((d,f)=>(d[f.id]=f,d),{}),{key:!1,debug:()=>{var u;return(u=t.options.debugAll)!=null?u:t.options.debugColumns}}),getAllLeafColumns:C(()=>[t.getAllColumns(),t._getOrderColumnsFn()],(u,d)=>{let f=u.flatMap(g=>g.getLeafColumns());return d(f)},{key:!1,debug:()=>{var u;return(u=t.options.debugAll)!=null?u:t.options.debugColumns}}),getColumn:u=>t._getAllFlatColumnsById()[u]};Object.assign(t,c);for(let u=0;u<t._features.length;u++){const d=t._features[u];d==null||d.createTable==null||d.createTable(t)}return t}function Kn(e,n,t,r){const o=()=>{var s;return(s=i.getValue())!=null?s:e.options.renderFallbackValue},i={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(r),renderValue:o,getContext:C(()=>[e,t,n,i],(s,a,l,c)=>({table:s,column:a,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach(s=>{s.createCell==null||s.createCell(i,t,n,e)},{}),i}const Yn=(e,n,t,r,o,i,s)=>{let a={id:n,index:r,original:t,depth:o,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return a._valuesCache[l]=c.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=c.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=a.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:i??[],getLeafRows:()=>Sn(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],c=a;for(;;){const u=c.getParentRow();if(!u)break;l.push(u),c=u}return l.reverse()},getAllCells:C(()=>[e.getAllLeafColumns()],l=>l.map(c=>Kn(e,a,c,c.id)),{key:!1,debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugRows}}),_getAllCellsByColumnId:C(()=>[a.getAllCells()],l=>l.reduce((c,u)=>(c[u.column.id]=u,c),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugRows}})};for(let l=0;l<e._features.length;l++){const c=e._features[l];c==null||c.createRow==null||c.createRow(a,e)}return a};function K(){return{accessor:(e,n)=>typeof e=="function"?{...n,accessorFn:e}:{...n,accessorKey:e},display:e=>e,group:e=>e}}function Qn(){return e=>C(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},r=function(o,i,s){i===void 0&&(i=0);const a=[];for(let c=0;c<o.length;c++){const u=Yn(e,e._getRowId(o[c],c,s),o[c],c,i,void 0,s==null?void 0:s.id);if(t.flatRows.push(u),t.rowsById[u.id]=u,a.push(u),e.options.getSubRows){var l;u.originalSubRows=e.options.getSubRows(o[c],c),(l=u.originalSubRows)!=null&&l.length&&(u.subRows=r(u.originalSubRows,i+1,u))}}return a};return t.rows=r(n),t},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Jn(){return e=>C(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,t)=>{if(!t.rows.length||!(n!=null&&n.length))return t;const r=e.getState().sorting,o=[],i=r.filter(l=>{var c;return(c=e.getColumn(l.id))==null?void 0:c.getCanSort()}),s={};i.forEach(l=>{const c=e.getColumn(l.id);c&&(s[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=l=>{const c=l.map(u=>({...u}));return c.sort((u,d)=>{for(let g=0;g<i.length;g+=1){var f;const m=i[g],p=s[m.id],v=(f=m==null?void 0:m.desc)!=null?f:!1;let S=0;if(p.sortUndefined){const y=u.getValue(m.id),b=d.getValue(m.id),E=y===void 0,I=b===void 0;(E||I)&&(S=E&&I?0:E?p.sortUndefined:-p.sortUndefined)}if(S===0&&(S=p.sortingFn(u,d,m.id)),S!==0)return v&&(S*=-1),p.invertSorting&&(S*=-1),S}return u.index-d.index}),c.forEach(u=>{var d;o.push(u),(d=u.subRows)!=null&&d.length&&(u.subRows=a(u.subRows))}),c};return{rows:a(t.rows),flatRows:o,rowsById:t.rowsById}},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Zn(){return e=>C(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(n,t,r)=>!t.rows.length||n!==!0&&!Object.keys(n??{}).length||!r?t:er(t),{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable}})}function er(e){const n=[],t=r=>{var o;n.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(t)};return e.rows.forEach(t),{rows:n,flatRows:e.flatRows,rowsById:e.rowsById}}/**
 * react-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ie(e,n){return e?tr(e)?D.createElement(e,n):e:null}function tr(e){return nr(e)||typeof e=="function"||rr(e)}function nr(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function rr(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function or(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[t]=D.useState(()=>({current:Wn(n)})),[r,o]=D.useState(()=>t.current.initialState);return t.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:s=>{o(s),e.onStateChange==null||e.onStateChange(s)}})),t.current}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function se(){return se=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},se.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ae.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L(e,n,t){var r,o=(r=t.initialDeps)!=null?r:[],i;return function(){var s;t.key&&t.debug!=null&&t.debug()&&(s=Date.now());var a=e(),l=a.length!==o.length||a.some(function(m,p){return o[p]!==m});if(!l)return i;o=a;var c;if(t.key&&t.debug!=null&&t.debug()&&(c=Date.now()),i=n.apply(void 0,a),t.key&&t.debug!=null&&t.debug()){var u=Math.round((Date.now()-s)*100)/100,d=Math.round((Date.now()-c)*100)/100,f=d/16,g=function(p,v){for(p=String(p);p.length<v;)p=" "+p;return p};console.info("%câ± "+g(d,5)+" /"+g(u,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*f,120))+"deg 100% 31%);",t==null?void 0:t.key)}return t==null||t.onChange==null||t.onChange(i),i}}function Re(e,n){if(e===void 0)throw new Error("Unexpected undefined"+(n?": "+n:""));return e}var ir=function(n,t){return Math.abs(n-t)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sr=function(n){return n},ar=function(n){for(var t=Math.max(n.startIndex-n.overscan,0),r=Math.min(n.endIndex+n.overscan,n.count-1),o=[],i=t;i<=r;i++)o.push(i);return o},lr=function(n,t){var r=n.scrollElement;if(r){var o=function(a){var l=a.width,c=a.height;t({width:Math.round(l),height:Math.round(c)})};o(r.getBoundingClientRect());var i=new ResizeObserver(function(s){var a=s[0];if(a!=null&&a.borderBoxSize){var l=a.borderBoxSize[0];if(l){o({width:l.inlineSize,height:l.blockSize});return}}o(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),function(){i.unobserve(r)}}},ur=function(n,t){var r=n.scrollElement;if(r){var o=function(){t(r[n.options.horizontal?"scrollLeft":"scrollTop"])};return o(),r.addEventListener("scroll",o,{passive:!0}),function(){r.removeEventListener("scroll",o)}}},cr=function(n,t,r){if(t!=null&&t.borderBoxSize){var o=t.borderBoxSize[0];if(o){var i=Math.round(o[r.options.horizontal?"inlineSize":"blockSize"]);return i}}return Math.round(n.getBoundingClientRect()[r.options.horizontal?"width":"height"])},dr=function(n,t,r){var o,i,s=t.adjustments,a=s===void 0?0:s,l=t.behavior,c=n+a;(o=r.scrollElement)==null||o.scrollTo==null||o.scrollTo((i={},i[r.options.horizontal?"left":"top"]=c,i.behavior=l,i))},gr=function(n){var t=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,o=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(a){t._measureElement(a.target,a)})}):null)};return{disconnect:function(){var s;return(s=o())==null?void 0:s.disconnect()},observe:function(s){var a;return(a=o())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:function(s){var a;return(a=o())==null?void 0:a.unobserve(s)}}}(),this.range=null,this.setOptions=function(r){Object.entries(r).forEach(function(o){var i=o[0],s=o[1];typeof s>"u"&&delete r[i]}),t.options=ae({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:sr,rangeExtractor:ar,onChange:function(){},measureElement:cr,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(r){t.options.onChange==null||t.options.onChange(t,r)},this.maybeNotify=L(function(){return t.calculateRange(),[t.isScrolling,t.range?t.range.startIndex:null,t.range?t.range.endIndex:null]},function(r){t.notify(r)},{key:!1,debug:function(){return t.options.debug},initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=function(){t.unsubs.filter(Boolean).forEach(function(r){return r()}),t.unsubs=[],t.scrollElement=null},this._didMount=function(){return t.measureElementCache.forEach(t.observer.observe),function(){t.observer.disconnect(),t.cleanup()}},this._willUpdate=function(){var r=t.options.getScrollElement();t.scrollElement!==r&&(t.cleanup(),t.scrollElement=r,t._scrollToOffset(t.scrollOffset,{adjustments:void 0,behavior:void 0}),t.unsubs.push(t.options.observeElementRect(t,function(o){t.scrollRect=o,t.maybeNotify()})),t.unsubs.push(t.options.observeElementOffset(t,function(o){t.scrollAdjustments=0,t.scrollOffset!==o&&(t.isScrollingTimeoutId!==null&&(clearTimeout(t.isScrollingTimeoutId),t.isScrollingTimeoutId=null),t.isScrolling=!0,t.scrollDirection=t.scrollOffset<o?"forward":"backward",t.scrollOffset=o,t.maybeNotify(),t.isScrollingTimeoutId=setTimeout(function(){t.isScrollingTimeoutId=null,t.isScrolling=!1,t.scrollDirection=null,t.maybeNotify()},t.options.scrollingDelay))})))},this.getSize=function(){return t.scrollRect[t.options.horizontal?"width":"height"]},this.memoOptions=L(function(){return[t.options.count,t.options.paddingStart,t.options.scrollMargin,t.options.getItemKey]},function(r,o,i,s){return t.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:i,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,o){for(var i=new Map,s=new Map,a=o-1;a>=0;a--){var l=r[a];if(!i.has(l.lane)){var c=s.get(l.lane);if(c==null||l.end>c.end?s.set(l.lane,l):l.end<c.end&&i.set(l.lane,!0),i.size===t.options.lanes)break}}return s.size===t.options.lanes?Array.from(s.values()).sort(function(u,d){return u.end-d.end})[0]:void 0},this.getMeasurements=L(function(){return[t.memoOptions(),t.itemSizeCache]},function(r,o){var i=r.count,s=r.paddingStart,a=r.scrollMargin,l=r.getItemKey,c=t.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,t.pendingMeasuredCacheIndexes):0;t.pendingMeasuredCacheIndexes=[];for(var u=t.measurementsCache.slice(0,c),d=c;d<i;d++){var f=l(d),g=t.options.lanes===1?u[d-1]:t.getFurthestMeasurement(u,d),m=g?g.end:s+a,p=o.get(f),v=typeof p=="number"?p:t.options.estimateSize(d),S=m+v,y=g?g.lane:d%t.options.lanes;u[d]={index:d,start:m,size:v,end:S,key:f,lane:y}}return t.measurementsCache=u,u},{key:!1,debug:function(){return t.options.debug}}),this.calculateRange=L(function(){return[t.getMeasurements(),t.getSize(),t.scrollOffset]},function(r,o,i){return t.range=r.length>0&&o>0?fr({measurements:r,outerSize:o,scrollOffset:i}):null},{key:!1,debug:function(){return t.options.debug}}),this.getIndexes=L(function(){return[t.options.rangeExtractor,t.calculateRange(),t.options.overscan,t.options.count]},function(r,o,i,s){return o===null?[]:r(ae({},o,{overscan:i,count:s}))},{key:!1,debug:function(){return t.options.debug}}),this.indexFromElement=function(r){var o=t.options.indexAttribute,i=r.getAttribute(o);return i?parseInt(i,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(r,o){var i=t.measurementsCache[t.indexFromElement(r)];if(!i||!r.isConnected){t.measureElementCache.forEach(function(l,c){l===r&&(t.observer.unobserve(r),t.measureElementCache.delete(c))});return}var s=t.measureElementCache.get(i.key);s!==r&&(s&&t.observer.unobserve(s),t.observer.observe(r),t.measureElementCache.set(i.key,r));var a=t.options.measureElement(r,o,t);t.resizeItem(i,a)},this.resizeItem=function(r,o){var i,s=(i=t.itemSizeCache.get(r.key))!=null?i:r.size,a=o-s;a!==0&&(r.start<t.scrollOffset&&t._scrollToOffset(t.scrollOffset,{adjustments:t.scrollAdjustments+=a,behavior:void 0}),t.pendingMeasuredCacheIndexes.push(r.index),t.itemSizeCache=new Map(t.itemSizeCache.set(r.key,o)),t.notify(!1))},this.measureElement=function(r){r&&t._measureElement(r,void 0)},this.getVirtualItems=L(function(){return[t.getIndexes(),t.getMeasurements()]},function(r,o){for(var i=[],s=0,a=r.length;s<a;s++){var l=r[s],c=o[l];i.push(c)}return i},{key:!1,debug:function(){return t.options.debug}}),this.getVirtualItemForOffset=function(r){var o=t.getMeasurements();return Re(o[Vt(0,o.length-1,function(i){return Re(o[i]).start},r)])},this.getOffsetForAlignment=function(r,o){var i=t.getSize();o==="auto"&&(r<=t.scrollOffset?o="start":r>=t.scrollOffset+i?o="end":o="start"),o==="start"?r=r:o==="end"?r=r-i:o==="center"&&(r=r-i/2);var s=t.options.horizontal?"scrollWidth":"scrollHeight",a=t.scrollElement?"document"in t.scrollElement?t.scrollElement.document.documentElement[s]:t.scrollElement[s]:0,l=a-t.getSize();return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=function(r,o){o===void 0&&(o="auto"),r=Math.max(0,Math.min(r,t.options.count-1));var i=Re(t.getMeasurements()[r]);if(o==="auto")if(i.end>=t.scrollOffset+t.getSize()-t.options.scrollPaddingEnd)o="end";else if(i.start<=t.scrollOffset+t.options.scrollPaddingStart)o="start";else return[t.scrollOffset,o];var s=o==="end"?i.end+t.options.scrollPaddingEnd:i.start-t.options.scrollPaddingStart;return[t.getOffsetForAlignment(s,o),o]},this.isDynamicMode=function(){return t.measureElementCache.size>0},this.cancelScrollToIndex=function(){t.scrollToIndexTimeoutId!==null&&(clearTimeout(t.scrollToIndexTimeoutId),t.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"start":s,l=i.behavior;t.cancelScrollToIndex(),l==="smooth"&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t._scrollToOffset(t.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:l})},this.scrollToIndex=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"auto":s,l=i.behavior;r=Math.max(0,Math.min(r,t.options.count-1)),t.cancelScrollToIndex(),l==="smooth"&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var c=t.getOffsetForIndex(r,a),u=c[0],d=c[1];t._scrollToOffset(u,{adjustments:void 0,behavior:l}),l!=="smooth"&&t.isDynamicMode()&&(t.scrollToIndexTimeoutId=setTimeout(function(){t.scrollToIndexTimeoutId=null;var f=t.measureElementCache.has(t.options.getItemKey(r));if(f){var g=t.getOffsetForIndex(r,d),m=g[0];ir(m,t.scrollOffset)||t.scrollToIndex(r,{align:d,behavior:l})}else t.scrollToIndex(r,{align:d,behavior:l})}))},this.scrollBy=function(r,o){var i=o===void 0?{}:o,s=i.behavior;t.cancelScrollToIndex(),s==="smooth"&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t._scrollToOffset(t.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=t.getMeasurements()[t.options.count-1])==null?void 0:r.end)||t.options.paddingStart)-t.options.scrollMargin+t.options.paddingEnd},this._scrollToOffset=function(r,o){var i=o.adjustments,s=o.behavior;t.options.scrollToFn(r,{behavior:s,adjustments:i},t)},this.measure=function(){t.itemSizeCache=new Map,t.notify(!1)},this.setOptions(n),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){t.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},Vt=function(n,t,r,o){for(;n<=t;){var i=(n+t)/2|0,s=r(i);if(s<o)n=i+1;else if(s>o)t=i-1;else return i}return n>0?n-1:0};function fr(e){for(var n=e.measurements,t=e.outerSize,r=e.scrollOffset,o=n.length-1,i=function(c){return n[c].start},s=Vt(0,o,i,r),a=s;a<o&&n[a].end<r+t;)a++;return{startIndex:s,endIndex:a}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pr=typeof document<"u"?D.useLayoutEffect:D.useEffect;function hr(e){var n=D.useReducer(function(){return{}},{})[1],t=se({},e,{onChange:function(s,a){a?un.flushSync(n):n(),e.onChange==null||e.onChange(s,a)}}),r=D.useState(function(){return new gr(t)}),o=r[0];return o.setOptions(t),D.useEffect(function(){return o._didMount()},[]),pr(function(){return o._willUpdate()}),o}function mr(e){return hr(se({observeElementRect:lr,observeElementOffset:ur,scrollToFn:dr},e))}const Lt=D.createContext({dragDropManager:void 0});function O(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var tt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ee=function(){return Math.random().toString(36).substring(7).split("").join(".")},nt={INIT:"@@redux/INIT"+Ee(),REPLACE:"@@redux/REPLACE"+Ee(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ee()}};function vr(e){if(typeof e!="object"||e===null)return!1;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function zt(e,n,t){var r;if(typeof n=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(O(0));if(typeof n=="function"&&typeof t>"u"&&(t=n,n=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(O(1));return t(zt)(e,n)}if(typeof e!="function")throw new Error(O(2));var o=e,i=n,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(O(3));return i}function d(p){if(typeof p!="function")throw new Error(O(4));if(l)throw new Error(O(5));var v=!0;return c(),a.push(p),function(){if(v){if(l)throw new Error(O(6));v=!1,c();var y=a.indexOf(p);a.splice(y,1),s=null}}}function f(p){if(!vr(p))throw new Error(O(7));if(typeof p.type>"u")throw new Error(O(8));if(l)throw new Error(O(9));try{l=!0,i=o(i,p)}finally{l=!1}for(var v=s=a,S=0;S<v.length;S++){var y=v[S];y()}return p}function g(p){if(typeof p!="function")throw new Error(O(10));o=p,f({type:nt.REPLACE})}function m(){var p,v=d;return p={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(O(11));function b(){y.next&&y.next(u())}b();var E=v(b);return{unsubscribe:E}}},p[tt]=function(){return this},p}return f({type:nt.INIT}),r={dispatch:f,subscribe:d,getState:u,replaceReducer:g},r[tt]=m,r}function w(e,n,...t){if(Sr()&&n===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(n===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;r=new Error(n.replace(/%s/g,function(){return t[o++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function Sr(){return typeof process<"u"&&!0}function Cr(e,n,t){return n.split(".").reduce((r,o)=>r&&r[o]?r[o]:t||null,e)}function wr(e,n){return e.filter(t=>t!==n)}function jt(e){return typeof e=="object"}function Dr(e,n){const t=new Map,r=i=>{t.set(i,t.has(i)?t.get(i)+1:1)};e.forEach(r),n.forEach(r);const o=[];return t.forEach((i,s)=>{i===1&&o.push(s)}),o}function yr(e,n){return e.filter(t=>n.indexOf(t)>-1)}const qe="dnd-core/INIT_COORDS",ue="dnd-core/BEGIN_DRAG",Ue="dnd-core/PUBLISH_DRAG_SOURCE",ce="dnd-core/HOVER",de="dnd-core/DROP",ge="dnd-core/END_DRAG";function rt(e,n){return{type:qe,payload:{sourceClientOffset:n||null,clientOffset:e||null}}}const br={type:qe,payload:{clientOffset:null,sourceClientOffset:null}};function Rr(e){return function(t=[],r={publishSource:!0}){const{publishSource:o=!0,clientOffset:i,getSourceClientOffset:s}=r,a=e.getMonitor(),l=e.getRegistry();e.dispatch(rt(i)),Er(t,a,l);const c=xr(t,a);if(c==null){e.dispatch(br);return}let u=null;if(i){if(!s)throw new Error("getSourceClientOffset must be defined");Ir(s),u=s(c)}e.dispatch(rt(i,u));const f=l.getSource(c).beginDrag(a,c);if(f==null)return;Tr(f),l.pinSource(c);const g=l.getSourceType(c);return{type:ue,payload:{itemType:g,item:f,sourceId:c,clientOffset:i||null,sourceClientOffset:u||null,isSourcePublic:!!o}}}}function Er(e,n,t){w(!n.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){w(t.getSource(r),"Expected sourceIds to be registered.")})}function Ir(e){w(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Tr(e){w(jt(e),"Item must be an object.")}function xr(e,n){let t=null;for(let r=e.length-1;r>=0;r--)if(n.canDragSource(e[r])){t=e[r];break}return t}function Or(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _r(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.forEach(function(o){Or(e,o,t[o])})}return e}function Mr(e){return function(t={}){const r=e.getMonitor(),o=e.getRegistry();Pr(r),Ar(r).forEach((s,a)=>{const l=$r(s,a,o,r),c={type:de,payload:{dropResult:_r({},t,l)}};e.dispatch(c)})}}function Pr(e){w(e.isDragging(),"Cannot call drop while not dragging."),w(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function $r(e,n,t,r){const o=t.getTarget(e);let i=o?o.drop(r,e):void 0;return Fr(i),typeof i>"u"&&(i=n===0?{}:r.getDropResult()),i}function Fr(e){w(typeof e>"u"||jt(e),"Drop result must either be an object or undefined.")}function Ar(e){const n=e.getTargetIds().filter(e.canDropOnTarget,e);return n.reverse(),n}function Nr(e){return function(){const t=e.getMonitor(),r=e.getRegistry();Hr(t);const o=t.getSourceId();return o!=null&&(r.getSource(o,!0).endDrag(t,o),r.unpinSource()),{type:ge}}}function Hr(e){w(e.isDragging(),"Cannot call endDrag while not dragging.")}function Ne(e,n){return n===null?e===null:Array.isArray(e)?e.some(t=>t===n):e===n}function Vr(e){return function(t,{clientOffset:r}={}){Lr(t);const o=t.slice(0),i=e.getMonitor(),s=e.getRegistry(),a=i.getItemType();return jr(o,s,a),zr(o,i,s),kr(o,i,s),{type:ce,payload:{targetIds:o,clientOffset:r||null}}}}function Lr(e){w(Array.isArray(e),"Expected targetIds to be an array.")}function zr(e,n,t){w(n.isDragging(),"Cannot call hover while not dragging."),w(!n.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const o=e[r];w(e.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array.");const i=t.getTarget(o);w(i,"Expected targetIds to be registered.")}}function jr(e,n,t){for(let r=e.length-1;r>=0;r--){const o=e[r],i=n.getTargetType(o);Ne(i,t)||e.splice(r,1)}}function kr(e,n,t){e.forEach(function(r){t.getTarget(r).hover(n,r)})}function Gr(e){return function(){if(e.getMonitor().isDragging())return{type:Ue}}}function Br(e){return{beginDrag:Rr(e),publishDragSource:Gr(e),hover:Vr(e),drop:Mr(e),endDrag:Nr(e)}}class qr{receiveBackend(n){this.backend=n}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const n=this,{dispatch:t}=this.store;function r(i){return(...s)=>{const a=i.apply(n,s);typeof a<"u"&&t(a)}}const o=Br(this);return Object.keys(o).reduce((i,s)=>{const a=o[s];return i[s]=r(a),i},{})}dispatch(n){this.store.dispatch(n)}constructor(n,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=n,this.monitor=t,n.subscribe(this.handleRefCountChange)}}function Ur(e,n){return{x:e.x+n.x,y:e.y+n.y}}function kt(e,n){return{x:e.x-n.x,y:e.y-n.y}}function Xr(e){const{clientOffset:n,initialClientOffset:t,initialSourceClientOffset:r}=e;return!n||!t||!r?null:kt(Ur(n,r),t)}function Wr(e){const{clientOffset:n,initialClientOffset:t}=e;return!n||!t?null:kt(n,t)}const W=[],Xe=[];W.__IS_NONE__=!0;Xe.__IS_ALL__=!0;function Kr(e,n){return e===W?!1:e===Xe||typeof n>"u"?!0:yr(n,e).length>0}class Yr{subscribeToStateChange(n,t={}){const{handlerIds:r}=t;w(typeof n=="function","listener must be a function."),w(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const i=()=>{const s=this.store.getState(),a=s.stateId;try{a===o||a===o+1&&!Kr(s.dirtyHandlerIds,r)||n()}finally{o=a}};return this.store.subscribe(i)}subscribeToOffsetChange(n){w(typeof n=="function","listener must be a function.");let t=this.store.getState().dragOffset;const r=()=>{const o=this.store.getState().dragOffset;o!==t&&(t=o,n())};return this.store.subscribe(r)}canDragSource(n){if(!n)return!1;const t=this.registry.getSource(n);return w(t,`Expected to find a valid source. sourceId=${n}`),this.isDragging()?!1:t.canDrag(this,n)}canDropOnTarget(n){if(!n)return!1;const t=this.registry.getTarget(n);if(w(t,`Expected to find a valid target. targetId=${n}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(n),o=this.getItemType();return Ne(r,o)&&t.canDrop(this,n)}isDragging(){return!!this.getItemType()}isDraggingSource(n){if(!n)return!1;const t=this.registry.getSource(n,!0);if(w(t,`Expected to find a valid source. sourceId=${n}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(n),o=this.getItemType();return r!==o?!1:t.isDragging(this,n)}isOverTarget(n,t={shallow:!1}){if(!n)return!1;const{shallow:r}=t;if(!this.isDragging())return!1;const o=this.registry.getTargetType(n),i=this.getItemType();if(i&&!Ne(o,i))return!1;const s=this.getTargetIds();if(!s.length)return!1;const a=s.indexOf(n);return r?a===s.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Xr(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Wr(this.store.getState().dragOffset)}constructor(n,t){this.store=n,this.registry=t}}const ot=typeof global<"u"?global:self,Gt=ot.MutationObserver||ot.WebKitMutationObserver;function Bt(e){return function(){const t=setTimeout(o,0),r=setInterval(o,50);function o(){clearTimeout(t),clearInterval(r),e()}}}function Qr(e){let n=1;const t=new Gt(e),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){n=-n,r.data=n}}const Jr=typeof Gt=="function"?Qr:Bt;class Zr{enqueueTask(n){const{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=n}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:n}=this;for(;this.index<n.length;){const t=this.index;if(this.index++,n[t].call(),this.index>this.capacity){for(let r=0,o=n.length-this.index;r<o;r++)n[r]=n[r+this.index];n.length-=this.index,this.index=0}}n.length=0,this.index=0,this.flushing=!1},this.registerPendingError=n=>{this.pendingErrors.push(n),this.requestErrorThrow()},this.requestFlush=Jr(this.flush),this.requestErrorThrow=Bt(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class eo{call(){try{this.task&&this.task()}catch(n){this.onError(n)}finally{this.task=null,this.release(this)}}constructor(n,t){this.onError=n,this.release=t,this.task=null}}class to{create(n){const t=this.freeTasks,r=t.length?t.pop():new eo(this.onError,o=>t[t.length]=o);return r.task=n,r}constructor(n){this.onError=n,this.freeTasks=[]}}const qt=new Zr,no=new to(qt.registerPendingError);function ro(e){qt.enqueueTask(no.create(e))}const We="dnd-core/ADD_SOURCE",Ke="dnd-core/ADD_TARGET",Ye="dnd-core/REMOVE_SOURCE",fe="dnd-core/REMOVE_TARGET";function oo(e){return{type:We,payload:{sourceId:e}}}function io(e){return{type:Ke,payload:{targetId:e}}}function so(e){return{type:Ye,payload:{sourceId:e}}}function ao(e){return{type:fe,payload:{targetId:e}}}function lo(e){w(typeof e.canDrag=="function","Expected canDrag to be a function."),w(typeof e.beginDrag=="function","Expected beginDrag to be a function."),w(typeof e.endDrag=="function","Expected endDrag to be a function.")}function uo(e){w(typeof e.canDrop=="function","Expected canDrop to be a function."),w(typeof e.hover=="function","Expected hover to be a function."),w(typeof e.drop=="function","Expected beginDrag to be a function.")}function He(e,n){if(n&&Array.isArray(e)){e.forEach(t=>He(t,!1));return}w(typeof e=="string"||typeof e=="symbol",n?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var _;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(_||(_={}));let co=0;function go(){return co++}function fo(e){const n=go().toString();switch(e){case _.SOURCE:return`S${n}`;case _.TARGET:return`T${n}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function it(e){switch(e[0]){case"S":return _.SOURCE;case"T":return _.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function st(e,n){const t=e.entries();let r=!1;do{const{done:o,value:[,i]}=t.next();if(i===n)return!0;r=!!o}while(!r);return!1}class po{addSource(n,t){He(n),lo(t);const r=this.addHandler(_.SOURCE,n,t);return this.store.dispatch(oo(r)),r}addTarget(n,t){He(n,!0),uo(t);const r=this.addHandler(_.TARGET,n,t);return this.store.dispatch(io(r)),r}containsHandler(n){return st(this.dragSources,n)||st(this.dropTargets,n)}getSource(n,t=!1){return w(this.isSourceId(n),"Expected a valid source ID."),t&&n===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(n)}getTarget(n){return w(this.isTargetId(n),"Expected a valid target ID."),this.dropTargets.get(n)}getSourceType(n){return w(this.isSourceId(n),"Expected a valid source ID."),this.types.get(n)}getTargetType(n){return w(this.isTargetId(n),"Expected a valid target ID."),this.types.get(n)}isSourceId(n){return it(n)===_.SOURCE}isTargetId(n){return it(n)===_.TARGET}removeSource(n){w(this.getSource(n),"Expected an existing source."),this.store.dispatch(so(n)),ro(()=>{this.dragSources.delete(n),this.types.delete(n)})}removeTarget(n){w(this.getTarget(n),"Expected an existing target."),this.store.dispatch(ao(n)),this.dropTargets.delete(n),this.types.delete(n)}pinSource(n){const t=this.getSource(n);w(t,"Expected an existing source."),this.pinnedSourceId=n,this.pinnedSource=t}unpinSource(){w(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(n,t,r){const o=fo(n);return this.types.set(o,t),n===_.SOURCE?this.dragSources.set(o,r):n===_.TARGET&&this.dropTargets.set(o,r),o}constructor(n){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=n}}const ho=(e,n)=>e===n;function mo(e,n){return!e&&!n?!0:!e||!n?!1:e.x===n.x&&e.y===n.y}function vo(e,n,t=ho){if(e.length!==n.length)return!1;for(let r=0;r<e.length;++r)if(!t(e[r],n[r]))return!1;return!0}function So(e=W,n){switch(n.type){case ce:break;case We:case Ke:case fe:case Ye:return W;case ue:case Ue:case ge:case de:default:return Xe}const{targetIds:t=[],prevTargetIds:r=[]}=n.payload,o=Dr(t,r);if(!(o.length>0||!vo(t,r)))return W;const s=r[r.length-1],a=t[t.length-1];return s!==a&&(s&&o.push(s),a&&o.push(a)),o}function Co(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function wo(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.forEach(function(o){Co(e,o,t[o])})}return e}const at={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Do(e=at,n){const{payload:t}=n;switch(n.type){case qe:case ue:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case ce:return mo(e.clientOffset,t.clientOffset)?e:wo({},e,{clientOffset:t.clientOffset});case ge:case de:return at;default:return e}}function yo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function z(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.forEach(function(o){yo(e,o,t[o])})}return e}const bo={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Ro(e=bo,n){const{payload:t}=n;switch(n.type){case ue:return z({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case Ue:return z({},e,{isSourcePublic:!0});case ce:return z({},e,{targetIds:t.targetIds});case fe:return e.targetIds.indexOf(t.targetId)===-1?e:z({},e,{targetIds:wr(e.targetIds,t.targetId)});case de:return z({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case ge:return z({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Eo(e=0,n){switch(n.type){case We:case Ke:return e+1;case Ye:case fe:return e-1;default:return e}}function Io(e=0){return e+1}function To(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function xo(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.forEach(function(o){To(e,o,t[o])})}return e}function Oo(e={},n){return{dirtyHandlerIds:So(e.dirtyHandlerIds,{type:n.type,payload:xo({},n.payload,{prevTargetIds:Cr(e,"dragOperation.targetIds",[])})}),dragOffset:Do(e.dragOffset,n),refCount:Eo(e.refCount,n),dragOperation:Ro(e.dragOperation,n),stateId:Io(e.stateId)}}function _o(e,n=void 0,t={},r=!1){const o=Mo(r),i=new Yr(o,new po(o)),s=new qr(o,i),a=e(s,n,t);return s.receiveBackend(a),s}function Mo(e){const n=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return zt(Oo,e&&n&&n({name:"dnd-core",instanceId:"dnd-core"}))}function Po(e,n){if(e==null)return{};var t=$o(e,n),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function $o(e,n){if(e==null)return{};var t={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(n.indexOf(o)>=0)&&(t[o]=e[o]);return t}let lt=0;const re=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Fo=D.memo(function(n){var{children:t}=n,r=Po(n,["children"]);const[o,i]=Ao(r);return D.useEffect(()=>{if(i){const s=Ut();return++lt,()=>{--lt===0&&(s[re]=null)}}},[]),h.jsx(Lt.Provider,{value:o,children:t})});function Ao(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const n=No(e.backend,e.context,e.options,e.debugMode),t=!e.context;return[n,t]}function No(e,n=Ut(),t,r){const o=n;return o[re]||(o[re]={dragDropManager:_o(e,n,t,r)}),o[re]}function Ut(){return typeof global<"u"?global:window}var Ho=function e(n,t){if(n===t)return!0;if(n&&t&&typeof n=="object"&&typeof t=="object"){if(n.constructor!==t.constructor)return!1;var r,o,i;if(Array.isArray(n)){if(r=n.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!e(n[o],t[o]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();if(i=Object.keys(n),r=i.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[o]))return!1;for(o=r;o--!==0;){var s=i[o];if(!e(n[s],t[s]))return!1}return!0}return n!==n&&t!==t};const Vo=ln(Ho),H=typeof window<"u"?D.useLayoutEffect:D.useEffect;function Lo(e,n,t){const[r,o]=D.useState(()=>n(e)),i=D.useCallback(()=>{const s=n(e);Vo(r,s)||(o(s),t&&t())},[r,e,t]);return H(i),[r,i]}function zo(e,n,t){const[r,o]=Lo(e,n,t);return H(function(){const s=e.getHandlerId();if(s!=null)return e.subscribeToStateChange(o,{handlerIds:[s]})},[e,o]),r}function Xt(e,n,t){return zo(n,e||(()=>({})),()=>t.reconnect())}function Wt(e,n){const t=[...n||[]];return n==null&&typeof e!="function"&&t.push(e),D.useMemo(()=>typeof e=="function"?e():e,t)}function jo(e){return D.useMemo(()=>e.hooks.dragSource(),[e])}function ko(e){return D.useMemo(()=>e.hooks.dragPreview(),[e])}let Ie=!1,Te=!1;class Go{receiveHandlerId(n){this.sourceId=n}getHandlerId(){return this.sourceId}canDrag(){w(!Ie,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ie=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Ie=!1}}isDragging(){if(!this.sourceId)return!1;w(!Te,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Te=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Te=!1}}subscribeToStateChange(n,t){return this.internalMonitor.subscribeToStateChange(n,t)}isDraggingSource(n){return this.internalMonitor.isDraggingSource(n)}isOverTarget(n,t){return this.internalMonitor.isOverTarget(n,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(n){return this.internalMonitor.subscribeToOffsetChange(n)}canDragSource(n){return this.internalMonitor.canDragSource(n)}canDropOnTarget(n){return this.internalMonitor.canDropOnTarget(n)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(n){this.sourceId=null,this.internalMonitor=n.getMonitor()}}let xe=!1;class Bo{receiveHandlerId(n){this.targetId=n}getHandlerId(){return this.targetId}subscribeToStateChange(n,t){return this.internalMonitor.subscribeToStateChange(n,t)}canDrop(){if(!this.targetId)return!1;w(!xe,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return xe=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{xe=!1}}isOver(n){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,n):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(n){this.targetId=null,this.internalMonitor=n.getMonitor()}}function qo(e,n,t){const r=t.getRegistry(),o=r.addTarget(e,n);return[o,()=>r.removeTarget(o)]}function Uo(e,n,t){const r=t.getRegistry(),o=r.addSource(e,n);return[o,()=>r.removeSource(o)]}function Ve(e,n,t,r){let o=t?t.call(r,e,n):void 0;if(o!==void 0)return!!o;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;const i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(n);for(let l=0;l<i.length;l++){const c=i[l];if(!a(c))return!1;const u=e[c],d=n[c];if(o=t?t.call(r,u,d,c):void 0,o===!1||o===void 0&&u!==d)return!1}return!0}function Le(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Xo(e){if(typeof e.type=="string")return;const n=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${n} into a <div>, or turn it into a drag source or a drop target itself.`)}function Wo(e){return(n=null,t=null)=>{if(!D.isValidElement(n)){const i=n;return e(i,t),i}const r=n;return Xo(r),Ko(r,t?i=>e(i,t):e)}}function Kt(e){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(t.endsWith("Ref"))n[t]=e[t];else{const o=Wo(r);n[t]=()=>o}}),n}function ut(e,n){typeof e=="function"?e(n):e.current=n}function Ko(e,n){const t=e.ref;return w(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?D.cloneElement(e,{ref:r=>{ut(t,r),ut(n,r)}}):D.cloneElement(e,{ref:n})}class Yo{receiveHandlerId(n){this.handlerId!==n&&(this.handlerId=n,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(n){this.dragSourceOptionsInternal=n}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(n){this.dragPreviewOptionsInternal=n}reconnect(){const n=this.reconnectDragSource();this.reconnectDragPreview(n)}reconnectDragSource(){const n=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?n?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=n,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,n,this.dragSourceOptions)),t):(this.lastConnectedDragSource=n,t):t}reconnectDragPreview(n=!1){const t=this.dragPreview,r=n||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Ve(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Ve(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(n){this.hooks=Kt({dragSource:(t,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Le(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Le(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=n}}class Qo{get connectTarget(){return this.dropTarget}reconnect(){const n=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();n&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(n){n!==this.handlerId&&(this.handlerId=n,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(n){this.dropTargetOptionsInternal=n}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Ve(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(n){this.hooks=Kt({dropTarget:(t,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Le(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=n}}function j(){const{dragDropManager:e}=D.useContext(Lt);return w(e!=null,"Expected drag drop context"),e}function Jo(e,n){const t=j(),r=D.useMemo(()=>new Yo(t.getBackend()),[t]);return H(()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource()),[r,e]),H(()=>(r.dragPreviewOptions=n||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,n]),r}function Zo(){const e=j();return D.useMemo(()=>new Go(e),[e])}class ei{beginDrag(){const n=this.spec,t=this.monitor;let r=null;return typeof n.item=="object"?r=n.item:typeof n.item=="function"?r=n.item(t):r={},r??null}canDrag(){const n=this.spec,t=this.monitor;return typeof n.canDrag=="boolean"?n.canDrag:typeof n.canDrag=="function"?n.canDrag(t):!0}isDragging(n,t){const r=this.spec,o=this.monitor,{isDragging:i}=r;return i?i(o):t===n.getSourceId()}endDrag(){const n=this.spec,t=this.monitor,r=this.connector,{end:o}=n;o&&o(t.getItem(),t),r.reconnect()}constructor(n,t,r){this.spec=n,this.monitor=t,this.connector=r}}function ti(e,n,t){const r=D.useMemo(()=>new ei(e,n,t),[n,t]);return D.useEffect(()=>{r.spec=e},[e]),r}function ni(e){return D.useMemo(()=>{const n=e.type;return w(n!=null,"spec.type must be defined"),n},[e])}function ri(e,n,t){const r=j(),o=ti(e,n,t),i=ni(e);H(function(){if(i!=null){const[a,l]=Uo(i,o,r);return n.receiveHandlerId(a),t.receiveHandlerId(a),l}},[r,n,t,o,i])}function oi(e,n){const t=Wt(e,n);w(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=Zo(),o=Jo(t.options,t.previewOptions);return ri(t,r,o),[Xt(t.collect,r,o),jo(o),ko(o)]}function ii(e){return D.useMemo(()=>e.hooks.dropTarget(),[e])}function si(e){const n=j(),t=D.useMemo(()=>new Qo(n.getBackend()),[n]);return H(()=>(t.dropTargetOptions=e||null,t.reconnect(),()=>t.disconnectDropTarget()),[e]),t}function ai(){const e=j();return D.useMemo(()=>new Bo(e),[e])}function li(e){const{accept:n}=e;return D.useMemo(()=>(w(e.accept!=null,"accept must be defined"),Array.isArray(n)?n:[n]),[n])}class ui{canDrop(){const n=this.spec,t=this.monitor;return n.canDrop?n.canDrop(t.getItem(),t):!0}hover(){const n=this.spec,t=this.monitor;n.hover&&n.hover(t.getItem(),t)}drop(){const n=this.spec,t=this.monitor;if(n.drop)return n.drop(t.getItem(),t)}constructor(n,t){this.spec=n,this.monitor=t}}function ci(e,n){const t=D.useMemo(()=>new ui(e,n),[n]);return D.useEffect(()=>{t.spec=e},[e]),t}function di(e,n,t){const r=j(),o=ci(e,n),i=li(e);H(function(){const[a,l]=qo(i,o,r);return n.receiveHandlerId(a),t.receiveHandlerId(a),l},[r,n,o,t,i.map(s=>s.toString()).join("|")])}function gi(e,n){const t=Wt(e,n),r=ai(),o=si(t.options);return di(t,r,o),[Xt(t.collect,r,o),ii(o)]}function Yt(e){let n=null;return()=>(n==null&&(n=e()),n)}function fi(e,n){return e.filter(t=>t!==n)}function pi(e,n){const t=new Set,r=i=>t.add(i);e.forEach(r),n.forEach(r);const o=[];return t.forEach(i=>o.push(i)),o}class hi{enter(n){const t=this.entered.length,r=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(n));return this.entered=pi(this.entered.filter(r),[n]),t===0&&this.entered.length>0}leave(n){const t=this.entered.length;return this.entered=fi(this.entered.filter(this.isNodeInDocument),n),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(n){this.entered=[],this.isNodeInDocument=n}}class mi{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(n=>{Object.defineProperty(this.item,n,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${n}" until the drop event.`),null}})})}loadDataTransfer(n){if(n){const t={};Object.keys(this.config.exposeProperties).forEach(r=>{const o=this.config.exposeProperties[r];o!=null&&(t[r]={value:o(n,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(n,t){return t===n.getSourceId()}endDrag(){}constructor(n){this.config=n,this.item={},this.initializeExposedProperties()}}const Qt="__NATIVE_FILE__",Jt="__NATIVE_URL__",Zt="__NATIVE_TEXT__",en="__NATIVE_HTML__",ct=Object.freeze(Object.defineProperty({__proto__:null,FILE:Qt,HTML:en,TEXT:Zt,URL:Jt},Symbol.toStringTag,{value:"Module"}));function Oe(e,n,t){const r=n.reduce((o,i)=>o||e.getData(i),"");return r??t}const ze={[Qt]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[en]:{exposeProperties:{html:(e,n)=>Oe(e,n,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Jt]:{exposeProperties:{urls:(e,n)=>Oe(e,n,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Zt]:{exposeProperties:{text:(e,n)=>Oe(e,n,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function vi(e,n){const t=ze[e];if(!t)throw new Error(`native type ${e} has no configuration`);const r=new mi(t);return r.loadDataTransfer(n),r}function _e(e){if(!e)return null;const n=Array.prototype.slice.call(e.types||[]);return Object.keys(ze).filter(t=>{const r=ze[t];return r!=null&&r.matchesTypes?r.matchesTypes.some(o=>n.indexOf(o)>-1):!1})[0]||null}const Si=Yt(()=>/firefox/i.test(navigator.userAgent)),tn=Yt(()=>!!window.safari);class dt{interpolate(n){const{xs:t,ys:r,c1s:o,c2s:i,c3s:s}=this;let a=t.length-1;if(n===t[a])return r[a];let l=0,c=s.length-1,u;for(;l<=c;){u=Math.floor(.5*(l+c));const g=t[u];if(g<n)l=u+1;else if(g>n)c=u-1;else return r[u]}a=Math.max(0,c);const d=n-t[a],f=d*d;return r[a]+o[a]*d+i[a]*f+s[a]*d*f}constructor(n,t){const{length:r}=n,o=[];for(let g=0;g<r;g++)o.push(g);o.sort((g,m)=>n[g]<n[m]?-1:1);const i=[],s=[];let a,l;for(let g=0;g<r-1;g++)a=n[g+1]-n[g],l=t[g+1]-t[g],i.push(a),s.push(l/a);const c=[s[0]];for(let g=0;g<i.length-1;g++){const m=s[g],p=s[g+1];if(m*p<=0)c.push(0);else{a=i[g];const v=i[g+1],S=a+v;c.push(3*S/((S+v)/m+(S+a)/p))}}c.push(s[s.length-1]);const u=[],d=[];let f;for(let g=0;g<c.length-1;g++){f=s[g];const m=c[g],p=1/i[g],v=m+c[g+1]-f-f;u.push((f-m-v)*p),d.push(v*p*p)}this.xs=n,this.ys=t,this.c1s=c,this.c2s=u,this.c3s=d}}const Ci=1;function nn(e){const n=e.nodeType===Ci?e:e.parentElement;if(!n)return null;const{top:t,left:r}=n.getBoundingClientRect();return{x:r,y:t}}function te(e){return{x:e.clientX,y:e.clientY}}function wi(e){var n;return e.nodeName==="IMG"&&(Si()||!(!((n=document.documentElement)===null||n===void 0)&&n.contains(e)))}function Di(e,n,t,r){let o=e?n.width:t,i=e?n.height:r;return tn()&&e&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}function yi(e,n,t,r,o){const i=wi(n),a=nn(i?e:n),l={x:t.x-a.x,y:t.y-a.y},{offsetWidth:c,offsetHeight:u}=e,{anchorX:d,anchorY:f}=r,{dragPreviewWidth:g,dragPreviewHeight:m}=Di(i,n,c,u),p=()=>{let F=new dt([0,.5,1],[l.y,l.y/u*m,l.y+m-u]).interpolate(f);return tn()&&i&&(F+=(window.devicePixelRatio-1)*m),F},v=()=>new dt([0,.5,1],[l.x,l.x/c*g,l.x+g-c]).interpolate(d),{offsetX:S,offsetY:y}=o,b=S===0||S,E=y===0||y;return{x:b?S:v(),y:E?y:p()}}class bi{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var n;return!((n=this.globalContext)===null||n===void 0)&&n.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var n;return((n=this.optionsArgs)===null||n===void 0?void 0:n.rootElement)||this.window}constructor(n,t){this.ownerDocument=null,this.globalContext=n,this.optionsArgs=t}}function Ri(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function gt(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.forEach(function(o){Ri(e,o,t[o])})}return e}class Ei{profile(){var n,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((n=this.dragStartSourceIds)===null||n===void 0?void 0:n.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const n=this.rootElement;if(n!==void 0){if(n.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");n.__isReactDndBackendSetUp=!0,this.addEventListeners(n)}}teardown(){const n=this.rootElement;if(n!==void 0&&(n.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(n,t,r){return this.sourcePreviewNodeOptions.set(n,r),this.sourcePreviewNodes.set(n,t),()=>{this.sourcePreviewNodes.delete(n),this.sourcePreviewNodeOptions.delete(n)}}connectDragSource(n,t,r){this.sourceNodes.set(n,t),this.sourceNodeOptions.set(n,r);const o=s=>this.handleDragStart(s,n),i=s=>this.handleSelectStart(s);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(n),this.sourceNodeOptions.delete(n),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}connectDropTarget(n,t){const r=s=>this.handleDragEnter(s,n),o=s=>this.handleDragOver(s,n),i=s=>this.handleDrop(s,n);return t.addEventListener("dragenter",r),t.addEventListener("dragover",o),t.addEventListener("drop",i),()=>{t.removeEventListener("dragenter",r),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}}addEventListeners(n){n.addEventListener&&(n.addEventListener("dragstart",this.handleTopDragStart),n.addEventListener("dragstart",this.handleTopDragStartCapture,!0),n.addEventListener("dragend",this.handleTopDragEndCapture,!0),n.addEventListener("dragenter",this.handleTopDragEnter),n.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.addEventListener("dragover",this.handleTopDragOver),n.addEventListener("dragover",this.handleTopDragOverCapture,!0),n.addEventListener("drop",this.handleTopDrop),n.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(n){n.removeEventListener&&(n.removeEventListener("dragstart",this.handleTopDragStart),n.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),n.removeEventListener("dragend",this.handleTopDragEndCapture,!0),n.removeEventListener("dragenter",this.handleTopDragEnter),n.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.removeEventListener("dragover",this.handleTopDragOver),n.removeEventListener("dragover",this.handleTopDragOverCapture,!0),n.removeEventListener("drop",this.handleTopDrop),n.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const n=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(n);return gt({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const n=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(n);return gt({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const n=this.monitor.getItemType();return Object.keys(ct).some(t=>ct[t]===n)}beginDragNativeItem(n,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=vi(n,t),this.currentNativeHandle=this.registry.addSource(n,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(n){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=n;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var n;(n=this.window)===null||n===void 0||n.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(n,t){n.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(n,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(n,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(n,t){this.dropTargetIds.unshift(t)}constructor(n,t,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const i=this.sourceNodes.get(o);return i&&nn(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const s=te(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:a}=o,l=_e(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const u=this.monitor.getSourceId(),d=this.sourceNodes.get(u),f=this.sourcePreviewNodes.get(u)||d;if(f){const{anchorX:g,anchorY:m,offsetX:p,offsetY:v}=this.getCurrentSourcePreviewNodeOptions(),b=yi(d,f,s,{anchorX:g,anchorY:m},{offsetX:p,offsetY:v});a.setDragImage(f,b.x,b.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:c}=this.getCurrentSourcePreviewNodeOptions();c?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(a&&!a.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:a}=o,l=_e(a);l&&this.beginDragNativeItem(l,a)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,i.length>0&&this.actions.hover(i,{clientOffset:te(o)}),i.some(a=>this.monitor.canDropOnTarget(a))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=te(o),this.scheduleHover(i),(i||[]).some(a=>this.monitor.canDropOnTarget(a))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;o.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}else _e(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:te(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const i=o.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(o.preventDefault(),i.dragDrop()))},this.options=new bi(t,r),this.actions=n.getActions(),this.monitor=n.getMonitor(),this.registry=n.getRegistry(),this.enterLeaveCounter=new hi(this.isNodeInDocument)}}const Ii=function(n,t,r){return new Ei(n,t,r)},Qe=({expanded:e,onClick:n})=>h.jsx(R.Body.Cell,{isTextContent:!1,className:"pr-0",children:h.jsx("button",{type:"button",className:"flex h-full w-full items-center justify-center",onClick:n,tabIndex:0,children:e?h.jsx(cn,{className:"fill-neutral-600"}):h.jsx(dn,{className:"fill-neutral-600"})})});Qe.__docgenInfo={description:"",methods:[],displayName:"ExpandableButtonCell",props:{onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},expanded:{required:!0,tsType:{name:"boolean"},description:""}}};const rn=({row:e,reorderRow:n,virtualMeasureRef:t,getExpandableContent:r})=>{const[,o]=gi({accept:"row",drop:f=>n(f.index,e.index)}),i=e.getIsExpanded(),s=e.getCanExpand(),[{isDragging:a},l,c]=oi({collect:f=>({isDragging:f.isDragging()}),item:()=>e,type:"row",isDragging:()=>(e.getIsExpanded()&&e.toggleExpanded(),!0)}),[u,...d]=e.getVisibleCells();return h.jsxs(D.Fragment,{children:[h.jsxs(R.Body.Row,{ref:c,isExpanded:i,className:a?"bg-abusix-neutral-100":void 0,children:[h.jsx(R.Body.Cell,{ref:o,children:h.jsx("button",{"aria-label":"Drag row",type:"button",ref:l,children:h.jsx(gn,{})})}),h.jsx(R.Body.Cell,{ref:t,children:ie(u.column.columnDef.cell,u.getContext())},u.id),d.map(f=>h.jsx(R.Body.Cell,{style:f.column.columnDef.meta,children:ie(f.column.columnDef.cell,f.getContext())},f.id)),s&&h.jsx(Qe,{onClick:()=>e.toggleExpanded(),expanded:i},`${e.id}-expandable-icon`)]}),s&&i&&r?h.jsxs(R.Body.Row,{children:[h.jsx(R.Body.Cell,{}),h.jsx(R.Body.Cell,{isTextContent:!1,colSpan:e.getVisibleCells().length+1,children:r(e,e.index)})]},`${e.id}-expandable-content`):null]},e.id)};rn.__docgenInfo={description:"",methods:[],displayName:"DraggableRow",props:{getExpandableContent:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: RowType<TableData>, index: number) => ReactNode",signature:{arguments:[{type:{name:"RowType",elements:[{name:"TableData"}],raw:"RowType<TableData>"},name:"row"},{type:{name:"number"},name:"index"}],return:{name:"ReactNode"}}},description:""},row:{required:!0,tsType:{name:"RowType",elements:[{name:"TableData"}],raw:"RowType<TableData>"},description:""},reorderRow:{required:!0,tsType:{name:"signature",type:"function",raw:"(draggedRowIndex: number, targetRowIndex: number) => void",signature:{arguments:[{type:{name:"number"},name:"draggedRowIndex"},{type:{name:"number"},name:"targetRowIndex"}],return:{name:"void"}}},description:""},virtualMeasureRef:{required:!1,tsType:{name:"Ref",elements:[{name:"HTMLTableCellElement"}],raw:"Ref<HTMLTableCellElement>"},description:""}}};const on=({direction:e})=>{const n="ml-1 w-3.5 fill-neutral-600",t=e==="asc"?h.jsx(fn,{className:n}):h.jsx(pn,{className:n});return h.jsx(h.Fragment,{children:t})};on.__docgenInfo={description:"",methods:[],displayName:"SortIndicator",props:{direction:{required:!0,tsType:{name:"union",raw:'"asc" | "desc"',elements:[{name:"literal",value:'"asc"'},{name:"literal",value:'"desc"'}]},description:""}}};const sn=({header:e})=>{const n=e.column.getCanSort(),t=n?e.column.getToggleSortingHandler():void 0,r=e.column.getIsSorted();return h.jsx(R.Header.Cell,{colSpan:e.colSpan,style:e.column.columnDef.meta,children:e.isPlaceholder?null:h.jsxs("div",{role:"button",tabIndex:-1,className:xt("inline-flex",e.column.getCanSort()?"cursor-pointer select-none":""),style:{textAlign:"inherit"},onKeyDown:t,onClick:t,children:[ie(e.column.columnDef.header,e.getContext()),n&&r?h.jsx(on,{direction:r}):null]})},e.id)};sn.__docgenInfo={description:"",methods:[],displayName:"HeaderCell",props:{header:{required:!0,tsType:{name:"Header",elements:[{name:"TableData"},{name:"unknown"}],raw:"Header<TableData, unknown>"},description:""}}};const an=({group:e,isDraggableColumnEnabled:n,isExpandableColumnEnabled:t})=>h.jsxs(R.Header.Row,{children:[n?h.jsx("th",{className:"w-16 bg-neutral-50"}):null,e.headers.map(r=>h.jsx(sn,{header:r},r.id)),t?h.jsx("th",{className:"w-16 bg-neutral-50"}):null]},e.id);an.__docgenInfo={description:"",methods:[],displayName:"VirtualizedHeaderGroup",props:{group:{required:!0,tsType:{name:"HeaderGroup",elements:[{name:"TableData"}],raw:"HeaderGroup<TableData>"},description:""},isDraggableColumnEnabled:{required:!1,tsType:{name:"boolean"},description:""},isExpandableColumnEnabled:{required:!1,tsType:{name:"boolean"},description:""}}};const pe=({isDraggableRowsEnabled:e=!1,isExpandableRowsEnabled:n=!1,getExpandableContent:t,data:r,showPlaceholder:o=!1,placeholder:i,columnDefs:s,virtualizerOptions:a={}})=>{const l=k.useRef(null),[c,u]=k.useState([...r]),[d,f]=k.useState([]),g=or({data:c,columns:s,state:{sorting:d},getRowCanExpand:()=>n,onSortingChange:f,getExpandedRowModel:n?Zn():void 0,getCoreRowModel:Qn(),getSortedRowModel:Jn()});k.useEffect(()=>{u(r)},[r]);const{rows:m}=g.getRowModel(),p=mr({count:m.length,getScrollElement:()=>l.current,estimateSize:()=>64,overscan:10,...a}),v=p.getVirtualItems(),S=v.length,y=m.length,b=S>0&&v[0].start||0,E=S>0?y-(v[S-1].end||0):0,I=(P,x)=>{c.splice(x,0,c.splice(P,1)[0]),u([...c])},F=g.getHeaderGroups().map(P=>h.jsx(an,{group:P,isDraggableColumnEnabled:e,isExpandableColumnEnabled:n},P.id)),he=v.map(P=>{const x=m[P.index],me=x.getIsExpanded();return e?h.jsx(rn,{row:x,virtualMeasureRef:p.measureElement,reorderRow:I,getExpandableContent:t},x.id):h.jsxs(k.Fragment,{children:[h.jsxs(R.Body.Row,{isExpanded:me,children:[x.getVisibleCells().map(Q=>h.jsx(R.Body.Cell,{style:Q.column.columnDef.meta,children:ie(Q.column.columnDef.cell,Q.getContext())},Q.id)),n?h.jsx(Qe,{onClick:()=>x.toggleExpanded(),expanded:me},`${x.id}-expandable-icon`):null]},x.id),me&&t?h.jsx(R.Body.Row,{children:h.jsx(R.Body.Cell,{colSpan:s.length,children:t(x,P.index)})},`${x.id}-expandable-content`):null]},x.id)});return h.jsx("div",{ref:l,className:xt("h-full overflow-y-auto rounded-lg border border-neutral-300 bg-neutral-0"),children:h.jsxs(R,{isContainerBordersShown:!1,height:r.length?p.getTotalSize():void 0,hasFixedTableLayout:!0,children:[h.jsx(R.Header,{children:F}),h.jsx(R.Body,{children:r.length&&!o?h.jsxs(h.Fragment,{children:[b>0?h.jsx("tr",{children:h.jsx(R.Body.Cell,{style:{height:`${b}px`}})}):null,he,E>0?h.jsx("tr",{children:h.jsx("td",{"aria-hidden":"true",style:{height:`${E}px`}})}):null]}):i})]})})},Y=({...e})=>h.jsx(Fo,{backend:Ii,children:h.jsx(pe,{isDraggableRowsEnabled:!0,...e})});pe.__docgenInfo={description:"",methods:[],displayName:"TableVirtualized",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"TableData"}],raw:"TableData[]"},description:""},columnDefs:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDef",elements:[{name:"TableData"},{name:"TableValue"}],raw:"ColumnDef<TableData, TableValue>"}],raw:"ColumnDef<TableData, TableValue>[]"},description:""},showPlaceholder:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},placeholder:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},isDraggableRowsEnabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isExpandableRowsEnabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},getExpandableContent:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: RowType<TableData>, index: number) => React.ReactNode",signature:{arguments:[{type:{name:"RowType",elements:[{name:"TableData"}],raw:"RowType<TableData>"},name:"row"},{type:{name:"number"},name:"index"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},virtualizerOptions:{required:!1,tsType:{name:"PartialKeys",elements:[{name:"VirtualizerOptions",elements:[{name:"HTMLDivElement"},{name:"Element"}],raw:"VirtualizerOptions<HTMLDivElement, Element>"},{name:"union",raw:`| "observeElementRect"
| "observeElementOffset"
| "scrollToFn"
| "count"
| "getScrollElement"
| "estimateSize"`,elements:[{name:"literal",value:'"observeElementRect"'},{name:"literal",value:'"observeElementOffset"'},{name:"literal",value:'"scrollToFn"'},{name:"literal",value:'"count"'},{name:"literal",value:'"getScrollElement"'},{name:"literal",value:'"estimateSize"'}]}],raw:`PartialKeys<
    VirtualizerOptions<HTMLDivElement, Element>,
    | "observeElementRect"
    | "observeElementOffset"
    | "scrollToFn"
    | "count"
    | "getScrollElement"
    | "estimateSize"
>`},description:"",defaultValue:{value:"{}",computed:!1}}}};Y.__docgenInfo={description:"",methods:[],displayName:"WithDragAndDrop",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"TableData"}],raw:"TableData[]"},description:""},columnDefs:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDef",elements:[{name:"TableData"},{name:"TableValue"}],raw:"ColumnDef<TableData, TableValue>"}],raw:"ColumnDef<TableData, TableValue>[]"},description:""},showPlaceholder:{required:!1,tsType:{name:"boolean"},description:""},placeholder:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},isDraggableRowsEnabled:{required:!1,tsType:{name:"boolean"},description:""},isExpandableRowsEnabled:{required:!1,tsType:{name:"boolean"},description:""},getExpandableContent:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: RowType<TableData>, index: number) => React.ReactNode",signature:{arguments:[{type:{name:"RowType",elements:[{name:"TableData"}],raw:"RowType<TableData>"},name:"row"},{type:{name:"number"},name:"index"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},virtualizerOptions:{required:!1,tsType:{name:"PartialKeys",elements:[{name:"VirtualizerOptions",elements:[{name:"HTMLDivElement"},{name:"Element"}],raw:"VirtualizerOptions<HTMLDivElement, Element>"},{name:"union",raw:`| "observeElementRect"
| "observeElementOffset"
| "scrollToFn"
| "count"
| "getScrollElement"
| "estimateSize"`,elements:[{name:"literal",value:'"observeElementRect"'},{name:"literal",value:'"observeElementOffset"'},{name:"literal",value:'"scrollToFn"'},{name:"literal",value:'"count"'},{name:"literal",value:'"getScrollElement"'},{name:"literal",value:'"estimateSize"'}]}],raw:`PartialKeys<
    VirtualizerOptions<HTMLDivElement, Element>,
    | "observeElementRect"
    | "observeElementOffset"
    | "scrollToFn"
    | "count"
    | "getScrollElement"
    | "estimateSize"
>`},description:""}}};const Vi={title:"Table / Virtualized",component:pe};function V(){const e=[];for(let n=0;n<20;n++){const t={name:`${n.toString()} name`,description:`${n.toString()} description`,price:n,action:`${n.toString()} action`};e.push(t)}return e}const Ti=()=>{const e=K(),n=D.useMemo(()=>V(),[]),[t,r]=D.useState(n),o=[e.accessor("name",{header:"Team Members",enableSorting:!0}),e.accessor("description",{header:"Description",enableSorting:!0})];return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h-[500px]",children:h.jsx(pe,{data:t,columnDefs:o,isExpandableRowsEnabled:!0,getExpandableContent:i=>h.jsx("p",{className:"paragraph-100",children:i.original.description})})}),h.jsx(je,{}),h.jsxs("p",{className:"paragraph-300 mb-8",children:["Entries: ",t.length.toLocaleString()]}),h.jsx(le,{variant:"primary",onClick:()=>r(V()),children:"Recreate Data"})]})},ne={render:()=>h.jsx(Ti,{})},B=()=>{const e=K(),n=D.useMemo(()=>V(),[]),[t,r]=D.useState(n),o=[e.accessor("name",{header:"Team Members",enableSorting:!0,meta:{width:"200px"}}),e.accessor("description",{header:"Description",enableSorting:!0}),e.accessor("action",{header:"Action",enableSorting:!1,meta:{textAlign:"right",width:80},cell:i=>h.jsx(mn,{onClick:()=>i.getValue(),Icon:hn,type:"danger"})})];return h.jsxs(h.Fragment,{children:[h.jsx(Y,{isDraggableRowsEnabled:!0,data:t,columnDefs:o}),h.jsx(je,{}),h.jsxs("p",{className:"paragraph-300 mb-8",children:["Entries: ",t.length.toLocaleString()]}),h.jsx(le,{variant:"primary",onClick:()=>r(V()),children:"Recreate Data"})]})},q=()=>{const e=K(),n=D.useMemo(()=>V(),[]),[t,r]=D.useState(n),o=[e.accessor("name",{header:"Team Members",enableSorting:!0,meta:{width:"200px"}}),e.accessor("description",{header:"Description",enableSorting:!0})];return h.jsxs(h.Fragment,{children:[h.jsx(Y,{isDraggableRowsEnabled:!0,isExpandableRowsEnabled:!0,getExpandableContent:i=>h.jsx("p",{className:"paragraph-100",children:i.original.description}),data:t,columnDefs:o}),h.jsx(je,{}),h.jsxs("p",{className:"paragraph-300 mb-8",children:["Entries: ",t.length.toLocaleString()]}),h.jsx(le,{variant:"primary",onClick:()=>r(V()),children:"Recreate Data"})]})},U=()=>{const e=K(),n=[],t=[e.accessor("name",{header:"Team Members",enableSorting:!0,meta:{width:"200px"}}),e.accessor("description",{header:"Description",enableSorting:!0})];return h.jsx(Y,{isDraggableRowsEnabled:!0,data:n,columnDefs:t,isExpandableRowsEnabled:!0,getExpandableContent:r=>h.jsx("p",{className:"paragraph-100",children:r.original.description}),placeholder:h.jsx(R.Body.EmptyPlaceholder,{title:"Empty table",description:"You have not added any items yet.",colSpan:t.length+1,children:h.jsx(le,{variant:"secondary",onClick:()=>alert("clicked"),children:"Add New Item"})})})},X=()=>{const e=K(),[n,t]=D.useState([]);D.useEffect(()=>{const o=setTimeout(()=>{t(V())},4e3);return()=>{clearTimeout(o)}},[]);const r=[e.accessor("name",{header:"Team Members",enableSorting:!0,meta:{width:"200px"}}),e.accessor("description",{header:"Description",enableSorting:!0})];return h.jsx("div",{className:"h-96 overflow-y-scroll",children:h.jsx(Y,{isDraggableRowsEnabled:!0,data:n,columnDefs:r,placeholder:h.jsx(R.Body.LoadingIndicator,{colSpan:r.length+1})})})};B.__docgenInfo={description:"",methods:[],displayName:"Draggable"};q.__docgenInfo={description:"",methods:[],displayName:"DraggableAndExpandable"};U.__docgenInfo={description:"",methods:[],displayName:"EmptyTable"};X.__docgenInfo={description:"",methods:[],displayName:"LoadingTable"};var ft,pt,ht;ne.parameters={...ne.parameters,docs:{...(ft=ne.parameters)==null?void 0:ft.docs,source:{originalSource:`{
  render: () => <DefaultStory />
}`,...(ht=(pt=ne.parameters)==null?void 0:pt.docs)==null?void 0:ht.source}}};var mt,vt,St;B.parameters={...B.parameters,docs:{...(mt=B.parameters)==null?void 0:mt.docs,source:{originalSource:`() => {
  const columnHelper = createColumnHelper<ExampleData>();
  const exampleData = useMemo(() => createExampleData(), []);
  const [data, setData] = useState<ExampleData[]>(exampleData);
  const columnDefs = [columnHelper.accessor("name", {
    header: "Team Members",
    enableSorting: true,
    meta: {
      width: "200px"
    }
  }), columnHelper.accessor("description", {
    header: "Description",
    enableSorting: true
  }), columnHelper.accessor("action", {
    header: "Action",
    enableSorting: false,
    meta: {
      textAlign: "right",
      width: 80
    },
    cell: row => <IconButton onClick={() => row.getValue()} Icon={TrashIcon} type="danger" />
  })];
  return <>
            <WithDragAndDrop<ExampleData> isDraggableRowsEnabled data={data} columnDefs={columnDefs} />

            <DividerLine />

            <p className="paragraph-300 mb-8">Entries: {data.length.toLocaleString()}</p>

            <Button variant="primary" onClick={() => setData(createExampleData())}>
                Recreate Data
            </Button>
        </>;
}`,...(St=(vt=B.parameters)==null?void 0:vt.docs)==null?void 0:St.source}}};var Ct,wt,Dt;q.parameters={...q.parameters,docs:{...(Ct=q.parameters)==null?void 0:Ct.docs,source:{originalSource:`() => {
  const columnHelper = createColumnHelper<ExampleData>();
  const exampleData = useMemo(() => createExampleData(), []);
  const [data, setData] = useState<ExampleData[]>(exampleData);
  const columnDefs = [columnHelper.accessor("name", {
    header: "Team Members",
    enableSorting: true,
    meta: {
      width: "200px"
    }
  }), columnHelper.accessor("description", {
    header: "Description",
    enableSorting: true
  })];
  return <>
            <WithDragAndDrop<ExampleData> isDraggableRowsEnabled isExpandableRowsEnabled
    // eslint-disable-next-line react/no-unstable-nested-components
    getExpandableContent={row => <p className="paragraph-100">{row.original.description}</p>} data={data} columnDefs={columnDefs} />

            <DividerLine />

            <p className="paragraph-300 mb-8">Entries: {data.length.toLocaleString()}</p>

            <Button variant="primary" onClick={() => setData(createExampleData())}>
                Recreate Data
            </Button>
        </>;
}`,...(Dt=(wt=q.parameters)==null?void 0:wt.docs)==null?void 0:Dt.source}}};var yt,bt,Rt;U.parameters={...U.parameters,docs:{...(yt=U.parameters)==null?void 0:yt.docs,source:{originalSource:`() => {
  const columnHelper = createColumnHelper<ExampleData>();
  const exampleData: ExampleData[] = [];
  const columnDefs = [columnHelper.accessor("name", {
    header: "Team Members",
    enableSorting: true,
    meta: {
      width: "200px"
    }
  }), columnHelper.accessor("description", {
    header: "Description",
    enableSorting: true
  })];
  return <WithDragAndDrop<ExampleData> isDraggableRowsEnabled data={exampleData} columnDefs={columnDefs} isExpandableRowsEnabled
  // eslint-disable-next-line react/no-unstable-nested-components
  getExpandableContent={row => <p className="paragraph-100">{row.original.description}</p>} placeholder={<TableUnvirtualized.Body.EmptyPlaceholder title="Empty table" description="You have not added any items yet."
  // +1 because of the additional drag column
  colSpan={columnDefs.length + 1}>
                    <Button variant="secondary" onClick={() => alert("clicked")}>
                        Add New Item
                    </Button>
                </TableUnvirtualized.Body.EmptyPlaceholder>} />;
}`,...(Rt=(bt=U.parameters)==null?void 0:bt.docs)==null?void 0:Rt.source}}};var Et,It,Tt;X.parameters={...X.parameters,docs:{...(Et=X.parameters)==null?void 0:Et.docs,source:{originalSource:`() => {
  const columnHelper = createColumnHelper<ExampleData>();
  const [data, setData] = useState<ExampleData[]>([]);
  useEffect(() => {
    const timeout = setTimeout(() => {
      setData(createExampleData());
    }, 4000);
    return () => {
      clearTimeout(timeout);
    };
  }, []);
  const columnDefs = [columnHelper.accessor("name", {
    header: "Team Members",
    enableSorting: true,
    meta: {
      width: "200px"
    }
  }), columnHelper.accessor("description", {
    header: "Description",
    enableSorting: true
  })];
  return <div className="h-96 overflow-y-scroll">
            <WithDragAndDrop<ExampleData> isDraggableRowsEnabled data={data} columnDefs={columnDefs} placeholder={<TableUnvirtualized.Body.LoadingIndicator
    // +1 because of the additional drag column
    colSpan={columnDefs.length + 1} />} />
        </div>;
}`,...(Tt=(It=X.parameters)==null?void 0:It.docs)==null?void 0:Tt.source}}};const Li=["Default","Draggable","DraggableAndExpandable","EmptyTable","LoadingTable"];export{ne as Default,B as Draggable,q as DraggableAndExpandable,U as EmptyTable,X as LoadingTable,Li as __namedExportsOrder,Vi as default};
