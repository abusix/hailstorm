import{r as m,a as ce}from"./index-DRjF_FHU.js";import{n as ot,o as Yt,p as fe}from"./use-sync-refs-4PSbzubZ.js";import{r as ct}from"./index-C-39nNrC.js";function ae(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function Rn(t,e=!1){let[n,o]=m.useReducer(()=>({}),{}),r=m.useMemo(()=>ae(t),[t,n]);return ot(()=>{if(!t)return;let i=new ResizeObserver(o);return i.observe(t),()=>{i.disconnect()}},[t]),e?{width:`${r.width}px`,height:`${r.height}px`}:r}function dt(){return typeof window<"u"}function Q(t){return qt(t)?(t.nodeName||"").toLowerCase():"#document"}function I(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function z(t){var e;return(e=(qt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qt(t){return dt()?t instanceof Node||t instanceof I(t).Node:!1}function $(t){return dt()?t instanceof Element||t instanceof I(t).Element:!1}function _(t){return dt()?t instanceof HTMLElement||t instanceof I(t).HTMLElement:!1}function Dt(t){return!dt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof I(t).ShadowRoot}function rt(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=W(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(r)}function ue(t){return["table","td","th"].includes(Q(t))}function mt(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function At(t){const e=St(),n=$(t)?W(t):t;return["transform","translate","scale","rotate","perspective"].some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function de(t){let e=Y(t);for(;_(e)&&!J(e);){if(At(e))return e;if(mt(e))return null;e=Y(e)}return null}function St(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function J(t){return["html","body","#document"].includes(Q(t))}function W(t){return I(t).getComputedStyle(t)}function gt(t){return $(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Y(t){if(Q(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Dt(t)&&t.host||z(t);return Dt(e)?e.host:e}function Ut(t){const e=Y(t);return J(e)?t.ownerDocument?t.ownerDocument.body:t.body:_(e)&&rt(e)?e:Ut(e)}function et(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=Ut(t),i=r===((o=t.ownerDocument)==null?void 0:o.body),s=I(r);if(i){const l=Rt(s);return e.concat(s,s.visualViewport||[],rt(r)?r:[],l&&n?et(l):[])}return e.concat(r,et(r,[],n))}function Rt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function me(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:o}=e;return n+"/"+o}).join(" "):navigator.userAgent}const U=Math.min,D=Math.max,nt=Math.round,st=Math.floor,V=t=>({x:t,y:t}),ge={left:"right",right:"left",bottom:"top",top:"bottom"},he={start:"end",end:"start"};function Lt(t,e,n){return D(t,U(e,n))}function Z(t,e){return typeof t=="function"?t(e):t}function q(t){return t.split("-")[0]}function it(t){return t.split("-")[1]}function Kt(t){return t==="x"?"y":"x"}function Xt(t){return t==="y"?"height":"width"}function K(t){return["top","bottom"].includes(q(t))?"y":"x"}function Gt(t){return Kt(K(t))}function pe(t,e,n){n===void 0&&(n=!1);const o=it(t),r=Gt(t),i=Xt(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=ft(s)),[s,ft(s)]}function xe(t){const e=ft(t);return[Ct(t),e,Ct(e)]}function Ct(t){return t.replace(/start|end/g,e=>he[e])}function we(t,e,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:o:e?o:r;case"left":case"right":return e?i:s;default:return[]}}function ye(t,e,n,o){const r=it(t);let i=we(q(t),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),e&&(i=i.concat(i.map(Ct)))),i}function ft(t){return t.replace(/left|right|bottom|top/g,e=>ge[e])}function ve(t){return{top:0,right:0,bottom:0,left:0,...t}}function be(t){return typeof t!="number"?ve(t):{top:t,right:t,bottom:t,left:t}}function at(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}function Ht(t,e,n){let{reference:o,floating:r}=t;const i=K(e),s=Gt(e),l=Xt(s),f=q(e),c=i==="y",a=o.x+o.width/2-r.width/2,g=o.y+o.height/2-r.height/2,h=o[l]/2-r[l]/2;let u;switch(f){case"top":u={x:a,y:o.y-r.height};break;case"bottom":u={x:a,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:g};break;case"left":u={x:o.x-r.width,y:g};break;default:u={x:o.x,y:o.y}}switch(it(e)){case"start":u[s]-=h*(n&&c?-1:1);break;case"end":u[s]+=h*(n&&c?-1:1);break}return u}const Re=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),f=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:a,y:g}=Ht(c,o,f),h=o,u={},d=0;for(let p=0;p<l.length;p++){const{name:x,fn:y}=l[p],{x:v,y:w,data:b,reset:R}=await y({x:a,y:g,initialPlacement:o,placement:h,strategy:r,middlewareData:u,rects:c,platform:s,elements:{reference:t,floating:e}});a=v??a,g=w??g,u={...u,[x]:{...u[x],...b}},R&&d<=50&&(d++,typeof R=="object"&&(R.placement&&(h=R.placement),R.rects&&(c=R.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):R.rects),{x:a,y:g}=Ht(c,h,f)),p=-1)}return{x:a,y:g,placement:h,strategy:r,middlewareData:u}};async function ht(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:i,rects:s,elements:l,strategy:f}=t,{boundary:c="clippingAncestors",rootBoundary:a="viewport",elementContext:g="floating",altBoundary:h=!1,padding:u=0}=Z(e,t),d=be(u),x=l[h?g==="floating"?"reference":"floating":g],y=at(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:a,strategy:f})),v=g==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},R=at(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:f}):v);return{top:(y.top-R.top+d.top)/b.y,bottom:(R.bottom-y.bottom+d.bottom)/b.y,left:(y.left-R.left+d.left)/b.x,right:(R.right-y.right+d.right)/b.x}}const Ce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:l,platform:f,elements:c}=e,{mainAxis:a=!0,crossAxis:g=!0,fallbackPlacements:h,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:p=!0,...x}=Z(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=q(r),v=K(l),w=q(l)===l,b=await(f.isRTL==null?void 0:f.isRTL(c.floating)),R=h||(w||!p?[ft(l)]:xe(l)),E=d!=="none";!h&&E&&R.push(...ye(l,p,d,b));const A=[l,...R],L=await ht(e,x),B=[];let F=((o=i.flip)==null?void 0:o.overflows)||[];if(a&&B.push(L[y]),g){const T=pe(r,s,b);B.push(L[T[0]],L[T[1]])}if(F=[...F,{placement:r,overflows:B}],!B.every(T=>T<=0)){var O,k;const T=(((O=i.flip)==null?void 0:O.index)||0)+1,j=A[T];if(j)return{data:{index:T,overflows:F},reset:{placement:j}};let M=(k=F.filter(N=>N.overflows[0]<=0).sort((N,C)=>N.overflows[1]-C.overflows[1])[0])==null?void 0:k.placement;if(!M)switch(u){case"bestFit":{var P;const N=(P=F.filter(C=>{if(E){const S=K(C.placement);return S===v||S==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(S=>S>0).reduce((S,H)=>S+H,0)]).sort((C,S)=>C[1]-S[1])[0])==null?void 0:P[0];N&&(M=N);break}case"initialPlacement":M=l;break}if(r!==M)return{reset:{placement:M}}}return{}}}};async function Ee(t,e){const{placement:n,platform:o,elements:r}=t,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=q(n),l=it(n),f=K(n)==="y",c=["left","top"].includes(s)?-1:1,a=i&&f?-1:1,g=Z(e,t);let{mainAxis:h,crossAxis:u,alignmentAxis:d}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof d=="number"&&(u=l==="end"?d*-1:d),f?{x:u*a,y:h*c}:{x:h*c,y:u*a}}const Ae=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:i,placement:s,middlewareData:l}=e,f=await Ee(e,t);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+f.x,y:i+f.y,data:{...f,placement:s}}}}},Se=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...f}=Z(t,e),c={x:n,y:o},a=await ht(e,f),g=K(q(r)),h=Kt(g);let u=c[h],d=c[g];if(i){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=u+a[x],w=u-a[y];u=Lt(v,u,w)}if(s){const x=g==="y"?"top":"left",y=g==="y"?"bottom":"right",v=d+a[x],w=d-a[y];d=Lt(v,d,w)}const p=l.fn({...e,[h]:u,[g]:d});return{...p,data:{x:p.x-n,y:p.y-o,enabled:{[h]:i,[g]:s}}}}}},Oe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:r,rects:i,platform:s,elements:l}=e,{apply:f=()=>{},...c}=Z(t,e),a=await ht(e,c),g=q(r),h=it(r),u=K(r)==="y",{width:d,height:p}=i.floating;let x,y;g==="top"||g==="bottom"?(x=g,y=h===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(y=g,x=h==="end"?"top":"bottom");const v=p-a.top-a.bottom,w=d-a.left-a.right,b=U(p-a[x],v),R=U(d-a[y],w),E=!e.middlewareData.shift;let A=b,L=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(L=w),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(A=v),E&&!h){const F=D(a.left,0),O=D(a.right,0),k=D(a.top,0),P=D(a.bottom,0);u?L=d-2*(F!==0||O!==0?F+O:D(a.left,a.right)):A=p-2*(k!==0||P!==0?k+P:D(a.top,a.bottom))}await f({...e,availableWidth:L,availableHeight:A});const B=await s.getDimensions(l.floating);return d!==B.width||p!==B.height?{reset:{rects:!0}}:{}}}};function Jt(t){const e=W(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=_(t),i=r?t.offsetWidth:n,s=r?t.offsetHeight:o,l=nt(n)!==i||nt(o)!==s;return l&&(n=i,o=s),{width:n,height:o,$:l}}function Ot(t){return $(t)?t:t.contextElement}function G(t){const e=Ot(t);if(!_(e))return V(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:i}=Jt(e);let s=(i?nt(n.width):n.width)/o,l=(i?nt(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const Te=V(0);function Qt(t){const e=I(t);return!St()||!e.visualViewport?Te:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Me(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==I(t)?!1:e}function X(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=Ot(t);let s=V(1);e&&(o?$(o)&&(s=G(o)):s=G(t));const l=Me(i,n,o)?Qt(i):V(0);let f=(r.left+l.x)/s.x,c=(r.top+l.y)/s.y,a=r.width/s.x,g=r.height/s.y;if(i){const h=I(i),u=o&&$(o)?I(o):o;let d=h,p=Rt(d);for(;p&&o&&u!==d;){const x=G(p),y=p.getBoundingClientRect(),v=W(p),w=y.left+(p.clientLeft+parseFloat(v.paddingLeft))*x.x,b=y.top+(p.clientTop+parseFloat(v.paddingTop))*x.y;f*=x.x,c*=x.y,a*=x.x,g*=x.y,f+=w,c+=b,d=I(p),p=Rt(d)}}return at({width:a,height:g,x:f,y:c})}function Tt(t,e){const n=gt(t).scrollLeft;return e?e.left+n:X(z(t)).left+n}function Zt(t,e,n){n===void 0&&(n=!1);const o=t.getBoundingClientRect(),r=o.left+e.scrollLeft-(n?0:Tt(t,o)),i=o.top+e.scrollTop;return{x:r,y:i}}function Fe(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const i=r==="fixed",s=z(o),l=e?mt(e.floating):!1;if(o===s||l&&i)return n;let f={scrollLeft:0,scrollTop:0},c=V(1);const a=V(0),g=_(o);if((g||!g&&!i)&&((Q(o)!=="body"||rt(s))&&(f=gt(o)),_(o))){const u=X(o);c=G(o),a.x=u.x+o.clientLeft,a.y=u.y+o.clientTop}const h=s&&!g&&!i?Zt(s,f,!0):V(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-f.scrollLeft*c.x+a.x+h.x,y:n.y*c.y-f.scrollTop*c.y+a.y+h.y}}function Pe(t){return Array.from(t.getClientRects())}function De(t){const e=z(t),n=gt(t),o=t.ownerDocument.body,r=D(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),i=D(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+Tt(t);const l=-n.scrollTop;return W(o).direction==="rtl"&&(s+=D(e.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}function Le(t,e){const n=I(t),o=z(t),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,l=0,f=0;if(r){i=r.width,s=r.height;const c=St();(!c||c&&e==="fixed")&&(l=r.offsetLeft,f=r.offsetTop)}return{width:i,height:s,x:l,y:f}}function He(t,e){const n=X(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,i=_(t)?G(t):V(1),s=t.clientWidth*i.x,l=t.clientHeight*i.y,f=r*i.x,c=o*i.y;return{width:s,height:l,x:f,y:c}}function $t(t,e,n){let o;if(e==="viewport")o=Le(t,n);else if(e==="document")o=De(z(t));else if($(e))o=He(e,n);else{const r=Qt(t);o={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return at(o)}function te(t,e){const n=Y(t);return n===e||!$(n)||J(n)?!1:W(n).position==="fixed"||te(n,e)}function $e(t,e){const n=e.get(t);if(n)return n;let o=et(t,[],!1).filter(l=>$(l)&&Q(l)!=="body"),r=null;const i=W(t).position==="fixed";let s=i?Y(t):t;for(;$(s)&&!J(s);){const l=W(s),f=At(s);!f&&l.position==="fixed"&&(r=null),(i?!f&&!r:!f&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||rt(s)&&!f&&te(t,s))?o=o.filter(a=>a!==s):r=l,s=Y(s)}return e.set(t,o),o}function ke(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const s=[...n==="clippingAncestors"?mt(e)?[]:$e(e,this._c):[].concat(n),o],l=s[0],f=s.reduce((c,a)=>{const g=$t(e,a,r);return c.top=D(g.top,c.top),c.right=U(g.right,c.right),c.bottom=U(g.bottom,c.bottom),c.left=D(g.left,c.left),c},$t(e,l,r));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Ie(t){const{width:e,height:n}=Jt(t);return{width:e,height:n}}function Be(t,e,n){const o=_(e),r=z(e),i=n==="fixed",s=X(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const f=V(0);if(o||!o&&!i)if((Q(e)!=="body"||rt(r))&&(l=gt(e)),o){const h=X(e,!0,i,e);f.x=h.x+e.clientLeft,f.y=h.y+e.clientTop}else r&&(f.x=Tt(r));const c=r&&!o&&!i?Zt(r,l):V(0),a=s.left+l.scrollLeft-f.x-c.x,g=s.top+l.scrollTop-f.y-c.y;return{x:a,y:g,width:s.width,height:s.height}}function xt(t){return W(t).position==="static"}function kt(t,e){if(!_(t)||W(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return z(t)===n&&(n=n.ownerDocument.body),n}function ee(t,e){const n=I(t);if(mt(t))return n;if(!_(t)){let r=Y(t);for(;r&&!J(r);){if($(r)&&!xt(r))return r;r=Y(r)}return n}let o=kt(t,e);for(;o&&ue(o)&&xt(o);)o=kt(o,e);return o&&J(o)&&xt(o)&&!At(o)?n:o||de(t)||n}const Ne=async function(t){const e=this.getOffsetParent||ee,n=this.getDimensions,o=await n(t.floating);return{reference:Be(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function We(t){return W(t).direction==="rtl"}const Ve={convertOffsetParentRelativeRectToViewportRelativeRect:Fe,getDocumentElement:z,getClippingRect:ke,getOffsetParent:ee,getElementRects:Ne,getClientRects:Pe,getDimensions:Ie,getScale:G,isElement:$,isRTL:We};function ne(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _e(t,e){let n=null,o;const r=z(t);function i(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,f){l===void 0&&(l=!1),f===void 0&&(f=1),i();const c=t.getBoundingClientRect(),{left:a,top:g,width:h,height:u}=c;if(l||e(),!h||!u)return;const d=st(g),p=st(r.clientWidth-(a+h)),x=st(r.clientHeight-(g+u)),y=st(a),w={rootMargin:-d+"px "+-p+"px "+-x+"px "+-y+"px",threshold:D(0,U(1,f))||1};let b=!0;function R(E){const A=E[0].intersectionRatio;if(A!==f){if(!b)return s();A?s(!1,A):o=setTimeout(()=>{s(!1,1e-7)},1e3)}A===1&&!ne(c,t.getBoundingClientRect())&&s(),b=!1}try{n=new IntersectionObserver(R,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(R,w)}n.observe(t)}return s(!0),i}function ze(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,c=Ot(t),a=r||i?[...c?et(c):[],...et(e)]:[];a.forEach(y=>{r&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const g=c&&l?_e(c,n):null;let h=-1,u=null;s&&(u=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&u&&(u.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=u)==null||w.observe(e)})),n()}),c&&!f&&u.observe(c),u.observe(e));let d,p=f?X(t):null;f&&x();function x(){const y=X(t);p&&!ne(p,y)&&n(),p=y,d=requestAnimationFrame(x)}return n(),()=>{var y;a.forEach(v=>{r&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),g==null||g(),(y=u)==null||y.disconnect(),u=null,f&&cancelAnimationFrame(d)}}const wt=ht,je=Ae,Ye=Se,qe=Ce,Ue=Oe,Ke=(t,e,n)=>{const o=new Map,r={platform:Ve,...n},i={...r.platform,_c:o};return Re(t,e,{...r,platform:i})};var lt=typeof document<"u"?m.useLayoutEffect:m.useEffect;function ut(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!ut(t[o],e[o]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&t.$$typeof)&&!ut(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function oe(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function It(t,e){const n=oe(t);return Math.round(e*n)/n}function yt(t){const e=m.useRef(t);return lt(()=>{e.current=t}),e}function Xe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:f,open:c}=t,[a,g]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,u]=m.useState(o);ut(h,o)||u(o);const[d,p]=m.useState(null),[x,y]=m.useState(null),v=m.useCallback(C=>{C!==E.current&&(E.current=C,p(C))},[]),w=m.useCallback(C=>{C!==A.current&&(A.current=C,y(C))},[]),b=i||d,R=s||x,E=m.useRef(null),A=m.useRef(null),L=m.useRef(a),B=f!=null,F=yt(f),O=yt(r),k=yt(c),P=m.useCallback(()=>{if(!E.current||!A.current)return;const C={placement:e,strategy:n,middleware:h};O.current&&(C.platform=O.current),Ke(E.current,A.current,C).then(S=>{const H={...S,isPositioned:k.current!==!1};T.current&&!ut(L.current,H)&&(L.current=H,ct.flushSync(()=>{g(H)}))})},[h,e,n,O,k]);lt(()=>{c===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,g(C=>({...C,isPositioned:!1})))},[c]);const T=m.useRef(!1);lt(()=>(T.current=!0,()=>{T.current=!1}),[]),lt(()=>{if(b&&(E.current=b),R&&(A.current=R),b&&R){if(F.current)return F.current(b,R,P);P()}},[b,R,P,F,B]);const j=m.useMemo(()=>({reference:E,floating:A,setReference:v,setFloating:w}),[v,w]),M=m.useMemo(()=>({reference:b,floating:R}),[b,R]),N=m.useMemo(()=>{const C={position:n,left:0,top:0};if(!M.floating)return C;const S=It(M.floating,a.x),H=It(M.floating,a.y);return l?{...C,transform:"translate("+S+"px, "+H+"px)",...oe(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:S,top:H}},[n,l,M.floating,a.x,a.y]);return m.useMemo(()=>({...a,update:P,refs:j,elements:M,floatingStyles:N}),[a,P,j,M,N])}const re=(t,e)=>({...je(t),options:[t,e]}),Ge=(t,e)=>({...Ye(t),options:[t,e]}),Je=(t,e)=>({...qe(t),options:[t,e]}),Qe=(t,e)=>({...Ue(t),options:[t,e]}),ie={...ce},Ze=ie.useInsertionEffect,tn=Ze||(t=>t());function se(t){const e=m.useRef(()=>{});return tn(()=>{e.current=t}),m.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.current==null?void 0:e.current(...o)},[])}var Et=typeof document<"u"?m.useLayoutEffect:m.useEffect;let Bt=!1,en=0;const Nt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+en++;function nn(){const[t,e]=m.useState(()=>Bt?Nt():void 0);return Et(()=>{t==null&&e(Nt())},[]),m.useEffect(()=>{Bt=!0},[]),t}const on=ie.useId,rn=on||nn;function sn(){const t=new Map;return{emit(e,n){var o;(o=t.get(e))==null||o.forEach(r=>r(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var o;t.set(e,((o=t.get(e))==null?void 0:o.filter(r=>r!==n))||[])}}}const ln=m.createContext(null),cn=m.createContext(null),fn=()=>{var t;return((t=m.useContext(ln))==null?void 0:t.id)||null},an=()=>m.useContext(cn),un="data-floating-ui-focusable";function dn(t){const{open:e=!1,onOpenChange:n,elements:o}=t,r=rn(),i=m.useRef({}),[s]=m.useState(()=>sn()),l=fn()!=null,[f,c]=m.useState(o.reference),a=se((u,d,p)=>{i.current.openEvent=u?d:void 0,s.emit("openchange",{open:u,event:d,reason:p,nested:l}),n==null||n(u,d,p)}),g=m.useMemo(()=>({setPositionReference:c}),[]),h=m.useMemo(()=>({reference:f||o.reference||null,floating:o.floating||null,domReference:o.reference}),[f,o.reference,o.floating]);return m.useMemo(()=>({dataRef:i,open:e,onOpenChange:a,elements:h,events:s,floatingId:r,refs:g}),[e,a,h,s,r,g])}function mn(t){t===void 0&&(t={});const{nodeId:e}=t,n=dn({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||n,r=o.elements,[i,s]=m.useState(null),[l,f]=m.useState(null),a=(r==null?void 0:r.domReference)||i,g=m.useRef(null),h=an();Et(()=>{a&&(g.current=a)},[a]);const u=Xe({...t,elements:{...r,...l&&{reference:l}}}),d=m.useCallback(w=>{const b=$(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;f(b),u.refs.setReference(b)},[u.refs]),p=m.useCallback(w=>{($(w)||w===null)&&(g.current=w,s(w)),($(u.refs.reference.current)||u.refs.reference.current===null||w!==null&&!$(w))&&u.refs.setReference(w)},[u.refs]),x=m.useMemo(()=>({...u.refs,setReference:p,setPositionReference:d,domReference:g}),[u.refs,p,d]),y=m.useMemo(()=>({...u.elements,domReference:a}),[u.elements,a]),v=m.useMemo(()=>({...u,...o,refs:x,elements:y,nodeId:e}),[u,x,y,e,o]);return Et(()=>{o.dataRef.current.floatingContext=v;const w=h==null?void 0:h.nodesRef.current.find(b=>b.id===e);w&&(w.context=v)}),m.useMemo(()=>({...u,context:v,refs:x,elements:y}),[u,x,y,v])}const Wt="active",Vt="selected";function vt(t,e,n){const o=new Map,r=n==="item";let i=t;if(r&&t){const{[Wt]:s,[Vt]:l,...f}=t;i=f}return{...n==="floating"&&{tabIndex:-1,[un]:""},...i,...e.map(s=>{const l=s?s[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((s,l)=>(l&&Object.entries(l).forEach(f=>{let[c,a]=f;if(!(r&&[Wt,Vt].includes(c)))if(c.indexOf("on")===0){if(o.has(c)||o.set(c,[]),typeof a=="function"){var g;(g=o.get(c))==null||g.push(a),s[c]=function(){for(var h,u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];return(h=o.get(c))==null?void 0:h.map(x=>x(...d)).find(x=>x!==void 0)}}}else s[c]=a}),s),{})}}function gn(t){t===void 0&&(t=[]);const e=t.map(l=>l==null?void 0:l.reference),n=t.map(l=>l==null?void 0:l.floating),o=t.map(l=>l==null?void 0:l.item),r=m.useCallback(l=>vt(l,t,"reference"),e),i=m.useCallback(l=>vt(l,t,"floating"),n),s=m.useCallback(l=>vt(l,t,"item"),o);return m.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:s}),[r,i,s])}function _t(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const hn=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:o,onFallbackChange:r,offset:i=0,index:s=0,minItemsVisible:l=4,referenceOverflowThreshold:f=0,scrollRef:c,...a}=Z(t,e),{rects:g,elements:{floating:h}}=e,u=n.current[s],d=(c==null?void 0:c.current)||h,p=h.clientTop||d.clientTop,x=h.clientTop!==0,y=d.clientTop!==0,v=h===d;if(!u)return{};const w={...e,...await re(-u.offsetTop-h.clientTop-g.reference.height/2-u.offsetHeight/2-i).fn(e)},b=await wt(_t(w,d.scrollHeight+p+h.clientTop),a),R=await wt(w,{...a,elementContext:"reference"}),E=D(0,b.top),A=w.y+E,F=(d.scrollHeight>d.clientHeight?O=>O:nt)(D(0,d.scrollHeight+(x&&v||y?p*2:0)-E-D(0,b.bottom)));if(d.style.maxHeight=F+"px",d.scrollTop=E,r){const O=d.offsetHeight<u.offsetHeight*U(l,n.current.length)-1||R.top>=-f||R.bottom>=-f;ct.flushSync(()=>r(O))}return o&&(o.current=await wt(_t({...w,y:A},d.offsetHeight+p+h.clientTop),a)),{y:A}}});function pn(t,e){const{open:n,elements:o}=t,{enabled:r=!0,overflowRef:i,scrollRef:s,onChange:l}=e,f=se(l),c=m.useRef(!1),a=m.useRef(null),g=m.useRef(null);m.useEffect(()=>{if(!r)return;function u(p){if(p.ctrlKey||!d||i.current==null)return;const x=p.deltaY,y=i.current.top>=-.5,v=i.current.bottom>=-.5,w=d.scrollHeight-d.clientHeight,b=x<0?-1:1,R=x<0?"max":"min";d.scrollHeight<=d.clientHeight||(!y&&x>0||!v&&x<0?(p.preventDefault(),ct.flushSync(()=>{f(E=>E+Math[R](x,w*b))})):/firefox/i.test(me())&&(d.scrollTop+=x))}const d=(s==null?void 0:s.current)||o.floating;if(n&&d)return d.addEventListener("wheel",u),requestAnimationFrame(()=>{a.current=d.scrollTop,i.current!=null&&(g.current={...i.current})}),()=>{a.current=null,g.current=null,d.removeEventListener("wheel",u)}},[r,n,o.floating,i,s,f]);const h=m.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const u=(s==null?void 0:s.current)||o.floating;if(!(!i.current||!u||!c.current)){if(a.current!==null){const d=u.scrollTop-a.current;(i.current.bottom<-.5&&d<-1||i.current.top<-.5&&d>1)&&ct.flushSync(()=>f(p=>p+d))}requestAnimationFrame(()=>{a.current=u.scrollTop})}}}),[o.floating,f,i,s]);return m.useMemo(()=>r?{floating:h}:{},[r,h])}let tt=m.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});tt.displayName="FloatingContext";let Mt=m.createContext(null);Mt.displayName="PlacementContext";function Cn(t){return m.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function En(){return m.useContext(tt).setReference}function An(){return m.useContext(tt).getReferenceProps}function Sn(){let{getFloatingProps:t,slot:e}=m.useContext(tt);return m.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function On(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=m.useContext(Mt),n=m.useMemo(()=>t,[JSON.stringify(t,(r,i)=>{var s;return(s=i==null?void 0:i.outerHTML)!=null?s:i})]);ot(()=>{e==null||e(n??null)},[e,n]);let o=m.useContext(tt);return m.useMemo(()=>[o.setFloating,t?o.styles:{}],[o.setFloating,t,o.styles])}let zt=4;function Tn({children:t,enabled:e=!0}){let[n,o]=m.useState(null),[r,i]=m.useState(0),s=m.useRef(null),[l,f]=m.useState(null);xn(l);let c=e&&n!==null&&l!==null,{to:a="bottom",gap:g=0,offset:h=0,padding:u=0,inner:d}=wn(n,l),[p,x="center"]=a.split(" ");ot(()=>{c&&i(0)},[c]);let{refs:y,floatingStyles:v,context:w}=mn({open:c,placement:p==="selection"?x==="center"?"bottom":`bottom-${x}`:x==="center"?`${p}`:`${p}-${x}`,strategy:"absolute",transform:!1,middleware:[re({mainAxis:p==="selection"?0:g,crossAxis:h}),Ge({padding:u}),p!=="selection"&&Je({padding:u}),p==="selection"&&d?hn({...d,padding:u,overflowRef:s,offset:r,minItemsVisible:zt,referenceOverflowThreshold:u,onFallbackChange(O){var k,P;if(!O)return;let T=w.elements.floating;if(!T)return;let j=parseFloat(getComputedStyle(T).scrollPaddingBottom)||0,M=Math.min(zt,T.childElementCount),N=0,C=0;for(let S of(P=(k=w.elements.floating)==null?void 0:k.childNodes)!=null?P:[])if(S instanceof HTMLElement){let H=S.offsetTop,Ft=H+S.clientHeight+j,pt=T.scrollTop,Pt=pt+T.clientHeight;if(H>=pt&&Ft<=Pt)M--;else{C=Math.max(0,Math.min(Ft,Pt)-Math.max(H,pt)),N=S.clientHeight;break}}M>=1&&i(S=>{let H=N*M-C+j;return S>=H?S:H})}}):null,Qe({padding:u,apply({availableWidth:O,availableHeight:k,elements:P}){Object.assign(P.floating.style,{overflow:"auto",maxWidth:`${O}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${k}px)`})}})].filter(Boolean),whileElementsMounted:ze}),[b=p,R=x]=w.placement.split("-");p==="selection"&&(b="selection");let E=m.useMemo(()=>({anchor:[b,R].filter(Boolean).join(" ")}),[b,R]),A=pn(w,{overflowRef:s,onChange:i}),{getReferenceProps:L,getFloatingProps:B}=gn([A]),F=Yt(O=>{f(O),y.setFloating(O)});return m.createElement(Mt.Provider,{value:o},m.createElement(tt.Provider,{value:{setFloating:F,setReference:y.setReference,styles:v,getReferenceProps:L,getFloatingProps:B,slot:E}},t))}function xn(t){ot(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,o=parseFloat(n);if(isNaN(o))return;let r=parseInt(n);isNaN(r)||o!==r&&(t.style.maxHeight=`${Math.ceil(o)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function wn(t,e){var n,o,r;let i=bt((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),s=bt((o=t==null?void 0:t.offset)!=null?o:"var(--anchor-offset, 0)",e),l=bt((r=t==null?void 0:t.padding)!=null?r:"var(--anchor-padding, 0)",e);return{...t,gap:i,offset:s,padding:l}}function bt(t,e,n=void 0){let o=fe(),r=Yt((f,c)=>{if(f==null)return[n,null];if(typeof f=="number")return[f,null];if(typeof f=="string"){if(!c)return[n,null];let a=jt(f,c);return[a,g=>{let h=le(f);{let u=h.map(d=>window.getComputedStyle(c).getPropertyValue(d));o.requestAnimationFrame(function d(){o.nextFrame(d);let p=!1;for(let[y,v]of h.entries()){let w=window.getComputedStyle(c).getPropertyValue(v);if(u[y]!==w){u[y]=w,p=!0;break}}if(!p)return;let x=jt(f,c);a!==x&&(g(x),a=x)})}return o.dispose}]}return[n,null]}),i=m.useMemo(()=>r(t,e)[0],[t,e]),[s=i,l]=m.useState();return ot(()=>{let[f,c]=r(t,e);if(l(f),!!c)return c(l)},[t,e]),s}function le(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let o=e[1].slice(0,n).trim(),r=e[1].slice(n+1).trim();return r?[o,...le(r)]:[o]}return[]}function jt(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let o=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),o}export{An as F,Tn as M,On as R,Sn as b,Rn as d,Cn as x,En as y};
