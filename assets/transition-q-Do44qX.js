import{r as u,R as h,a as ye}from"./index-4g5l5LRQ.js";import{D as O,y as B,d as ce,a as $,u as S,X as I,t as Ie,l as Q,o as te,S as Se,I as ne,b as Ke,c as ee,j as V,e as xe}from"./keyboard-UncMrW7s.js";import{r as Ze}from"./bugs-DTVvle51.js";import{c as Ae,p as Ne}from"./hidden-JOfeCyVd.js";import{O as ue,M as G,y as q,N as et}from"./focus-management-CoYP-xeJ.js";import{n as tt,s as ie,c as nt,E as je,a as rt,j as ot,P as Le,p as Pe}from"./use-root-containers-g71aJ1Su.js";import{f as de}from"./use-is-mounted-G6L8cmoM.js";import{n as We,C as De,d as P,h as lt,c as at}from"./use-owner-bymvWI7o.js";import{m as Fe,t as it,c as ut}from"./use-flags-s9Mpzjmt.js";import{p as Me}from"./use-disposables-nAkgq7bY.js";import{b as st,M as ct}from"./description-HUujvgXW.js";function dt(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}function Ue(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let ft="div";var _e=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(_e||{});function pt(e,t){let n=u.useRef(null),r=B(n,t),{initialFocus:o,containers:a,features:l=30,...i}=e;ce()||(l=1);let c=We(n);ht({ownerDocument:c},!!(l&16));let s=gt({ownerDocument:c,container:n,initialFocus:o},!!(l&2));Et({ownerDocument:c,container:n,containers:a,previousActiveElement:s},!!(l&8));let f=tt(),T=$(p=>{let d=n.current;d&&(y=>y())(()=>{S(f.current,{[ie.Forwards]:()=>{ue(d,G.First,{skipElements:[p.relatedTarget]})},[ie.Backwards]:()=>{ue(d,G.Last,{skipElements:[p.relatedTarget]})}})})}),b=Me(),m=u.useRef(!1),v={ref:r,onKeyDown(p){p.key=="Tab"&&(m.current=!0,b.requestAnimationFrame(()=>{m.current=!1}))},onBlur(p){let d=Ue(a);n.current instanceof HTMLElement&&d.add(n.current);let y=p.relatedTarget;y instanceof HTMLElement&&y.dataset.headlessuiFocusGuard!=="true"&&(Ve(d,y)||(m.current?ue(n.current,S(f.current,{[ie.Forwards]:()=>G.Next,[ie.Backwards]:()=>G.Previous})|G.WrapAround,{relativeTo:p.target}):p.target instanceof HTMLElement&&q(p.target)))}};return h.createElement(h.Fragment,null,!!(l&4)&&h.createElement(Ae,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:T,features:Ne.Focusable}),I({ourProps:v,theirProps:i,defaultTag:ft,name:"FocusTrap"}),!!(l&4)&&h.createElement(Ae,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:T,features:Ne.Focusable}))}let mt=O(pt),K=Object.assign(mt,{features:_e}),H=[];dt(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&H[0]!==t.target&&(H.unshift(t.target),H=H.filter(n=>n!=null&&n.isConnected),H.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function vt(e=!0){let t=u.useRef(H.slice());return Fe(([n],[r])=>{r===!0&&n===!1&&Ie(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=H.slice())},[e,H,t]),$(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function ht({ownerDocument:e},t){let n=vt(t);Fe(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&q(n())},[t]),nt(()=>{t&&q(n())})}function gt({ownerDocument:e,container:t,initialFocus:n},r){let o=u.useRef(null),a=de();return Fe(()=>{if(!r)return;let l=t.current;l&&Ie(()=>{if(!a.current)return;let i=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===i){o.current=i;return}}else if(l.contains(i)){o.current=i;return}n!=null&&n.current?q(n.current):ue(l,G.First)===et.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=e==null?void 0:e.activeElement})},[r]),o}function Et({ownerDocument:e,container:t,containers:n,previousActiveElement:r},o){let a=de();je(e==null?void 0:e.defaultView,"focus",l=>{if(!o||!a.current)return;let i=Ue(n);t.current instanceof HTMLElement&&i.add(t.current);let c=r.current;if(!c)return;let s=l.target;s&&s instanceof HTMLElement?Ve(i,s)?(r.current=s,q(s)):(l.preventDefault(),l.stopPropagation(),q(c)):q(r.current)},!0)}function Ve(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let Oe=u.createContext(()=>{});Oe.displayName="StackContext";var Re=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Re||{});function bt(){return u.useContext(Oe)}function wt({children:e,onUpdate:t,type:n,element:r,enabled:o}){let a=bt(),l=$((...i)=>{t==null||t(...i),a(...i)});return Q(()=>{let i=o===void 0||o===!0;return i&&l(0,n,r),()=>{i&&l(1,n,r)}},[l,n,r,o]),h.createElement(Oe.Provider,{value:l},e)}function Tt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const $t=typeof Object.is=="function"?Object.is:Tt,{useState:yt,useEffect:St,useLayoutEffect:Lt,useDebugValue:Pt}=ye;function Rt(e,t,n){const r=t(),[{inst:o},a]=yt({inst:{value:r,getSnapshot:t}});return Lt(()=>{o.value=r,o.getSnapshot=t,be(o)&&a({inst:o})},[e,r,t]),St(()=>(be(o)&&a({inst:o}),e(()=>{be(o)&&a({inst:o})})),[e]),Pt(r),r}function be(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!$t(n,r)}catch{return!0}}function Ct(e,t,n){return t()}const Dt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ft=!Dt,Mt=Ft?Ct:Rt,Ot="useSyncExternalStore"in ye?(e=>e.useSyncExternalStore)(ye):Mt;function kt(e){return Ot(e.subscribe,e.getSnapshot,e.getSnapshot)}function xt(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...a){let l=t[o].call(n,...a);l&&(n=l,r.forEach(i=>i()))}}}function At(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,o=r.clientWidth-r.offsetWidth,a=e-o;n.style(r,"paddingRight",`${a}px`)}}}function Nt(){if(!it())return{};let e;return{before(){e=window.pageYOffset},after({doc:t,d:n,meta:r}){function o(a){return r.containers.flatMap(l=>l()).some(l=>l.contains(a))}n.microTask(()=>{if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=te();l.style(t.documentElement,"scroll-behavior","auto"),n.add(()=>n.microTask(()=>l.dispose()))}n.style(t.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let a=null;n.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let i=l.target.closest("a");if(!i)return;let{hash:c}=new URL(i.href),s=t.querySelector(c);s&&!o(s)&&(a=s)}catch{}},!0),n.addEventListener(t,"touchmove",l=>{l.target instanceof HTMLElement&&!o(l.target)&&l.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+e),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}}function Ht(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Bt(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Y=xt(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:te(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Bt(n)},o=[Nt(),At(),Ht()];o.forEach(({before:a})=>a==null?void 0:a(r)),o.forEach(({after:a})=>a==null?void 0:a(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Y.subscribe(()=>{let e=Y.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&Y.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Y.dispatch("TEARDOWN",n)}});function It(e,t,n){let r=kt(Y),o=e?r.get(e):void 0,a=o?o.count>0:!1;return Q(()=>{if(!(!e||!t))return Y.dispatch("PUSH",e,n),()=>Y.dispatch("POP",e,n)},[t,e]),a}let we=new Map,Z=new Map;function He(e,t=!0){Q(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function o(){var l;if(!r)return;let i=(l=Z.get(r))!=null?l:1;if(i===1?Z.delete(r):Z.set(r,i-1),i!==1)return;let c=we.get(r);c&&(c["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",c["aria-hidden"]),r.inert=c.inert,we.delete(r))}let a=(n=Z.get(r))!=null?n:0;return Z.set(r,a+1),a!==0||(we.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),o},[e,t])}var jt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(jt||{}),Wt=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Wt||{});let Ut={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},se=u.createContext(null);se.displayName="DialogContext";function re(e){let t=u.useContext(se);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,re),n}return t}function _t(e,t,n=()=>[document.body]){It(e,t,r=>{var o;return{containers:[...(o=r.containers)!=null?o:[],n]}})}function Vt(e,t){return S(t.type,Ut,e,t)}let Yt="div",qt=Se.RenderStrategy|Se.Static;function Xt(e,t){var n;let r=ne(),{id:o=`headlessui-dialog-${r}`,open:a,onClose:l,initialFocus:i,__demoMode:c=!1,...s}=e,[f,T]=u.useState(0),b=De();a===void 0&&b!==null&&(a=(b&P.Open)===P.Open);let m=u.useRef(null),v=B(m,t),p=We(m),d=e.hasOwnProperty("open")||b!==null,y=e.hasOwnProperty("onClose");if(!d&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!d)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof l!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${l}`);let g=a?0:1,[E,C]=u.useReducer(Vt,{titleId:null,descriptionId:null,panelRef:u.createRef()}),D=$(()=>l(!1)),R=$(w=>C({type:0,id:w})),k=ce()?c?!1:g===0:!1,j=f>1,W=u.useContext(se)!==null,[X,J]=rt(),{resolveContainers:x,mainTreeNodeRef:A,MainTreeNode:ve}=ot({portals:X,defaultContainers:[(n=E.panelRef.current)!=null?n:m.current]}),oe=j?"parent":"leaf",le=b!==null?(b&P.Closing)===P.Closing:!1,U=W||le?!1:k,he=u.useCallback(()=>{var w,M;return(M=Array.from((w=p==null?void 0:p.querySelectorAll("body > *"))!=null?w:[]).find(L=>L.id==="headlessui-portal-root"?!1:L.contains(A.current)&&L instanceof HTMLElement))!=null?M:null},[A]);He(he,U);let ge=j?!0:k,z=u.useCallback(()=>{var w,M;return(M=Array.from((w=p==null?void 0:p.querySelectorAll("[data-headlessui-portal]"))!=null?w:[]).find(L=>L.contains(A.current)&&L instanceof HTMLElement))!=null?M:null},[A]);He(z,ge),lt(x,D,!(!k||j));let Ee=!(j||g!==0);je(p==null?void 0:p.defaultView,"keydown",w=>{Ee&&(w.defaultPrevented||w.key===Ke.Escape&&(w.preventDefault(),w.stopPropagation(),D()))}),_t(p,!(le||g!==0||W),x),u.useEffect(()=>{if(g!==0||!m.current)return;let w=new ResizeObserver(M=>{for(let L of M){let ae=L.target.getBoundingClientRect();ae.x===0&&ae.y===0&&ae.width===0&&ae.height===0&&D()}});return w.observe(m.current),()=>w.disconnect()},[g,m,D]);let[ze,Ge]=ct(),Qe=u.useMemo(()=>[{dialogState:g,close:D,setTitleId:R},E],[g,E,D,R]),ke=u.useMemo(()=>({open:g===0}),[g]),Je={ref:v,id:o,role:"dialog","aria-modal":g===0?!0:void 0,"aria-labelledby":E.titleId,"aria-describedby":ze};return h.createElement(wt,{type:"Dialog",enabled:g===0,element:m,onUpdate:$((w,M)=>{M==="Dialog"&&S(w,{[Re.Add]:()=>T(L=>L+1),[Re.Remove]:()=>T(L=>L-1)})})},h.createElement(Le,{force:!0},h.createElement(Pe,null,h.createElement(se.Provider,{value:Qe},h.createElement(Pe.Group,{target:m},h.createElement(Le,{force:!1},h.createElement(Ge,{slot:ke,name:"Dialog.Description"},h.createElement(K,{initialFocus:i,containers:x,features:k?S(oe,{parent:K.features.RestoreFocus,leaf:K.features.All&~K.features.FocusLock}):K.features.None},h.createElement(J,null,I({ourProps:Je,theirProps:s,slot:ke,defaultTag:Yt,features:qt,visible:g===0,name:"Dialog"}))))))))),h.createElement(ve,null))}let zt="div";function Gt(e,t){let n=ne(),{id:r=`headlessui-dialog-overlay-${n}`,...o}=e,[{dialogState:a,close:l}]=re("Dialog.Overlay"),i=B(t),c=$(f=>{if(f.target===f.currentTarget){if(Ze(f.currentTarget))return f.preventDefault();f.preventDefault(),f.stopPropagation(),l()}}),s=u.useMemo(()=>({open:a===0}),[a]);return I({ourProps:{ref:i,id:r,"aria-hidden":!0,onClick:c},theirProps:o,slot:s,defaultTag:zt,name:"Dialog.Overlay"})}let Qt="div";function Jt(e,t){let n=ne(),{id:r=`headlessui-dialog-backdrop-${n}`,...o}=e,[{dialogState:a},l]=re("Dialog.Backdrop"),i=B(t);u.useEffect(()=>{if(l.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[l.panelRef]);let c=u.useMemo(()=>({open:a===0}),[a]);return h.createElement(Le,{force:!0},h.createElement(Pe,null,I({ourProps:{ref:i,id:r,"aria-hidden":!0},theirProps:o,slot:c,defaultTag:Qt,name:"Dialog.Backdrop"})))}let Kt="div";function Zt(e,t){let n=ne(),{id:r=`headlessui-dialog-panel-${n}`,...o}=e,[{dialogState:a},l]=re("Dialog.Panel"),i=B(t,l.panelRef),c=u.useMemo(()=>({open:a===0}),[a]),s=$(f=>{f.stopPropagation()});return I({ourProps:{ref:i,id:r,onClick:s},theirProps:o,slot:c,defaultTag:Kt,name:"Dialog.Panel"})}let en="h2";function tn(e,t){let n=ne(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:a,setTitleId:l}]=re("Dialog.Title"),i=B(t);u.useEffect(()=>(l(r),()=>l(null)),[r,l]);let c=u.useMemo(()=>({open:a===0}),[a]);return I({ourProps:{ref:i,id:r},theirProps:o,slot:c,defaultTag:en,name:"Dialog.Title"})}let nn=O(Xt),rn=O(Jt),on=O(Zt),ln=O(Gt),an=O(tn),xn=Object.assign(nn,{Backdrop:rn,Panel:on,Overlay:ln,Title:an,Description:st});function un(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Te(e,...t){e&&t.length>0&&e.classList.add(...t)}function $e(e,...t){e&&t.length>0&&e.classList.remove(...t)}function sn(e,t){let n=te();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:o}=getComputedStyle(e),[a,l]=[r,o].map(c=>{let[s=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,T)=>T-f);return s}),i=a+l;if(i!==0){n.group(s=>{s.setTimeout(()=>{t(),s.dispose()},i),s.addEventListener(e,"transitionrun",f=>{f.target===f.currentTarget&&s.dispose()})});let c=n.addEventListener(e,"transitionend",s=>{s.target===s.currentTarget&&(t(),c())})}else t();return n.add(()=>t()),n.dispose}function cn(e,t,n,r){let o=n?"enter":"leave",a=te(),l=r!==void 0?un(r):()=>{};o==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let i=S(o,{enter:()=>t.enter,leave:()=>t.leave}),c=S(o,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),s=S(o,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return $e(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Te(e,...t.base,...i,...s),a.nextFrame(()=>{$e(e,...t.base,...i,...s),Te(e,...t.base,...i,...c),sn(e,()=>($e(e,...t.base,...i),Te(e,...t.base,...t.entered),l()))}),a.dispose}function dn({immediate:e,container:t,direction:n,classes:r,onStart:o,onStop:a}){let l=de(),i=Me(),c=ee(n);Q(()=>{e&&(c.current="enter")},[e]),Q(()=>{let s=te();i.add(s.dispose);let f=t.current;if(f&&c.current!=="idle"&&l.current)return s.dispose(),o.current(c.current),s.add(cn(f,r.current,c.current==="enter",()=>{s.dispose(),a.current(c.current)})),s.dispose},[n])}function N(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let fe=u.createContext(null);fe.displayName="TransitionContext";var fn=(e=>(e.Visible="visible",e.Hidden="hidden",e))(fn||{});function pn(){let e=u.useContext(fe);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function mn(){let e=u.useContext(pe);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let pe=u.createContext(null);pe.displayName="NestingContext";function me(e){return"children"in e?me(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Ye(e,t){let n=ee(e),r=u.useRef([]),o=de(),a=Me(),l=$((m,v=V.Hidden)=>{let p=r.current.findIndex(({el:d})=>d===m);p!==-1&&(S(v,{[V.Unmount](){r.current.splice(p,1)},[V.Hidden](){r.current[p].state="hidden"}}),a.microTask(()=>{var d;!me(r)&&o.current&&((d=n.current)==null||d.call(n))}))}),i=$(m=>{let v=r.current.find(({el:p})=>p===m);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:m,state:"visible"}),()=>l(m,V.Unmount)}),c=u.useRef([]),s=u.useRef(Promise.resolve()),f=u.useRef({enter:[],leave:[],idle:[]}),T=$((m,v,p)=>{c.current.splice(0),t&&(t.chains.current[v]=t.chains.current[v].filter(([d])=>d!==m)),t==null||t.chains.current[v].push([m,new Promise(d=>{c.current.push(d)})]),t==null||t.chains.current[v].push([m,new Promise(d=>{Promise.all(f.current[v].map(([y,g])=>g)).then(()=>d())})]),v==="enter"?s.current=s.current.then(()=>t==null?void 0:t.wait.current).then(()=>p(v)):p(v)}),b=$((m,v,p)=>{Promise.all(f.current[v].splice(0).map(([d,y])=>y)).then(()=>{var d;(d=c.current.shift())==null||d()}).then(()=>p(v))});return u.useMemo(()=>({children:r,register:i,unregister:l,onStart:T,onStop:b,wait:s,chains:f}),[i,l,r,T,b,f,s])}function vn(){}let hn=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Be(e){var t;let n={};for(let r of hn)n[r]=(t=e[r])!=null?t:vn;return n}function gn(e){let t=u.useRef(Be(e));return u.useEffect(()=>{t.current=Be(e)},[e]),t}let En="div",qe=Se.RenderStrategy;function bn(e,t){var n,r;let{beforeEnter:o,afterEnter:a,beforeLeave:l,afterLeave:i,enter:c,enterFrom:s,enterTo:f,entered:T,leave:b,leaveFrom:m,leaveTo:v,...p}=e,d=u.useRef(null),y=B(d,t),g=(n=p.unmount)==null||n?V.Unmount:V.Hidden,{show:E,appear:C,initial:D}=pn(),[R,k]=u.useState(E?"visible":"hidden"),j=mn(),{register:W,unregister:X}=j;u.useEffect(()=>W(d),[W,d]),u.useEffect(()=>{if(g===V.Hidden&&d.current){if(E&&R!=="visible"){k("visible");return}return S(R,{hidden:()=>X(d),visible:()=>W(d)})}},[R,d,W,X,E,g]);let J=ee({base:N(p.className),enter:N(c),enterFrom:N(s),enterTo:N(f),entered:N(T),leave:N(b),leaveFrom:N(m),leaveTo:N(v)}),x=gn({beforeEnter:o,afterEnter:a,beforeLeave:l,afterLeave:i}),A=ce();u.useEffect(()=>{if(A&&R==="visible"&&d.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[d,R,A]);let ve=D&&!C,oe=C&&E&&D,le=!A||ve?"idle":E?"enter":"leave",U=ut(0),he=$(F=>S(F,{enter:()=>{U.addFlag(P.Opening),x.current.beforeEnter()},leave:()=>{U.addFlag(P.Closing),x.current.beforeLeave()},idle:()=>{}})),ge=$(F=>S(F,{enter:()=>{U.removeFlag(P.Opening),x.current.afterEnter()},leave:()=>{U.removeFlag(P.Closing),x.current.afterLeave()},idle:()=>{}})),z=Ye(()=>{k("hidden"),X(d)},j);dn({immediate:oe,container:d,classes:J,direction:le,onStart:ee(F=>{z.onStart(d,F,he)}),onStop:ee(F=>{z.onStop(d,F,ge),F==="leave"&&!me(z)&&(k("hidden"),X(d))})});let _=p,Ee={ref:y};return oe?_={..._,className:xe(p.className,...J.current.enter,...J.current.enterFrom)}:(_.className=xe(p.className,(r=d.current)==null?void 0:r.className),_.className===""&&delete _.className),h.createElement(pe.Provider,{value:z},h.createElement(at,{value:S(R,{visible:P.Open,hidden:P.Closed})|U.flags},I({ourProps:Ee,theirProps:_,defaultTag:En,features:qe,visible:R==="visible",name:"Transition.Child"})))}function wn(e,t){let{show:n,appear:r=!1,unmount:o=!0,...a}=e,l=u.useRef(null),i=B(l,t);ce();let c=De();if(n===void 0&&c!==null&&(n=(c&P.Open)===P.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[s,f]=u.useState(n?"visible":"hidden"),T=Ye(()=>{f("hidden")}),[b,m]=u.useState(!0),v=u.useRef([n]);Q(()=>{b!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),m(!1))},[v,n]);let p=u.useMemo(()=>({show:n,appear:r,initial:b}),[n,r,b]);u.useEffect(()=>{if(n)f("visible");else if(!me(T))f("hidden");else{let E=l.current;if(!E)return;let C=E.getBoundingClientRect();C.x===0&&C.y===0&&C.width===0&&C.height===0&&f("hidden")}},[n,T]);let d={unmount:o},y=$(()=>{var E;b&&m(!1),(E=e.beforeEnter)==null||E.call(e)}),g=$(()=>{var E;b&&m(!1),(E=e.beforeLeave)==null||E.call(e)});return h.createElement(pe.Provider,{value:T},h.createElement(fe.Provider,{value:p},I({ourProps:{...d,as:u.Fragment,children:h.createElement(Xe,{ref:i,...d,...a,beforeEnter:y,beforeLeave:g})},theirProps:{},defaultTag:u.Fragment,features:qe,visible:s==="visible",name:"Transition"})))}function Tn(e,t){let n=u.useContext(fe)!==null,r=De()!==null;return h.createElement(h.Fragment,null,!n&&r?h.createElement(Ce,{ref:t,...e}):h.createElement(Xe,{ref:t,...e}))}let Ce=O(wn),Xe=O(bn),$n=O(Tn),An=Object.assign(Ce,{Child:$n,Root:Ce});export{xn as _,An as t};
