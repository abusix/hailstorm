import{r as a,R as E}from"./index-8db94870.js";import{h as w,T as C}from"./focus-management-e94255e2.js";import{c as v}from"./keyboard-02c5c34a.js";function m(e,l,t){let i=v(l);a.useEffect(()=>{function u(c){i.current(c)}return document.addEventListener(e,u,t),()=>document.removeEventListener(e,u,t)},[e,t])}function L(e,l,t){let i=v(l);a.useEffect(()=>{function u(c){i.current(c)}return window.addEventListener(e,u,t),()=>window.removeEventListener(e,u,t)},[e,t])}function h(e,l,t=!0){let i=a.useRef(!1);a.useEffect(()=>{requestAnimationFrame(()=>{i.current=t})},[t]);function u(n,f){if(!i.current||n.defaultPrevented)return;let r=f(n);if(r===null||!r.getRootNode().contains(r))return;let p=function s(o){return typeof o=="function"?s(o()):Array.isArray(o)||o instanceof Set?o:[o]}(e);for(let s of p){if(s===null)continue;let o=s instanceof HTMLElement?s:s.current;if(o!=null&&o.contains(r)||n.composed&&n.composedPath().includes(o))return}return!w(r,C.Loose)&&r.tabIndex!==-1&&n.preventDefault(),l(n,r)}let c=a.useRef(null);m("mousedown",n=>{var f,r;i.current&&(c.current=((r=(f=n.composedPath)==null?void 0:f.call(n))==null?void 0:r[0])||n.target)},!0),m("click",n=>{c.current&&(u(n,()=>c.current),c.current=null)},!0),L("blur",n=>u(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}let d=a.createContext(null);d.displayName="OpenClosedContext";var g=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(g||{});function y(){return a.useContext(d)}function P({value:e,children:l}){return E.createElement(d.Provider,{value:e},l)}export{y as C,h as H,P as c,g as d,L as s};
//# sourceMappingURL=open-closed-d62512e8.js.map
