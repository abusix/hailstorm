import{j as a}from"./jsx-runtime-vNq4Oc-g.js";import{r as u,R as I}from"./index-4g5l5LRQ.js";import{c as xe}from"./class-names-J070TWId.js";import{S as le,D,y as F,b as K,o as S,l as X,X as M,u as A}from"./render-w54E0F54.js";import{I as ye,o as v}from"./keyboard-o6QkQYrw.js";import{I as B,N as U,O as w,M as P}from"./focus-management-gzNHToo7.js";import{s as Ne}from"./use-resolve-button-type-_yXBvNtz.js";import{f as Ee}from"./use-is-mounted-2jl3pcgu.js";import{c as ge,p as je}from"./hidden-qqzWvBMn.js";import{t as Ce}from"./disposables-x8EK1kJp.js";import{e as $e}from"./owner-fKE-7Rwj.js";import{g as Se,n as se}from"./storybook-utils-94J-CLQK.js";import"./_commonjsHelpers-4gQjN7DL.js";function we({onFocus:e}){let[t,n]=u.useState(!0),r=Ee();return t?I.createElement(ge,{as:"button",type:"button",features:je.Focusable,onFocus:i=>{i.preventDefault();let l,c=50;function x(){if(c--<=0){l&&cancelAnimationFrame(l);return}if(e()){if(cancelAnimationFrame(l),!r.current)return;n(!1);return}l=requestAnimationFrame(x)}l=requestAnimationFrame(x)}}):null}const Te=u.createContext(null);function ke(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let i=(n=r.get(t))!=null?n:0;r.set(t,i+1);let l=Array.from(r.keys()).indexOf(t);function c(){let x=r.get(t);x>1?r.set(t,x-1):r.delete(t)}return[l,c]}}}function Le({children:e}){let t=u.useRef(ke());return u.createElement(Te.Provider,{value:t},e)}function he(e){let t=u.useContext(Te);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=Re(),[r,i]=t.current.get(e,n);return u.useEffect(()=>i,[]),r}function Re(){var e,t,n;let r=(n=(t=(e=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!r)return Symbol();let i=[],l=r;for(;l;)i.push(l.index),l=l.return;return"$."+i.join(".")}var Be=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Be||{}),Ae=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Ae||{}),qe=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(qe||{});let De={0(e,t){var n;let r=B(e.tabs,p=>p.current),i=B(e.panels,p=>p.current),l=r.filter(p=>{var T;return!((T=p.current)!=null&&T.hasAttribute("disabled"))}),c={...e,tabs:r,panels:i};if(t.index<0||t.index>r.length-1){let p=A(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>A(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(l.length===0)return c;let T=A(p,{0:()=>r.indexOf(l[0]),1:()=>r.indexOf(l[l.length-1])});return{...c,selectedIndex:T===-1?e.selectedIndex:T}}let x=r.slice(0,t.index),_=[...r.slice(t.index),...x].find(p=>l.includes(p));if(!_)return c;let y=(n=r.indexOf(_))!=null?n:e.selectedIndex;return y===-1&&(y=e.selectedIndex),{...c,selectedIndex:y}},1(e,t){var n;if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],i=B([...e.tabs,t.tab],c=>c.current),l=(n=i.indexOf(r))!=null?n:e.selectedIndex;return l===-1&&(l=e.selectedIndex),{...e,tabs:i,selectedIndex:l}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:B([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},te=u.createContext(null);te.displayName="TabsDataContext";function k(e){let t=u.useContext(te);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,k),n}return t}let ne=u.createContext(null);ne.displayName="TabsActionsContext";function re(e){let t=u.useContext(ne);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,re),n}return t}function Fe(e,t){return A(t.type,De,e,t)}let Me=u.Fragment;function Oe(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:l,selectedIndex:c=null,...x}=e;const _=r?"vertical":"horizontal",y=i?"manual":"auto";let p=c!==null,T=F(t),[d,h]=u.useReducer(Fe,{selectedIndex:c??n,tabs:[],panels:[]}),f=u.useMemo(()=>({selectedIndex:d.selectedIndex}),[d.selectedIndex]),L=K(l||(()=>{})),R=K(d.tabs),b=u.useMemo(()=>({orientation:_,activation:y,...d}),[_,y,d]),g=S(m=>(h({type:1,tab:m}),()=>h({type:2,tab:m}))),j=S(m=>(h({type:3,panel:m}),()=>h({type:4,panel:m}))),C=S(m=>{$.current!==m&&L.current(m),p||h({type:0,index:m})}),$=K(p?e.selectedIndex:d.selectedIndex),H=u.useMemo(()=>({registerTab:g,registerPanel:j,change:C}),[]);X(()=>{h({type:0,index:c??n})},[c]),X(()=>{if($.current===void 0||d.tabs.length<=0)return;let m=B(d.tabs,E=>E.current);m.some((E,s)=>d.tabs[s]!==E)&&C(m.indexOf(d.tabs[$.current]))});let Y={ref:T};return I.createElement(Le,null,I.createElement(ne.Provider,{value:H},I.createElement(te.Provider,{value:b},b.tabs.length<=0&&I.createElement(we,{onFocus:()=>{var m,E;for(let s of R.current)if(((m=s.current)==null?void 0:m.tabIndex)===0)return(E=s.current)==null||E.focus(),!0;return!1}}),M({ourProps:Y,theirProps:x,slot:f,defaultTag:Me,name:"Tabs"}))))}let Ve="div";function Ue(e,t){let{orientation:n,selectedIndex:r}=k("Tab.List"),i=F(t);return M({ourProps:{ref:i,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:Ve,name:"Tabs.List"})}let Ge="button";function We(e,t){var n,r;let i=ye(),{id:l=`headlessui-tabs-tab-${i}`,...c}=e,{orientation:x,activation:_,selectedIndex:y,tabs:p,panels:T}=k("Tab"),d=re("Tab"),h=k("Tab"),f=u.useRef(null),L=F(f,t);X(()=>d.registerTab(f),[d,f]);let R=he("tabs"),b=p.indexOf(f);b===-1&&(b=R);let g=b===y,j=S(s=>{var N;let V=s();if(V===U.Success&&_==="auto"){let Ie=(N=$e(f))==null?void 0:N.activeElement,ae=h.tabs.findIndex(_e=>_e.current===Ie);ae!==-1&&d.change(ae)}return V}),C=S(s=>{let N=p.map(V=>V.current).filter(Boolean);if(s.key===v.Space||s.key===v.Enter){s.preventDefault(),s.stopPropagation(),d.change(b);return}switch(s.key){case v.Home:case v.PageUp:return s.preventDefault(),s.stopPropagation(),j(()=>w(N,P.First));case v.End:case v.PageDown:return s.preventDefault(),s.stopPropagation(),j(()=>w(N,P.Last))}if(j(()=>A(x,{vertical(){return s.key===v.ArrowUp?w(N,P.Previous|P.WrapAround):s.key===v.ArrowDown?w(N,P.Next|P.WrapAround):U.Error},horizontal(){return s.key===v.ArrowLeft?w(N,P.Previous|P.WrapAround):s.key===v.ArrowRight?w(N,P.Next|P.WrapAround):U.Error}}))===U.Success)return s.preventDefault()}),$=u.useRef(!1),H=S(()=>{var s;$.current||($.current=!0,(s=f.current)==null||s.focus({preventScroll:!0}),d.change(b),Ce(()=>{$.current=!1}))}),Y=S(s=>{s.preventDefault()}),m=u.useMemo(()=>({selected:g}),[g]),E={ref:L,onKeyDown:C,onMouseDown:Y,onClick:H,id:l,role:"tab",type:Ne(e,f),"aria-controls":(r=(n=T[b])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":g,tabIndex:g?0:-1};return M({ourProps:E,theirProps:c,slot:m,defaultTag:Ge,name:"Tabs.Tab"})}let ze="div";function Xe(e,t){let{selectedIndex:n}=k("Tab.Panels"),r=F(t),i=u.useMemo(()=>({selectedIndex:n}),[n]);return M({ourProps:{ref:r},theirProps:e,slot:i,defaultTag:ze,name:"Tabs.Panels"})}let He="div",Ye=le.RenderStrategy|le.Static;function Ke(e,t){var n,r,i,l;let c=ye(),{id:x=`headlessui-tabs-panel-${c}`,tabIndex:_=0,...y}=e,{selectedIndex:p,tabs:T,panels:d}=k("Tab.Panel"),h=re("Tab.Panel"),f=u.useRef(null),L=F(f,t);X(()=>h.registerPanel(f),[h,f]);let R=he("panels"),b=d.indexOf(f);b===-1&&(b=R);let g=b===p,j=u.useMemo(()=>({selected:g}),[g]),C={ref:L,id:x,role:"tabpanel","aria-labelledby":(r=(n=T[b])==null?void 0:n.current)==null?void 0:r.id,tabIndex:g?_:-1};return!g&&((i=y.unmount)==null||i)&&!((l=y.static)!=null&&l)?I.createElement(ge,{as:"span",...C}):M({ourProps:C,theirProps:y,slot:j,defaultTag:He,features:Ye,visible:g,name:"Tabs.Panel"})}let Je=D(We),Qe=D(Oe),Ze=D(Ue),et=D(Xe),tt=D(Ke),O=Object.assign(Je,{Group:Qe,List:Ze,Panels:et,Panel:tt});const ve=I.createContext({type:"primary"});function Pe(){const e=I.useContext(ve);if(!e)throw new Error("Tab compound components cannot be rendered outside the Tab component");return e}const nt={primary:"relative whitespace-nowrap focus:ring-2 ring:primary-200 ui-not-selected:hover:text-neutral-800 ui-not-selected:after:hidden ui-selected:after:absolute ui-selected:after:left-0 ui-selected:after:right-0 ui-selected:after:-bottom-2 ui-selected:after:block ui-selected:after:h-0.5 ui-selected:after:bg-primary-500 disabled:ui-selected:after:bg-primary-500 disabled:text-neutral-500",secondary:"px-4 py-2 ui-not-selected:bg-transparent ui-not-selected:hover:text-neutral-800 focus:ring-2 ring:primary-200 ui-not-selected:hover:bg-neutral-100 ui-selected:text-primary-500 ui-selected:bg-primary-50 disabled:text-neutral-500"},J=({children:e,...t})=>{const{type:n}=Pe();return a.jsx(O,{...t,className:"focus-visible:outline-none",children:a.jsx("div",{className:xe("rounded text-xs font-medium outline-none ui-selected:text-primary-500 ui-not-selected:text-neutral-700",nt[n]),children:e})})};try{J.displayName="TabButton",J.__docgenInfo={description:"",displayName:"TabButton",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}},refName:{defaultValue:null,description:"",name:"refName",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"any"}}}}}catch{}const rt={primary:"gap-5 pb-2",secondary:"gap-2"},Q=({children:e})=>{const{type:t}=Pe();return a.jsx(O.List,{className:xe("flex",rt[t]),children:e})};try{Q.displayName="TabList",Q.__docgenInfo={description:"",displayName:"TabList",props:{}}}catch{}const Z=({children:e})=>a.jsx(O.Panel,{as:I.Fragment,children:e});try{Z.displayName="TabPanel",Z.__docgenInfo={description:"",displayName:"TabPanel",props:{}}}catch{}const ee=({children:e,className:t})=>a.jsx(O.Panels,{className:t,children:e});try{ee.displayName="TabPanels",ee.__docgenInfo={description:"",displayName:"TabPanels",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const o=({type:e="primary",children:t,...n})=>{const r=I.useMemo(()=>({type:e}),[e]);return a.jsx(ve.Provider,{value:r,children:a.jsx(O.Group,{...n,children:t})})};o.List=Q;o.Button=J;o.Panels=ee;o.Panel=Z;try{o.displayName="Tab",o.__docgenInfo={description:"",displayName:"Tab",props:{type:{defaultValue:{value:"primary"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}},refName:{defaultValue:null,description:"",name:"refName",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"any"}},defaultIndex:{defaultValue:null,description:"",name:"defaultIndex",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((index: number) => void)"}},selectedIndex:{defaultValue:null,description:"",name:"selectedIndex",required:!1,type:{name:"number"}},vertical:{defaultValue:null,description:"",name:"vertical",required:!1,type:{name:"boolean"}},manual:{defaultValue:null,description:"",name:"manual",required:!1,type:{name:"boolean"}}}}}catch{}const yt={title:"Tab",component:o,parameters:Se("Tab component. For a detailed explanation on props, please visit the Headless UI [tab-group documentation](https://headlessui.com/react/tabs#tab-group)")},q=({type:e="primary"})=>a.jsxs(o,{type:e,children:[a.jsxs(o.List,{children:[a.jsx(o.Button,{onClick:()=>null,children:"Tab 1"}),a.jsx(o.Button,{onClick:()=>null,children:"Tab 2"}),a.jsx(o.Button,{onClick:()=>null,children:"Tab 3"})]}),a.jsxs(o.Panels,{children:[a.jsx(o.Panel,{children:a.jsx("p",{className:"paragraph-200 pt-2",children:"Content 1"})}),a.jsx(o.Panel,{children:a.jsx("p",{className:"paragraph-200 pt-2",children:"Content 2"})}),a.jsx(o.Panel,{children:a.jsx("p",{className:"paragraph-200 pt-2",children:"Content 3"})})]})]}),G={render:()=>a.jsx(q,{})},W={render:e=>a.jsx(q,{...e}),args:{type:"secondary"}},z={render:e=>a.jsxs(o,{...e,children:[a.jsxs(o.List,{children:[a.jsx(o.Button,{onClick:()=>null,children:"Tab 1"}),a.jsx(o.Button,{onClick:()=>null,children:"Tab 2"}),a.jsx(o.Button,{onClick:()=>null,children:"Tab 3"})]}),a.jsxs(o.Panels,{children:[a.jsx(o.Panel,{children:a.jsx("div",{className:"pt-2",children:a.jsx(q,{})})}),a.jsx(o.Panel,{children:a.jsx("div",{className:"pt-2",children:a.jsx(q,{})})}),a.jsx(o.Panel,{children:a.jsx("div",{className:"pt-2",children:a.jsx(q,{})})})]})]}),args:{type:"primary",vertical:!1,manual:!1,defaultIndex:0},argTypes:{as:se,refName:se,className:{control:{type:"text"}}}};var oe,ie,ue;G.parameters={...G.parameters,docs:{...(oe=G.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  render: () => <TabsExample />
}`,...(ue=(ie=G.parameters)==null?void 0:ie.docs)==null?void 0:ue.source}}};var ce,de,pe;W.parameters={...W.parameters,docs:{...(ce=W.parameters)==null?void 0:ce.docs,source:{originalSource:`{
  render: args => <TabsExample {...args} />,
  args: {
    type: "secondary"
  }
}`,...(pe=(de=W.parameters)==null?void 0:de.docs)==null?void 0:pe.source}}};var me,fe,be;z.parameters={...z.parameters,docs:{...(me=z.parameters)==null?void 0:me.docs,source:{originalSource:`{
  render: args => <Tab {...args}>
            <Tab.List>
                <Tab.Button onClick={() => null}>Tab 1</Tab.Button>
                <Tab.Button onClick={() => null}>Tab 2</Tab.Button>
                <Tab.Button onClick={() => null}>Tab 3</Tab.Button>
            </Tab.List>

            <Tab.Panels>
                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>

                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>

                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>
            </Tab.Panels>
        </Tab>,
  args: {
    type: "primary",
    vertical: false,
    manual: false,
    defaultIndex: 0
  },
  argTypes: {
    as: noControl,
    refName: noControl,
    className: {
      control: {
        type: "text"
      }
    }
  }
}`,...(be=(fe=z.parameters)==null?void 0:fe.docs)==null?void 0:be.source}}};const gt=["Primary","Secondary","NestedTabs"];export{z as NestedTabs,G as Primary,W as Secondary,gt as __namedExportsOrder,yt as default};
