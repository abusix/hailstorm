import{j as F}from"./jsx-runtime-DiklIkkE.js";import{$ as _e,a as Ee,w as $e,e as Pe}from"./use-resolve-button-type-anS-OQ-j.js";import{r as f,R as D}from"./index-DRjF_FHU.js";import{r as z}from"./index-Bgj8Hic8.js";import{m as Re,g as re,c as p,f as B,S as R,s as we,u as Te,a as Oe,F as Fe}from"./use-text-value-JNJ6Y_Ev.js";import{u as ie,K as N,y as q,n as K,o as M,L as C,p as De,_ as de,O as se,a as Ne}from"./use-sync-refs-4PSbzubZ.js";import{M as Ce,x as ke,R as Ae,b as Ge,d as Le,F as je,y as Qe}from"./floating-ByVDprMS.js";import{y as Be}from"./use-inert-others-Dv-IK1tz.js";import{R as Ke,n as ae,m as Ue,f as Ve,o as qe}from"./portal-B37XtxD-.js";import{c as He,u as ze,x as Je,R as We,i as U}from"./open-closed-yLnem6BE.js";import{r as Ye}from"./bugs-DpEN4NTH.js";import{_ as Ze,j as Xe,F as oe,G as ce,A as et,h as tt}from"./focus-management-CtIqEZ7d.js";import{w as nt}from"./description-ZkavqmAj.js";import{a as h}from"./keyboard-BXsyG9-6.js";import{K as me,P as rt}from"./label-mZgg-6rf.js";import{M as st}from"./menu-info-item-D2bjAAx2.js";import{M as at}from"./menu-separator-BFaN24RN.js";import{M as ot}from"./menu-title-DdmGt5tR.js";var lt=Object.defineProperty,ut=(e,n,t)=>n in e?lt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,le=(e,n,t)=>(ut(e,typeof n!="symbol"?n+"":n,t),t),b=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(b||{}),V=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(V||{}),i=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e))(i||{});function ue(e,n=t=>t){let t=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=Ze(n(e.items.slice()),a=>a.dataRef.current.domRef.current),s=t?r.indexOf(t):null;return s===-1&&(s=null),{items:r,activeItemIndex:s}}let it={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,pendingFocus:{focus:p.Nothing},menuState:1}},0(e,n){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:n.focus,menuState:0}},2:(e,n)=>{var t,r,s,a,u;if(e.menuState===1)return e;let m={...e,searchQuery:"",activationTrigger:(t=n.trigger)!=null?t:1,__demoMode:!1};if(n.focus===p.Nothing)return{...m,activeItemIndex:null};if(n.focus===p.Specific)return{...m,activeItemIndex:e.items.findIndex(o=>o.id===n.id)};if(n.focus===p.Previous){let o=e.activeItemIndex;if(o!==null){let E=e.items[o].dataRef.current.domRef,I=B(n,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});if(I!==null){let d=e.items[I].dataRef.current.domRef;if(((r=E.current)==null?void 0:r.previousElementSibling)===d.current||((s=d.current)==null?void 0:s.previousElementSibling)===null)return{...m,activeItemIndex:I}}}}else if(n.focus===p.Next){let o=e.activeItemIndex;if(o!==null){let E=e.items[o].dataRef.current.domRef,I=B(n,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});if(I!==null){let d=e.items[I].dataRef.current.domRef;if(((a=E.current)==null?void 0:a.nextElementSibling)===d.current||((u=d.current)==null?void 0:u.nextElementSibling)===null)return{...m,activeItemIndex:I}}}}let v=ue(e),S=B(n,{resolveItems:()=>v.items,resolveActiveIndex:()=>v.activeItemIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...m,...v,activeItemIndex:S}},3:(e,n)=>{let t=e.searchQuery!==""?0:1,r=e.searchQuery+n.value.toLowerCase(),s=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+t).concat(e.items.slice(0,e.activeItemIndex+t)):e.items).find(u=>{var m;return((m=u.dataRef.current.textValue)==null?void 0:m.startsWith(r))&&!u.dataRef.current.disabled}),a=s?e.items.indexOf(s):-1;return a===-1||a===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:a,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,n)=>{let t=e.items.concat(n.items.map(s=>s)),r=e.activeItemIndex;return e.pendingFocus.focus!==p.Nothing&&(r=B(e.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>e.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled})),{...e,items:t,activeItemIndex:r,pendingFocus:{focus:p.Nothing},pendingShouldSort:!0}},6:(e,n)=>{let t=e.items,r=[],s=new Set(n.items);for(let[a,u]of t.entries())if(s.has(u.id)&&(r.push(a),s.delete(u.id),s.size===0))break;if(r.length>0){t=t.slice();for(let a of r.reverse())t.splice(a,1)}return{...e,items:t,activationTrigger:1}},7:(e,n)=>e.buttonElement===n.element?e:{...e,buttonElement:n.element},8:(e,n)=>e.itemsElement===n.element?e:{...e,itemsElement:n.element},9:e=>e.pendingShouldSort?{...e,...ue(e),pendingShouldSort:!1}:e};class Z extends Re{constructor(n){super(n),le(this,"actions",{registerItem:re(()=>{let t=[],r=new Set;return[(s,a)=>{r.has(a)||(r.add(a),t.push({id:s,dataRef:a}))},()=>(r.clear(),this.send({type:5,items:t.splice(0)}))]}),unregisterItem:re(()=>{let t=[];return[r=>t.push(r),()=>this.send({type:6,items:t.splice(0)})]})}),le(this,"selectors",{activeDescendantId(t){var r;let s=t.activeItemIndex,a=t.items;return s===null||(r=a[s])==null?void 0:r.id},isActive(t,r){var s;let a=t.activeItemIndex,u=t.items;return a!==null?((s=u[a])==null?void 0:s.id)===r:!1},shouldScrollIntoView(t,r){return t.__demoMode||t.menuState!==0||t.activationTrigger===0?!1:this.isActive(t,r)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})})}static new({__demoMode:n=!1}={}){return new Z({__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:p.Nothing}})}reduce(n,t){return ie(t.type,it,n,t)}}const pe=f.createContext(null);function X(e){let n=f.useContext(pe);if(n===null){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,fe),t}return n}function fe({__demoMode:e=!1}={}){return f.useMemo(()=>Z.new({__demoMode:e}),[])}let dt=f.Fragment;function ct(e,n){let{__demoMode:t=!1,...r}=e,s=fe({__demoMode:t}),[a,u,m]=R(s,g=>[g.menuState,g.itemsElement,g.buttonElement]),v=q(n),S=a===b.Open;Ke(S,[m,u],(g,T)=>{var $;s.send({type:i.CloseMenu}),et(T,tt.Loose)||(g.preventDefault(),($=s.state.buttonElement)==null||$.focus())});let o=M(()=>{s.send({type:i.CloseMenu})}),E=f.useMemo(()=>({open:a===b.Open,close:o}),[a,o]),I={ref:v},d=C();return D.createElement(Ce,null,D.createElement(pe.Provider,{value:s},D.createElement(He,{value:ie(a,{[b.Open]:U.Open,[b.Closed]:U.Closed})},d({ourProps:I,theirProps:r,slot:E,defaultTag:dt,name:"Menu"}))))}let mt="button";function pt(e,n){let t=X("Menu.Button"),r=f.useId(),{id:s=`headlessui-menu-button-${r}`,disabled:a=!1,autoFocus:u=!1,...m}=e,v=f.useRef(null),S=je(),o=q(n,v,Qe(),M(c=>t.send({type:i.SetButtonElement,element:c}))),E=M(c=>{switch(c.key){case h.Space:case h.Enter:case h.ArrowDown:c.preventDefault(),c.stopPropagation(),t.send({type:i.OpenMenu,focus:{focus:p.First}});break;case h.ArrowUp:c.preventDefault(),c.stopPropagation(),t.send({type:i.OpenMenu,focus:{focus:p.Last}});break}}),I=M(c=>{switch(c.key){case h.Space:c.preventDefault();break}}),[d,g]=R(t,c=>[c.menuState,c.itemsElement]),T=M(c=>{var G;if(c.button===0){if(Ye(c.currentTarget))return c.preventDefault();a||(d===b.Open?(z.flushSync(()=>t.send({type:i.CloseMenu})),(G=v.current)==null||G.focus({preventScroll:!0})):(c.preventDefault(),t.send({type:i.OpenMenu,focus:{focus:p.Nothing},trigger:V.Pointer})))}}),{isFocusVisible:$,focusProps:x}=_e({autoFocus:u}),{isHovered:_,hoverProps:k}=Ee({isDisabled:a}),{pressed:P,pressProps:A}=$e({disabled:a}),O=f.useMemo(()=>({open:d===b.Open,active:P||d===b.Open,disabled:a,hover:_,focus:$,autofocus:u}),[d,_,$,P,a,u]),L=de(S(),{ref:o,id:s,type:Pe(e,v.current),"aria-haspopup":"menu","aria-controls":g==null?void 0:g.id,"aria-expanded":d===b.Open,disabled:a||void 0,autoFocus:u,onKeyDown:E,onKeyUp:I,onMouseDown:T},x,k,A);return C()({ourProps:L,theirProps:m,slot:O,defaultTag:mt,name:"Menu.Button"})}let ft="div",vt=se.RenderStrategy|se.Static;function It(e,n){let t=f.useId(),{id:r=`headlessui-menu-items-${t}`,anchor:s,portal:a=!1,modal:u=!0,transition:m=!1,...v}=e,S=ke(s),o=X("Menu.Items"),[E,I]=Ae(S),d=Ge(),[g,T]=f.useState(null),$=q(n,S?E:null,M(l=>o.send({type:i.SetItemsElement,element:l})),T),[x,_]=R(o,l=>[l.menuState,l.buttonElement]),k=ae(_),P=ae(g);S&&(a=!0);let A=ze(),[O,L]=Je(m,g,A!==null?(A&U.Open)===U.Open:x===b.Open);Ue(O,_,()=>{o.send({type:i.CloseMenu})});let c=R(o,l=>l.__demoMode),G=c?!1:u&&x===b.Open;Ve(G,P);let H=c?!1:u&&x===b.Open;Be(H,{allowed:f.useCallback(()=>[_,g],[_,g])});let y=x!==b.Open,Q=Oe(y,_)?!1:O;f.useEffect(()=>{let l=g;l&&x===b.Open&&l!==(P==null?void 0:P.activeElement)&&l.focus({preventScroll:!0})},[x,g,P]),Fe(x===b.Open,{container:g,accept(l){return l.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:l.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(l){l.setAttribute("role","none")}});let ee=De(),ye=M(l=>{var j,te,ne;switch(ee.dispose(),l.key){case h.Space:if(o.state.searchQuery!=="")return l.preventDefault(),l.stopPropagation(),o.send({type:i.Search,value:l.key});case h.Enter:if(l.preventDefault(),l.stopPropagation(),o.state.activeItemIndex!==null){let{dataRef:Se}=o.state.items[o.state.activeItemIndex];(te=(j=Se.current)==null?void 0:j.domRef.current)==null||te.click()}o.send({type:i.CloseMenu}),ce(o.state.buttonElement);break;case h.ArrowDown:return l.preventDefault(),l.stopPropagation(),o.send({type:i.GoToItem,focus:p.Next});case h.ArrowUp:return l.preventDefault(),l.stopPropagation(),o.send({type:i.GoToItem,focus:p.Previous});case h.Home:case h.PageUp:return l.preventDefault(),l.stopPropagation(),o.send({type:i.GoToItem,focus:p.First});case h.End:case h.PageDown:return l.preventDefault(),l.stopPropagation(),o.send({type:i.GoToItem,focus:p.Last});case h.Escape:l.preventDefault(),l.stopPropagation(),z.flushSync(()=>o.send({type:i.CloseMenu})),(ne=o.state.buttonElement)==null||ne.focus({preventScroll:!0});break;case h.Tab:l.preventDefault(),l.stopPropagation(),z.flushSync(()=>o.send({type:i.CloseMenu})),Xe(o.state.buttonElement,l.shiftKey?oe.Previous:oe.Next);break;default:l.key.length===1&&(o.send({type:i.Search,value:l.key}),ee.setTimeout(()=>o.send({type:i.ClearSearch}),350));break}}),be=M(l=>{switch(l.key){case h.Space:l.preventDefault();break}}),he=f.useMemo(()=>({open:x===b.Open}),[x]),xe=de(S?d():{},{"aria-activedescendant":R(o,o.selectors.activeDescendantId),"aria-labelledby":R(o,l=>{var j;return(j=l.buttonElement)==null?void 0:j.id}),id:r,onKeyDown:ye,onKeyUp:be,role:"menu",tabIndex:x===b.Open?0:void 0,ref:$,style:{...v.style,...I,"--button-width":Le(_,!0).width},...We(L)}),Me=C();return D.createElement(qe,{enabled:a?e.static||O:!1,ownerDocument:k},Me({ourProps:xe,theirProps:v,slot:he,defaultTag:ft,features:vt,visible:Q,name:"Menu.Items"}))}let gt=f.Fragment;function yt(e,n){let t=f.useId(),{id:r=`headlessui-menu-item-${t}`,disabled:s=!1,...a}=e,u=X("Menu.Item"),m=R(u,y=>u.selectors.isActive(y,r)),v=f.useRef(null),S=q(n,v),o=R(u,y=>u.selectors.shouldScrollIntoView(y,r));K(()=>{if(o)return Ne().requestAnimationFrame(()=>{var y,Q;(Q=(y=v.current)==null?void 0:y.scrollIntoView)==null||Q.call(y,{block:"nearest"})})},[o,v]);let E=we(v),I=f.useRef({disabled:s,domRef:v,get textValue(){return E()}});K(()=>{I.current.disabled=s},[I,s]),K(()=>(u.actions.registerItem(r,I),()=>u.actions.unregisterItem(r)),[I,r]);let d=M(()=>{u.send({type:i.CloseMenu})}),g=M(y=>{if(s)return y.preventDefault();u.send({type:i.CloseMenu}),ce(u.state.buttonElement)}),T=M(()=>{if(s)return u.send({type:i.GoToItem,focus:p.Nothing});u.send({type:i.GoToItem,focus:p.Specific,id:r})}),$=Te(),x=M(y=>{$.update(y),!s&&(m||u.send({type:i.GoToItem,focus:p.Specific,id:r,trigger:V.Pointer}))}),_=M(y=>{$.wasMoved(y)&&(s||m||u.send({type:i.GoToItem,focus:p.Specific,id:r,trigger:V.Pointer}))}),k=M(y=>{$.wasMoved(y)&&(s||m&&u.send({type:i.GoToItem,focus:p.Nothing}))}),[P,A]=me(),[O,L]=nt(),c=f.useMemo(()=>({active:m,focus:m,disabled:s,close:d}),[m,s,d]),G={id:r,ref:S,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-labelledby":P,"aria-describedby":O,disabled:void 0,onClick:g,onFocus:T,onPointerEnter:x,onMouseEnter:x,onPointerMove:_,onMouseMove:_,onPointerLeave:k,onMouseLeave:k},H=C();return D.createElement(A,null,D.createElement(L,null,H({ourProps:G,theirProps:a,slot:c,defaultTag:gt,name:"Menu.Item"})))}let bt="div";function ht(e,n){let[t,r]=me(),s=e,a={ref:n,"aria-labelledby":t,role:"group"},u=C();return D.createElement(r,null,u({ourProps:a,theirProps:s,slot:{},defaultTag:bt,name:"Menu.Section"}))}let xt="header";function Mt(e,n){let t=f.useId(),{id:r=`headlessui-menu-heading-${t}`,...s}=e,a=rt();K(()=>a.register(r),[r,a.register]);let u={id:r,ref:n,role:"presentation",...a.props};return C()({ourProps:u,theirProps:s,slot:{},defaultTag:xt,name:"Menu.Heading"})}let St="div";function _t(e,n){let t=e,r={ref:n,role:"separator"};return C()({ourProps:r,theirProps:t,slot:{},defaultTag:St,name:"Menu.Separator"})}let Et=N(ct),ve=N(pt),Ie=N(It),ge=N(yt),$t=N(ht),Pt=N(Mt),Rt=N(_t),wt=Object.assign(Et,{Button:ve,Items:Ie,Item:ge,Section:$t,Heading:Pt,Separator:Rt});const J=({children:e,className:n})=>F.jsx(ve,{as:"div",className:n,children:e});try{J.displayName="MenuButton",J.__docgenInfo={description:"",displayName:"MenuButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const W=({children:e,LeftIcon:n,disabled:t=!1,onClick:r})=>F.jsx(ge,{disabled:t,children:F.jsxs("button",{type:"button",className:"group relative flex w-full cursor-pointer items-center gap-4 bg-neutral-0 px-4 py-2.5 hover:bg-neutral-100 disabled:bg-neutral-0 data-[focus]:bg-neutral-200",disabled:t,onKeyDown:r,onClick:r,children:[n?F.jsx(n,{className:"h-4 w-4 fill-neutral-600 group-disabled:fill-neutral-400"}):null,F.jsx("div",{className:"paragraph-200 text-neutral-800 group-disabled:text-neutral-400",children:e})]})});try{W.displayName="MenuItem",W.__docgenInfo={description:"",displayName:"MenuItem",props:{LeftIcon:{defaultValue:null,description:"",name:"LeftIcon",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}}}catch{}const Y=({children:e})=>F.jsx(Ie,{className:"absolute right-0 z-10 mt-2 flex w-52 flex-col rounded-md bg-neutral-0 py-2 shadow-md outline-none",children:e});try{Y.displayName="MenuItems",Y.__docgenInfo={description:"",displayName:"MenuItems",props:{}}}catch{}const w=({children:e})=>F.jsx(wt,{as:"div",className:"relative",children:e});w.Button=J;w.Items=Y;w.Title=ot;w.Item=W;w.InfoItem=st;w.Separator=at;try{w.displayName="Menu",w.__docgenInfo={description:"",displayName:"Menu",props:{}}}catch{}export{W as M,w as a};
