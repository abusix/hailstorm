import{j as r}from"./jsx-runtime-94f6e698.js";import{r as c,R as P}from"./index-8db94870.js";import{c as xe}from"./class-names-9cb99c69.js";import{S as le,D,y as F,c as K,o as $,l as X,X as M,I as ye,u as A,a as h,t as Ne}from"./keyboard-02c5c34a.js";import{I as B,N as U,e as Ee,O as w,M as v}from"./focus-management-e94255e2.js";import{s as je}from"./use-resolve-button-type-3cc54b4d.js";import{c as Te,p as Ce}from"./hidden-c908395f.js";import{g as Se,n as se}from"./storybook-utils-5525ffdc.js";import"./_commonjsHelpers-042e6b4d.js";function $e({onFocus:e}){let[t,n]=c.useState(!0);return t?P.createElement(Te,{as:"button",type:"button",features:Ce.Focusable,onFocus:a=>{a.preventDefault();let l,o=50;function u(){if(o--<=0){l&&cancelAnimationFrame(l);return}if(e()){n(!1),cancelAnimationFrame(l);return}l=requestAnimationFrame(u)}l=requestAnimationFrame(u)}}):null}const ge=c.createContext(null);function we(){return{groups:new Map,get(e,t){var n;let a=this.groups.get(e);a||(a=new Map,this.groups.set(e,a));let l=(n=a.get(t))!=null?n:0;a.set(t,l+1);let o=Array.from(a.keys()).indexOf(t);function u(){let g=a.get(t);g>1?a.set(t,g-1):a.delete(t)}return[o,u]}}}function ke({children:e}){let t=c.useRef(we());return c.createElement(ge.Provider,{value:t},e)}function he(e){let t=c.useContext(ge);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=Le(),[a,l]=t.current.get(e,n);return c.useEffect(()=>l,[]),a}function Le(){var e,t,n;let a=(n=(t=(e=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!a)return Symbol();let l=[],o=a;for(;o;)l.push(o.index),o=o.return;return"$."+l.join(".")}var Re=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Re||{}),Be=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Be||{}),Ae=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Ae||{});let qe={0(e,t){var n;let a=B(e.tabs,p=>p.current),l=B(e.panels,p=>p.current),o=a.filter(p=>{var N;return!((N=p.current)!=null&&N.hasAttribute("disabled"))}),u={...e,tabs:a,panels:l};if(t.index<0||t.index>a.length-1){let p=A(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>A(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});return o.length===0?u:{...u,selectedIndex:A(p,{0:()=>a.indexOf(o[0]),1:()=>a.indexOf(o[o.length-1])})}}let g=a.slice(0,t.index),_=[...a.slice(t.index),...g].find(p=>o.includes(p));if(!_)return u;let x=(n=a.indexOf(_))!=null?n:e.selectedIndex;return x===-1&&(x=e.selectedIndex),{...u,selectedIndex:x}},1(e,t){var n;if(e.tabs.includes(t.tab))return e;let a=e.tabs[e.selectedIndex],l=B([...e.tabs,t.tab],u=>u.current),o=(n=l.indexOf(a))!=null?n:e.selectedIndex;return o===-1&&(o=e.selectedIndex),{...e,tabs:l,selectedIndex:o}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:B([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},te=c.createContext(null);te.displayName="TabsDataContext";function k(e){let t=c.useContext(te);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,k),n}return t}let ne=c.createContext(null);ne.displayName="TabsActionsContext";function ae(e){let t=c.useContext(ne);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ae),n}return t}function De(e,t){return A(t.type,qe,e,t)}let Fe=c.Fragment;function Me(e,t){let{defaultIndex:n=0,vertical:a=!1,manual:l=!1,onChange:o,selectedIndex:u=null,...g}=e;const _=a?"vertical":"horizontal",x=l?"manual":"auto";let p=u!==null,N=F(t),[d,T]=c.useReducer(De,{selectedIndex:u??n,tabs:[],panels:[]}),b=c.useMemo(()=>({selectedIndex:d.selectedIndex}),[d.selectedIndex]),L=K(o||(()=>{})),R=K(d.tabs),f=c.useMemo(()=>({orientation:_,activation:x,...d}),[_,x,d]),y=$(m=>(T({type:1,tab:m}),()=>T({type:2,tab:m}))),j=$(m=>(T({type:3,panel:m}),()=>T({type:4,panel:m}))),C=$(m=>{S.current!==m&&L.current(m),p||T({type:0,index:m})}),S=K(p?e.selectedIndex:d.selectedIndex),H=c.useMemo(()=>({registerTab:y,registerPanel:j,change:C}),[]);X(()=>{T({type:0,index:u??n})},[u]),X(()=>{if(S.current===void 0||d.tabs.length<=0)return;let m=B(d.tabs,E=>E.current);m.some((E,s)=>d.tabs[s]!==E)&&C(m.indexOf(d.tabs[S.current]))});let Y={ref:N};return P.createElement(ke,null,P.createElement(ne.Provider,{value:H},P.createElement(te.Provider,{value:f},f.tabs.length<=0&&P.createElement($e,{onFocus:()=>{var m,E;for(let s of R.current)if(((m=s.current)==null?void 0:m.tabIndex)===0)return(E=s.current)==null||E.focus(),!0;return!1}}),M({ourProps:Y,theirProps:g,slot:b,defaultTag:Fe,name:"Tabs"}))))}let Oe="div";function Ve(e,t){let{orientation:n,selectedIndex:a}=k("Tab.List"),l=F(t);return M({ourProps:{ref:l,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:a},defaultTag:Oe,name:"Tabs.List"})}let Ue="button";function Ge(e,t){var n,a;let l=ye(),{id:o=`headlessui-tabs-tab-${l}`,...u}=e,{orientation:g,activation:_,selectedIndex:x,tabs:p,panels:N}=k("Tab"),d=ae("Tab"),T=k("Tab"),b=c.useRef(null),L=F(b,t);X(()=>d.registerTab(b),[d,b]);let R=he("tabs"),f=p.indexOf(b);f===-1&&(f=R);let y=f===x,j=$(s=>{var I;let V=s();if(V===U.Success&&_==="auto"){let _e=(I=Ee(b))==null?void 0:I.activeElement,re=T.tabs.findIndex(Ie=>Ie.current===_e);re!==-1&&d.change(re)}return V}),C=$(s=>{let I=p.map(V=>V.current).filter(Boolean);if(s.key===h.Space||s.key===h.Enter){s.preventDefault(),s.stopPropagation(),d.change(f);return}switch(s.key){case h.Home:case h.PageUp:return s.preventDefault(),s.stopPropagation(),j(()=>w(I,v.First));case h.End:case h.PageDown:return s.preventDefault(),s.stopPropagation(),j(()=>w(I,v.Last))}if(j(()=>A(g,{vertical(){return s.key===h.ArrowUp?w(I,v.Previous|v.WrapAround):s.key===h.ArrowDown?w(I,v.Next|v.WrapAround):U.Error},horizontal(){return s.key===h.ArrowLeft?w(I,v.Previous|v.WrapAround):s.key===h.ArrowRight?w(I,v.Next|v.WrapAround):U.Error}}))===U.Success)return s.preventDefault()}),S=c.useRef(!1),H=$(()=>{var s;S.current||(S.current=!0,(s=b.current)==null||s.focus(),d.change(f),Ne(()=>{S.current=!1}))}),Y=$(s=>{s.preventDefault()}),m=c.useMemo(()=>({selected:y}),[y]),E={ref:L,onKeyDown:C,onMouseDown:Y,onClick:H,id:o,role:"tab",type:je(e,b),"aria-controls":(a=(n=N[f])==null?void 0:n.current)==null?void 0:a.id,"aria-selected":y,tabIndex:y?0:-1};return M({ourProps:E,theirProps:u,slot:m,defaultTag:Ue,name:"Tabs.Tab"})}let We="div";function ze(e,t){let{selectedIndex:n}=k("Tab.Panels"),a=F(t),l=c.useMemo(()=>({selectedIndex:n}),[n]);return M({ourProps:{ref:a},theirProps:e,slot:l,defaultTag:We,name:"Tabs.Panels"})}let Xe="div",He=le.RenderStrategy|le.Static;function Ye(e,t){var n,a,l,o;let u=ye(),{id:g=`headlessui-tabs-panel-${u}`,tabIndex:_=0,...x}=e,{selectedIndex:p,tabs:N,panels:d}=k("Tab.Panel"),T=ae("Tab.Panel"),b=c.useRef(null),L=F(b,t);X(()=>T.registerPanel(b),[T,b]);let R=he("panels"),f=d.indexOf(b);f===-1&&(f=R);let y=f===p,j=c.useMemo(()=>({selected:y}),[y]),C={ref:L,id:g,role:"tabpanel","aria-labelledby":(a=(n=N[f])==null?void 0:n.current)==null?void 0:a.id,tabIndex:y?_:-1};return!y&&((l=x.unmount)==null||l)&&!((o=x.static)!=null&&o)?P.createElement(Te,{as:"span",...C}):M({ourProps:C,theirProps:x,slot:j,defaultTag:Xe,features:He,visible:y,name:"Tabs.Panel"})}let Ke=D(Ge),Je=D(Me),Qe=D(Ve),Ze=D(ze),et=D(Ye),O=Object.assign(Ke,{Group:Je,List:Qe,Panels:Ze,Panel:et});const ve=P.createContext({type:"primary"});function Pe(){const e=P.useContext(ve);if(!e)throw new Error("Tab compound components cannot be rendered outside the Tab component");return e}const tt={primary:"relative whitespace-nowrap focus:ring-2 ring:primary-200 ui-not-selected:hover:text-neutral-800 ui-not-selected:after:hidden ui-selected:after:absolute ui-selected:after:left-0 ui-selected:after:right-0 ui-selected:after:-bottom-2 ui-selected:after:block ui-selected:after:h-0.5 ui-selected:after:bg-primary-500 disabled:ui-selected:after:bg-primary-500 disabled:text-neutral-500",secondary:"px-4 py-2 ui-not-selected:bg-transparent ui-not-selected:hover:text-neutral-800 focus:ring-2 ring:primary-200 ui-not-selected:hover:bg-neutral-100 ui-selected:text-primary-500 ui-selected:bg-primary-50 disabled:text-neutral-500"},J=({children:e,...t})=>{const{type:n}=Pe();return r.jsx(O,{...t,className:"focus-visible:outline-none",children:r.jsx("div",{className:xe("rounded text-xs font-medium outline-none ui-selected:text-primary-500 ui-not-selected:text-neutral-700",tt[n]),children:e})})};try{J.displayName="TabButton",J.__docgenInfo={description:"",displayName:"TabButton",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}},refName:{defaultValue:null,description:"",name:"refName",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"any"}}}}}catch{}const nt={primary:"gap-5 pb-2",secondary:"gap-2"},Q=({children:e})=>{const{type:t}=Pe();return r.jsx(O.List,{className:xe("flex",nt[t]),children:e})};try{Q.displayName="TabList",Q.__docgenInfo={description:"",displayName:"TabList",props:{}}}catch{}const Z=({children:e})=>r.jsx(O.Panel,{as:P.Fragment,children:e});try{Z.displayName="TabPanel",Z.__docgenInfo={description:"",displayName:"TabPanel",props:{}}}catch{}const ee=({children:e})=>r.jsx(O.Panels,{children:e});try{ee.displayName="TabPanels",ee.__docgenInfo={description:"",displayName:"TabPanels",props:{}}}catch{}const i=({type:e="primary",children:t,...n})=>{const a=P.useMemo(()=>({type:e}),[e]);return r.jsx(ve.Provider,{value:a,children:r.jsx(O.Group,{...n,children:t})})};i.List=Q;i.Button=J;i.Panels=ee;i.Panel=Z;try{i.displayName="Tab",i.__docgenInfo={description:"",displayName:"Tab",props:{type:{defaultValue:{value:"primary"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}},refName:{defaultValue:null,description:"",name:"refName",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"any"}},defaultIndex:{defaultValue:null,description:"",name:"defaultIndex",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((index: number) => void)"}},selectedIndex:{defaultValue:null,description:"",name:"selectedIndex",required:!1,type:{name:"number"}},vertical:{defaultValue:null,description:"",name:"vertical",required:!1,type:{name:"boolean"}},manual:{defaultValue:null,description:"",name:"manual",required:!1,type:{name:"boolean"}}}}}catch{}const pt={title:"Tab",component:i,parameters:Se("Tab component. For a detailed explanation on props, please visit the Headless UI [tab-group documentation](https://headlessui.com/react/tabs#tab-group)")},q=({type:e="primary"})=>r.jsxs(i,{type:e,children:[r.jsxs(i.List,{children:[r.jsx(i.Button,{onClick:()=>null,children:"Tab 1"}),r.jsx(i.Button,{onClick:()=>null,children:"Tab 2"}),r.jsx(i.Button,{onClick:()=>null,children:"Tab 3"})]}),r.jsxs(i.Panels,{children:[r.jsx(i.Panel,{children:r.jsx("p",{className:"paragraph-200 pt-2",children:"Content 1"})}),r.jsx(i.Panel,{children:r.jsx("p",{className:"paragraph-200 pt-2",children:"Content 2"})}),r.jsx(i.Panel,{children:r.jsx("p",{className:"paragraph-200 pt-2",children:"Content 3"})})]})]}),G={render:()=>r.jsx(q,{})},W={render:e=>r.jsx(q,{...e}),args:{type:"secondary"}},z={render:e=>r.jsxs(i,{...e,children:[r.jsxs(i.List,{children:[r.jsx(i.Button,{onClick:()=>null,children:"Tab 1"}),r.jsx(i.Button,{onClick:()=>null,children:"Tab 2"}),r.jsx(i.Button,{onClick:()=>null,children:"Tab 3"})]}),r.jsxs(i.Panels,{children:[r.jsx(i.Panel,{children:r.jsx("div",{className:"pt-2",children:r.jsx(q,{})})}),r.jsx(i.Panel,{children:r.jsx("div",{className:"pt-2",children:r.jsx(q,{})})}),r.jsx(i.Panel,{children:r.jsx("div",{className:"pt-2",children:r.jsx(q,{})})})]})]}),args:{type:"primary",vertical:!1,manual:!1,defaultIndex:0},argTypes:{as:se,refName:se,className:{control:{type:"text"}}}};var oe,ie,ue;G.parameters={...G.parameters,docs:{...(oe=G.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  render: () => <TabsExample />
}`,...(ue=(ie=G.parameters)==null?void 0:ie.docs)==null?void 0:ue.source}}};var ce,de,pe;W.parameters={...W.parameters,docs:{...(ce=W.parameters)==null?void 0:ce.docs,source:{originalSource:`{
  render: args => <TabsExample {...args} />,
  args: {
    type: "secondary"
  }
}`,...(pe=(de=W.parameters)==null?void 0:de.docs)==null?void 0:pe.source}}};var me,be,fe;z.parameters={...z.parameters,docs:{...(me=z.parameters)==null?void 0:me.docs,source:{originalSource:`{
  render: args => <Tab {...args}>
            <Tab.List>
                <Tab.Button onClick={() => null}>Tab 1</Tab.Button>
                <Tab.Button onClick={() => null}>Tab 2</Tab.Button>
                <Tab.Button onClick={() => null}>Tab 3</Tab.Button>
            </Tab.List>

            <Tab.Panels>
                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>

                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>

                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>
            </Tab.Panels>
        </Tab>,
  args: {
    type: "primary",
    vertical: false,
    manual: false,
    defaultIndex: 0
  },
  argTypes: {
    as: noControl,
    refName: noControl,
    className: {
      control: {
        type: "text"
      }
    }
  }
}`,...(fe=(be=z.parameters)==null?void 0:be.docs)==null?void 0:fe.source}}};const mt=["Primary","Secondary","NestedTabs"];export{z as NestedTabs,G as Primary,W as Secondary,mt as __namedExportsOrder,pt as default};
//# sourceMappingURL=tab.stories-84f37f54.js.map
