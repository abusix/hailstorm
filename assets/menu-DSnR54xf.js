import{j as D}from"./jsx-runtime-BJwPuJt0.js";import{$ as de,a as me,w as pe,T as fe}from"./use-resolve-button-type-DPkGNm3y.js";import{r as f,R as w}from"./index-DX35FyXq.js";import{r as j}from"./index-CrrVXmAv.js";import{p as ve,F as Ie,s as ye,u as be,c as y,f as B}from"./use-text-value-DdH_QLwy.js";import{M as X,W as T,y as V,o as x,u as Y,H as F,D as ee,p as ge,n as L,a as xe}from"./use-sync-refs-DTQ85WuU.js";import{v as he,F as Re,y as Se,x as Me,R as _e,b as $e,f as Pe}from"./floating-JN-7RHnQ.js";import{y as Ee}from"./use-inert-others-CKkByFCa.js";import{m as De}from"./use-server-handoff-complete-czgFdGyU.js";import{F as we,n as Te,f as Fe,t as Ne}from"./portal-DK2bHMyK.js";import{c as ke,i as O,u as Ce,V as Ae,A as je}from"./open-closed-CW48b85x.js";import{r as Le}from"./bugs-DpEN4NTH.js";import{A as Oe,h as Ve,j as Qe,F as Z,G as te,_ as Be}from"./focus-management-2QVwgUsp.js";import{U as Ue}from"./description-YAtjMrPw.js";import{o as I}from"./keyboard-CMPngVPH.js";import{z as re,P as Ke}from"./label-Bl9aPnpE.js";import{M as qe}from"./menu-info-item-DvOtjp2S.js";import{M as He}from"./menu-separator-DNO7lxD-.js";import{M as We}from"./menu-title-C9Bj-2PS.js";var ze=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ze||{}),Ge=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ge||{}),Je=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(Je||{});function U(e,r=a=>a){let a=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=Be(r(e.items.slice()),l=>l.dataRef.current.domRef.current),o=a?n.indexOf(a):null;return o===-1&&(o=null),{items:n,activeItemIndex:o}}let Xe={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,r)=>{var a,n,o,l,s;if(e.menuState===1)return e;let d={...e,searchQuery:"",activationTrigger:(a=r.trigger)!=null?a:1,__demoMode:!1};if(r.focus===y.Nothing)return{...d,activeItemIndex:null};if(r.focus===y.Specific)return{...d,activeItemIndex:e.items.findIndex(m=>m.id===r.id)};if(r.focus===y.Previous){let m=e.activeItemIndex;if(m!==null){let b=e.items[m].dataRef.current.domRef,t=B(r,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});if(t!==null){let u=e.items[t].dataRef.current.domRef;if(((n=b.current)==null?void 0:n.previousElementSibling)===u.current||((o=u.current)==null?void 0:o.previousElementSibling)===null)return{...d,activeItemIndex:t}}}}else if(r.focus===y.Next){let m=e.activeItemIndex;if(m!==null){let b=e.items[m].dataRef.current.domRef,t=B(r,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});if(t!==null){let u=e.items[t].dataRef.current.domRef;if(((l=b.current)==null?void 0:l.nextElementSibling)===u.current||((s=u.current)==null?void 0:s.nextElementSibling)===null)return{...d,activeItemIndex:t}}}}let c=U(e),p=B(r,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});return{...d,...c,activeItemIndex:p}},3:(e,r)=>{let a=e.searchQuery!==""?0:1,n=e.searchQuery+r.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+a).concat(e.items.slice(0,e.activeItemIndex+a)):e.items).find(s=>{var d;return((d=s.dataRef.current.textValue)==null?void 0:d.startsWith(n))&&!s.dataRef.current.disabled}),l=o?e.items.indexOf(o):-1;return l===-1||l===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:l,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,r)=>{let a=U(e,n=>[...n,{id:r.id,dataRef:r.dataRef}]);return{...e,...a}},6:(e,r)=>{let a=U(e,n=>{let o=n.findIndex(l=>l.id===r.id);return o!==-1&&n.splice(o,1),n});return{...e,...a,activationTrigger:1}}},W=f.createContext(null);W.displayName="MenuContext";function Q(e){let r=f.useContext(W);if(r===null){let a=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Q),a}return r}function Ze(e,r){return Y(r.type,Xe,e,r)}let Ye=f.Fragment;function et(e,r){let{__demoMode:a=!1,...n}=e,o=f.useReducer(Ze,{__demoMode:a,menuState:a?0:1,buttonRef:f.createRef(),itemsRef:f.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:l,itemsRef:s,buttonRef:d},c]=o,p=V(r);we(l===0,[d,s],(u,_)=>{var h;c({type:1}),Oe(_,Ve.Loose)||(u.preventDefault(),(h=d.current)==null||h.focus())});let m=x(()=>{c({type:1})}),b=f.useMemo(()=>({open:l===0,close:m}),[l,m]),t={ref:p};return w.createElement(he,null,w.createElement(W.Provider,{value:o},w.createElement(ke,{value:Y(l,{0:O.Open,1:O.Closed})},F({ourProps:t,theirProps:n,slot:b,defaultTag:Ye,name:"Menu"}))))}let tt="button";function rt(e,r){var a;let n=f.useId(),{id:o=`headlessui-menu-button-${n}`,disabled:l=!1,autoFocus:s=!1,...d}=e,[c,p]=Q("Menu.Button"),m=Re(),b=V(c.buttonRef,r,Se()),t=x(v=>{switch(v.key){case I.Space:case I.Enter:case I.ArrowDown:v.preventDefault(),v.stopPropagation(),j.flushSync(()=>p({type:0})),p({type:2,focus:y.First});break;case I.ArrowUp:v.preventDefault(),v.stopPropagation(),j.flushSync(()=>p({type:0})),p({type:2,focus:y.Last});break}}),u=x(v=>{switch(v.key){case I.Space:v.preventDefault();break}}),_=x(v=>{var N;if(Le(v.currentTarget))return v.preventDefault();l||(c.menuState===0?(j.flushSync(()=>p({type:1})),(N=c.buttonRef.current)==null||N.focus({preventScroll:!0})):(v.preventDefault(),p({type:0})))}),{isFocusVisible:h,focusProps:$}=de({autoFocus:s}),{isHovered:P,hoverProps:R}=me({isDisabled:l}),{pressed:S,pressProps:E}=pe({disabled:l}),k=f.useMemo(()=>({open:c.menuState===0,active:S||c.menuState===0,disabled:l,hover:P,focus:h,autofocus:s}),[c,P,h,S,l,s]),C=ee(m(),{ref:b,id:o,type:fe(e,c.buttonRef),"aria-haspopup":"menu","aria-controls":(a=c.itemsRef.current)==null?void 0:a.id,"aria-expanded":c.menuState===0,disabled:l||void 0,autoFocus:s,onKeyDown:t,onKeyUp:u,onClick:_},$,R,E);return F({ourProps:C,theirProps:d,slot:k,defaultTag:tt,name:"Menu.Button"})}let nt="div",at=X.RenderStrategy|X.Static;function ot(e,r){var a,n;let o=f.useId(),{id:l=`headlessui-menu-items-${o}`,anchor:s,portal:d=!1,modal:c=!0,transition:p=!1,...m}=e,b=Me(s),[t,u]=Q("Menu.Items"),[_,h]=_e(b),$=$e(),P=V(t.itemsRef,r,b?_:null),R=Te(t.itemsRef);b&&(d=!0);let S=Ce(),[E,k]=Ae(p,t.itemsRef,S!==null?(S&O.Open)===O.Open:t.menuState===0);De(E,t.buttonRef,()=>{u({type:1})});let C=t.__demoMode?!1:c&&t.menuState===0;Fe(C,R);let v=t.__demoMode?!1:c&&t.menuState===0;Ee(v,{allowed:x(()=>[t.buttonRef.current,t.itemsRef.current])});let N=t.menuState!==0,g=ve(N,t.buttonRef)?!1:E;f.useEffect(()=>{let i=t.itemsRef.current;i&&t.menuState===0&&i!==(R==null?void 0:R.activeElement)&&i.focus({preventScroll:!0})},[t.menuState,t.itemsRef,R,t.itemsRef.current]),Ie(t.menuState===0,{container:t.itemsRef.current,accept(i){return i.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:i.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(i){i.setAttribute("role","none")}});let A=ge(),ie=x(i=>{var z,G,J;switch(A.dispose(),i.key){case I.Space:if(t.searchQuery!=="")return i.preventDefault(),i.stopPropagation(),u({type:3,value:i.key});case I.Enter:if(i.preventDefault(),i.stopPropagation(),u({type:1}),t.activeItemIndex!==null){let{dataRef:ce}=t.items[t.activeItemIndex];(G=(z=ce.current)==null?void 0:z.domRef.current)==null||G.click()}te(t.buttonRef.current);break;case I.ArrowDown:return i.preventDefault(),i.stopPropagation(),u({type:2,focus:y.Next});case I.ArrowUp:return i.preventDefault(),i.stopPropagation(),u({type:2,focus:y.Previous});case I.Home:case I.PageUp:return i.preventDefault(),i.stopPropagation(),u({type:2,focus:y.First});case I.End:case I.PageDown:return i.preventDefault(),i.stopPropagation(),u({type:2,focus:y.Last});case I.Escape:i.preventDefault(),i.stopPropagation(),j.flushSync(()=>u({type:1})),(J=t.buttonRef.current)==null||J.focus({preventScroll:!0});break;case I.Tab:i.preventDefault(),i.stopPropagation(),j.flushSync(()=>u({type:1})),Qe(t.buttonRef.current,i.shiftKey?Z.Previous:Z.Next);break;default:i.key.length===1&&(u({type:3,value:i.key}),A.setTimeout(()=>u({type:4}),350));break}}),ue=x(i=>{switch(i.key){case I.Space:i.preventDefault();break}}),le=f.useMemo(()=>({open:t.menuState===0}),[t.menuState]),se=ee(b?$():{},{"aria-activedescendant":t.activeItemIndex===null||(a=t.items[t.activeItemIndex])==null?void 0:a.id,"aria-labelledby":(n=t.buttonRef.current)==null?void 0:n.id,id:l,onKeyDown:ie,onKeyUp:ue,role:"menu",tabIndex:t.menuState===0?0:void 0,ref:P,style:{...m.style,...h,"--button-width":Pe(t.buttonRef,!0).width},...je(k)});return w.createElement(Ne,{enabled:d?e.static||E:!1},F({ourProps:se,theirProps:m,slot:le,defaultTag:nt,features:at,visible:g,name:"Menu.Items"}))}let it=f.Fragment;function ut(e,r){let a=f.useId(),{id:n=`headlessui-menu-item-${a}`,disabled:o=!1,...l}=e,[s,d]=Q("Menu.Item"),c=s.activeItemIndex!==null?s.items[s.activeItemIndex].id===n:!1,p=f.useRef(null),m=V(r,p);L(()=>{if(!s.__demoMode&&s.menuState===0&&c&&s.activationTrigger!==0)return xe().requestAnimationFrame(()=>{var g,A;(A=(g=p.current)==null?void 0:g.scrollIntoView)==null||A.call(g,{block:"nearest"})})},[s.__demoMode,p,c,s.menuState,s.activationTrigger,s.activeItemIndex]);let b=ye(p),t=f.useRef({disabled:o,domRef:p,get textValue(){return b()}});L(()=>{t.current.disabled=o},[t,o]),L(()=>(d({type:5,id:n,dataRef:t}),()=>d({type:6,id:n})),[t,n]);let u=x(()=>{d({type:1})}),_=x(g=>{if(o)return g.preventDefault();d({type:1}),te(s.buttonRef.current)}),h=x(()=>{if(o)return d({type:2,focus:y.Nothing});d({type:2,focus:y.Specific,id:n})}),$=be(),P=x(g=>{$.update(g),!o&&(c||d({type:2,focus:y.Specific,id:n,trigger:0}))}),R=x(g=>{$.wasMoved(g)&&(o||c||d({type:2,focus:y.Specific,id:n,trigger:0}))}),S=x(g=>{$.wasMoved(g)&&(o||c&&d({type:2,focus:y.Nothing}))}),[E,k]=re(),[C,v]=Ue(),N=f.useMemo(()=>({active:c,focus:c,disabled:o,close:u}),[c,o,u]);return w.createElement(k,null,w.createElement(v,null,F({ourProps:{id:n,ref:m,role:"menuitem",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-labelledby":E,"aria-describedby":C,disabled:void 0,onClick:_,onFocus:h,onPointerEnter:P,onMouseEnter:P,onPointerMove:R,onMouseMove:R,onPointerLeave:S,onMouseLeave:S},theirProps:l,slot:N,defaultTag:it,name:"Menu.Item"})))}let lt="div";function st(e,r){let[a,n]=re();return w.createElement(n,null,F({ourProps:{ref:r,"aria-labelledby":a,role:"group"},theirProps:e,slot:{},defaultTag:lt,name:"Menu.Section"}))}let ct="header";function dt(e,r){let a=f.useId(),{id:n=`headlessui-menu-heading-${a}`,...o}=e,l=Ke();L(()=>l.register(n),[n,l.register]);let s={id:n,ref:r,role:"presentation",...l.props};return F({ourProps:s,theirProps:o,slot:{},defaultTag:ct,name:"Menu.Heading"})}let mt="div";function pt(e,r){return F({ourProps:{ref:r,role:"separator"},theirProps:e,slot:{},defaultTag:mt,name:"Menu.Separator"})}let ft=T(et),ne=T(rt),ae=T(ot),oe=T(ut),vt=T(st),It=T(dt),yt=T(pt),bt=Object.assign(ft,{Button:ne,Items:ae,Item:oe,Section:vt,Heading:It,Separator:yt});const K=({children:e,className:r})=>D.jsx(ne,{as:"div",className:r,children:e});try{K.displayName="MenuButton",K.__docgenInfo={description:"",displayName:"MenuButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const q=({children:e,LeftIcon:r,disabled:a=!1,onClick:n})=>D.jsx(oe,{disabled:a,children:D.jsxs("button",{type:"button",className:"group relative flex w-full cursor-pointer items-center gap-4 bg-neutral-0 px-4 py-2.5 hover:bg-neutral-100 disabled:bg-neutral-0 data-[focus]:bg-neutral-200",disabled:a,onKeyDown:n,onClick:n,children:[r?D.jsx(r,{className:"h-4 w-4 fill-neutral-600 group-disabled:fill-neutral-400"}):null,D.jsx("div",{className:"paragraph-200 text-neutral-800 group-disabled:text-neutral-400",children:e})]})});try{q.displayName="MenuItem",q.__docgenInfo={description:"",displayName:"MenuItem",props:{LeftIcon:{defaultValue:null,description:"",name:"LeftIcon",required:!1,type:{name:"ElementType<any>"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}}}catch{}const H=({children:e})=>D.jsx(ae,{className:"absolute right-0 z-10 mt-2 flex w-52 flex-col rounded-md bg-neutral-0 py-2 shadow-md outline-none",children:e});try{H.displayName="MenuItems",H.__docgenInfo={description:"",displayName:"MenuItems",props:{}}}catch{}const M=({children:e})=>D.jsx(bt,{as:"div",className:"relative",children:e});M.Button=K;M.Items=H;M.Title=We;M.Item=q;M.InfoItem=qe;M.Separator=He;try{M.displayName="Menu",M.__docgenInfo={description:"",displayName:"Menu",props:{}}}catch{}export{q as M,M as a};
