import{r as c}from"./index-4g5l5LRQ.js";import{l as p,o as v}from"./render-w54E0F54.js";import{e as x}from"./owner-fKE-7Rwj.js";function w({container:e,accept:r,walk:t,enabled:u=!0}){let l=c.useRef(r),i=c.useRef(t);c.useEffect(()=>{l.current=r,i.current=t},[r,t]),p(()=>{if(!e||!u)return;let n=x(e);if(!n)return;let o=l.current,s=i.current,a=Object.assign(g=>o(g),{acceptNode:o}),f=n.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,a,!1);for(;f.nextNode();)s(f.currentNode)},[e,u,l,i])}function D(e){throw new Error("Unexpected object: "+e)}var b=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(b||{});function T(e,r){let t=r.resolveItems();if(t.length<=0)return null;let u=r.resolveActiveIndex(),l=u??-1,i=(()=>{switch(e.focus){case 0:return t.findIndex(n=>!r.resolveDisabled(n));case 1:{let n=t.slice().reverse().findIndex((o,s,a)=>l!==-1&&a.length-s-1>=l?!1:!r.resolveDisabled(o));return n===-1?n:t.length-1-n}case 2:return t.findIndex((n,o)=>o<=l?!1:!r.resolveDisabled(n));case 3:{let n=t.slice().reverse().findIndex(o=>!r.resolveDisabled(o));return n===-1?n:t.length-1-n}case 4:return t.findIndex(n=>r.resolveId(n)===e.id);case 5:return null;default:D(e)}})();return i===-1?u:i}function d(e){return[e.screenX,e.screenY]}function y(){let e=c.useRef([-1,-1]);return{wasMoved(r){let t=d(r);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(r){e.current=d(r)}}}let m=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function F(e){var r,t;let u=(r=e.innerText)!=null?r:"",l=e.cloneNode(!0);if(!(l instanceof HTMLElement))return u;let i=!1;for(let o of l.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),i=!0;let n=i?(t=l.innerText)!=null?t:"":u;return m.test(n)&&(n=n.replace(m,"")),n}function h(e){let r=e.getAttribute("aria-label");if(typeof r=="string")return r.trim();let t=e.getAttribute("aria-labelledby");if(t){let u=t.split(" ").map(l=>{let i=document.getElementById(l);if(i){let n=i.getAttribute("aria-label");return typeof n=="string"?n.trim():F(i).trim()}return null}).filter(Boolean);if(u.length>0)return u.join(", ")}return F(e).trim()}function A(e){let r=c.useRef(""),t=c.useRef("");return v(()=>{let u=e.current;if(!u)return"";let l=u.innerText;if(r.current===l)return t.current;let i=h(u).trim().toLowerCase();return r.current=l,t.current=i,i})}export{w as F,b as a,A as b,y as u,T as x};
