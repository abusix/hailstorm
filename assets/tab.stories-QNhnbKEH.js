import{j as a}from"./jsx-runtime-DtaoT6pD.js";import{r as c,R as N}from"./index-OjgoNOWw.js";import{c as pe}from"./class-names-xhKKfcKT.js";import{S as te,D,y as M,b as K,o as k,l as X,X as F,u as A}from"./render--CnTCjM4.js";import{I as me,o as y}from"./keyboard-ypJuuhig.js";import{I as _,N as U,O as B,M as v}from"./focus-management-3l6xl84w.js";import{s as Ne}from"./use-resolve-button-type-CvYxBXG6.js";import{f as Ee}from"./use-is-mounted-sHLtXe0b.js";import{c as be,p as je}from"./hidden-io_QVhfh.js";import{t as Ce}from"./disposables-x8EK1kJp.js";import{e as we}from"./owner-k5blU4nj.js";import{g as ke,n as ne}from"./storybook-utils-94J-CLQK.js";function Be({onFocus:e}){let[t,n]=c.useState(!0),r=Ee();return t?N.createElement(be,{as:"button",type:"button",features:je.Focusable,onFocus:o=>{o.preventDefault();let s,u=50;function f(){if(u--<=0){s&&cancelAnimationFrame(s);return}if(e()){if(cancelAnimationFrame(s),!r.current)return;n(!1);return}s=requestAnimationFrame(f)}s=requestAnimationFrame(f)}}):null}const Te=c.createContext(null);function $e(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let o=(n=r.get(t))!=null?n:0;r.set(t,o+1);let s=Array.from(r.keys()).indexOf(t);function u(){let f=r.get(t);f>1?r.set(t,f-1):r.delete(t)}return[s,u]}}}function Se({children:e}){let t=c.useRef($e());return c.createElement(Te.Provider,{value:t},e)}function fe(e){let t=c.useContext(Te);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=Le(),[r,o]=t.current.get(e,n);return c.useEffect(()=>o,[]),r}function Le(){var e,t,n;let r=(n=(t=(e=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!r)return Symbol();let o=[],s=r;for(;s;)o.push(s.index),s=s.return;return"$."+o.join(".")}var _e=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(_e||{}),Ae=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Ae||{}),Oe=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Oe||{});let De={0(e,t){var n;let r=_(e.tabs,p=>p.current),o=_(e.panels,p=>p.current),s=r.filter(p=>{var P;return!((P=p.current)!=null&&P.hasAttribute("disabled"))}),u={...e,tabs:r,panels:o};if(t.index<0||t.index>r.length-1){let p=A(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>A(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return u;let P=A(p,{0:()=>r.indexOf(s[0]),1:()=>r.indexOf(s[s.length-1])});return{...u,selectedIndex:P===-1?e.selectedIndex:P}}let f=r.slice(0,t.index),R=[...r.slice(t.index),...f].find(p=>s.includes(p));if(!R)return u;let x=(n=r.indexOf(R))!=null?n:e.selectedIndex;return x===-1&&(x=e.selectedIndex),{...u,selectedIndex:x}},1(e,t){var n;if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],o=_([...e.tabs,t.tab],u=>u.current),s=(n=o.indexOf(r))!=null?n:e.selectedIndex;return s===-1&&(s=e.selectedIndex),{...e,tabs:o,selectedIndex:s}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:_([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},J=c.createContext(null);J.displayName="TabsDataContext";function $(e){let t=c.useContext(J);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$),n}return t}let Q=c.createContext(null);Q.displayName="TabsActionsContext";function Z(e){let t=c.useContext(Q);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Z),n}return t}function Me(e,t){return A(t.type,De,e,t)}let Fe=c.Fragment;function qe(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:o=!1,onChange:s,selectedIndex:u=null,...f}=e;const R=r?"vertical":"horizontal",x=o?"manual":"auto";let p=u!==null,P=M(t),[d,h]=c.useReducer(Me,{selectedIndex:u??n,tabs:[],panels:[]}),b=c.useMemo(()=>({selectedIndex:d.selectedIndex}),[d.selectedIndex]),S=K(s||(()=>{})),L=K(d.tabs),T=c.useMemo(()=>({orientation:R,activation:x,...d}),[R,x,d]),g=k(m=>(h({type:1,tab:m}),()=>h({type:2,tab:m}))),j=k(m=>(h({type:3,panel:m}),()=>h({type:4,panel:m}))),C=k(m=>{w.current!==m&&S.current(m),p||h({type:0,index:m})}),w=K(p?e.selectedIndex:d.selectedIndex),H=c.useMemo(()=>({registerTab:g,registerPanel:j,change:C}),[]);X(()=>{h({type:0,index:u??n})},[u]),X(()=>{if(w.current===void 0||d.tabs.length<=0)return;let m=_(d.tabs,E=>E.current);m.some((E,l)=>d.tabs[l]!==E)&&C(m.indexOf(d.tabs[w.current]))});let Y={ref:P};return N.createElement(Se,null,N.createElement(Q.Provider,{value:H},N.createElement(J.Provider,{value:T},T.tabs.length<=0&&N.createElement(Be,{onFocus:()=>{var m,E;for(let l of L.current)if(((m=l.current)==null?void 0:m.tabIndex)===0)return(E=l.current)==null||E.focus(),!0;return!1}}),F({ourProps:Y,theirProps:f,slot:b,defaultTag:Fe,name:"Tabs"}))))}let We="div";function Ue(e,t){let{orientation:n,selectedIndex:r}=$("Tab.List"),o=M(t);return F({ourProps:{ref:o,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:We,name:"Tabs.List"})}let Ge="button";function ze(e,t){var n,r;let o=me(),{id:s=`headlessui-tabs-tab-${o}`,...u}=e,{orientation:f,activation:R,selectedIndex:x,tabs:p,panels:P}=$("Tab"),d=Z("Tab"),h=$("Tab"),b=c.useRef(null),S=M(b,t);X(()=>d.registerTab(b),[d,b]);let L=fe("tabs"),T=p.indexOf(b);T===-1&&(T=L);let g=T===x,j=k(l=>{var I;let W=l();if(W===U.Success&&R==="auto"){let Re=(I=we(b))==null?void 0:I.activeElement,ee=h.tabs.findIndex(Ie=>Ie.current===Re);ee!==-1&&d.change(ee)}return W}),C=k(l=>{let I=p.map(W=>W.current).filter(Boolean);if(l.key===y.Space||l.key===y.Enter){l.preventDefault(),l.stopPropagation(),d.change(T);return}switch(l.key){case y.Home:case y.PageUp:return l.preventDefault(),l.stopPropagation(),j(()=>B(I,v.First));case y.End:case y.PageDown:return l.preventDefault(),l.stopPropagation(),j(()=>B(I,v.Last))}if(j(()=>A(f,{vertical(){return l.key===y.ArrowUp?B(I,v.Previous|v.WrapAround):l.key===y.ArrowDown?B(I,v.Next|v.WrapAround):U.Error},horizontal(){return l.key===y.ArrowLeft?B(I,v.Previous|v.WrapAround):l.key===y.ArrowRight?B(I,v.Next|v.WrapAround):U.Error}}))===U.Success)return l.preventDefault()}),w=c.useRef(!1),H=k(()=>{var l;w.current||(w.current=!0,(l=b.current)==null||l.focus({preventScroll:!0}),d.change(T),Ce(()=>{w.current=!1}))}),Y=k(l=>{l.preventDefault()}),m=c.useMemo(()=>({selected:g}),[g]),E={ref:S,onKeyDown:C,onMouseDown:Y,onClick:H,id:s,role:"tab",type:Ne(e,b),"aria-controls":(r=(n=P[T])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":g,tabIndex:g?0:-1};return F({ourProps:E,theirProps:u,slot:m,defaultTag:Ge,name:"Tabs.Tab"})}let Ve="div";function Xe(e,t){let{selectedIndex:n}=$("Tab.Panels"),r=M(t),o=c.useMemo(()=>({selectedIndex:n}),[n]);return F({ourProps:{ref:r},theirProps:e,slot:o,defaultTag:Ve,name:"Tabs.Panels"})}let He="div",Ye=te.RenderStrategy|te.Static;function Ke(e,t){var n,r,o,s;let u=me(),{id:f=`headlessui-tabs-panel-${u}`,tabIndex:R=0,...x}=e,{selectedIndex:p,tabs:P,panels:d}=$("Tab.Panel"),h=Z("Tab.Panel"),b=c.useRef(null),S=M(b,t);X(()=>h.registerPanel(b),[h,b]);let L=fe("panels"),T=d.indexOf(b);T===-1&&(T=L);let g=T===p,j=c.useMemo(()=>({selected:g}),[g]),C={ref:S,id:f,role:"tabpanel","aria-labelledby":(r=(n=P[T])==null?void 0:n.current)==null?void 0:r.id,tabIndex:g?R:-1};return!g&&((o=x.unmount)==null||o)&&!((s=x.static)!=null&&s)?N.createElement(be,{as:"span",...C}):F({ourProps:C,theirProps:x,slot:j,defaultTag:He,features:Ye,visible:g,name:"Tabs.Panel"})}let Je=D(ze),Qe=D(qe),Ze=D(Ue),et=D(Xe),tt=D(Ke),q=Object.assign(Je,{Group:Qe,List:Ze,Panels:et,Panel:tt});const xe=N.createContext({type:"primary"});function ge(){const e=N.useContext(xe);if(!e)throw new Error("Tab compound components cannot be rendered outside the Tab component");return e}const nt={primary:"relative whitespace-nowrap focus:ring-2 ring:primary-200 ui-not-selected:hover:text-neutral-800 ui-not-selected:after:hidden ui-selected:after:absolute ui-selected:after:left-0 ui-selected:after:right-0 ui-selected:after:-bottom-2 ui-selected:after:block ui-selected:after:h-0.5 ui-selected:after:bg-primary-500 disabled:ui-selected:after:bg-primary-500 disabled:text-neutral-500",secondary:"px-4 py-2 ui-not-selected:bg-transparent ui-not-selected:hover:text-neutral-800 focus:ring-2 ring:primary-200 ui-not-selected:hover:bg-neutral-100 ui-selected:text-primary-500 ui-selected:bg-primary-50 disabled:text-neutral-500"},Pe=({children:e,...t})=>{const{type:n}=ge();return a.jsx(q,{...t,className:"focus-visible:outline-none",children:a.jsx("div",{className:pe("rounded text-xs font-medium outline-none ui-selected:text-primary-500 ui-not-selected:text-neutral-700",nt[n]),children:e})})};Pe.__docgenInfo={description:"",methods:[],displayName:"TabButton",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},as:{required:!1,tsType:{name:"TTag"},description:""}},composes:["TabProps"]};const rt={primary:"gap-5 pb-2",secondary:"gap-2"},he=({children:e})=>{const{type:t}=ge();return a.jsx(q.List,{className:pe("flex",rt[t]),children:e})};he.__docgenInfo={description:"",methods:[],displayName:"TabList",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const ye=({children:e})=>a.jsx(q.Panel,{children:e});ye.__docgenInfo={description:"",methods:[],displayName:"TabPanel",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const ve=({children:e,className:t})=>a.jsx(q.Panels,{className:t,children:e});ve.__docgenInfo={description:"",methods:[],displayName:"TabPanels",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const i=({type:e="primary",children:t,...n})=>{const r=N.useMemo(()=>({type:e}),[e]);return a.jsx(xe.Provider,{value:r,children:a.jsx(q.Group,{...n,children:t})})};i.List=he;i.Button=Pe;i.Panels=ve;i.Panel=ye;i.__docgenInfo={description:"",methods:[{name:"List",docblock:null,modifiers:["static"],params:[{name:"{ children }: TabListProps",optional:!1,type:{name:"TabListProps",alias:"TabListProps"}}],returns:null},{name:"Button",docblock:null,modifiers:["static"],params:[{name:`{
    children,
    ...props
}: TabButtonProps<TTag> &
    Omit<React.ComponentPropsWithoutRef<TTag>, keyof TabButtonProps<TTag>>`,optional:!1,type:{name:"intersection",raw:`TabButtonProps<TTag> &
Omit<React.ComponentPropsWithoutRef<TTag>, keyof TabButtonProps<TTag>>`,elements:[{name:"TabButtonProps",elements:[{name:"TTag"}],raw:"TabButtonProps<TTag>"},{name:"Omit",elements:[{name:"ReactComponentPropsWithoutRef",raw:"React.ComponentPropsWithoutRef<TTag>",elements:[{name:"TTag"}]},{name:"TabButtonProps",elements:[{name:"TTag"}],raw:"TabButtonProps<TTag>"}],raw:"Omit<React.ComponentPropsWithoutRef<TTag>, keyof TabButtonProps<TTag>>"}]}}],returns:null},{name:"Panels",docblock:null,modifiers:["static"],params:[{name:"{ children, className }: TabPanelsProps",optional:!1,type:{name:"TabPanelsProps",alias:"TabPanelsProps"}}],returns:null},{name:"Panel",docblock:null,modifiers:["static"],params:[{name:"{ children }: TabPanelProps",optional:!1,type:{name:"TabPanelProps",alias:"TabPanelProps"}}],returns:null}],displayName:"Tab",props:{type:{required:!1,tsType:{name:"union",raw:'"primary" | "secondary"',elements:[{name:"literal",value:'"primary"'},{name:"literal",value:'"secondary"'}]},description:"",defaultValue:{value:'"primary"',computed:!1}},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["TabGroupProps"]};const ft={title:"Tab",component:i,parameters:ke("Tab component. For a detailed explanation on props, please visit the Headless UI [tab-group documentation](https://headlessui.com/react/tabs#tab-group)")},O=({type:e="primary"})=>a.jsxs(i,{type:e,children:[a.jsxs(i.List,{children:[a.jsx(i.Button,{onClick:()=>null,children:"Tab 1"}),a.jsx(i.Button,{onClick:()=>null,children:"Tab 2"}),a.jsx(i.Button,{onClick:()=>null,children:"Tab 3"})]}),a.jsxs(i.Panels,{children:[a.jsx(i.Panel,{children:a.jsx("p",{className:"paragraph-200 pt-2",children:"Content 1"})}),a.jsx(i.Panel,{children:a.jsx("p",{className:"paragraph-200 pt-2",children:"Content 2"})}),a.jsx(i.Panel,{children:a.jsx("p",{className:"paragraph-200 pt-2",children:"Content 3"})})]})]}),G={render:()=>a.jsx(O,{})},z={render:e=>a.jsx(O,{...e}),args:{type:"secondary"}},V={render:e=>a.jsxs(i,{...e,children:[a.jsxs(i.List,{children:[a.jsx(i.Button,{onClick:()=>null,children:"Tab 1"}),a.jsx(i.Button,{onClick:()=>null,children:"Tab 2"}),a.jsx(i.Button,{onClick:()=>null,children:"Tab 3"})]}),a.jsxs(i.Panels,{children:[a.jsx(i.Panel,{children:a.jsx("div",{className:"pt-2",children:a.jsx(O,{})})}),a.jsx(i.Panel,{children:a.jsx("div",{className:"pt-2",children:a.jsx(O,{})})}),a.jsx(i.Panel,{children:a.jsx("div",{className:"pt-2",children:a.jsx(O,{})})})]})]}),args:{type:"primary",vertical:!1,manual:!1,defaultIndex:0},argTypes:{as:ne,refName:ne,className:{control:{type:"text"}}}};var re,ae,se;G.parameters={...G.parameters,docs:{...(re=G.parameters)==null?void 0:re.docs,source:{originalSource:`{
  render: () => <TabsExample />
}`,...(se=(ae=G.parameters)==null?void 0:ae.docs)==null?void 0:se.source}}};var le,oe,ie;z.parameters={...z.parameters,docs:{...(le=z.parameters)==null?void 0:le.docs,source:{originalSource:`{
  render: args => <TabsExample {...args} />,
  args: {
    type: "secondary"
  }
}`,...(ie=(oe=z.parameters)==null?void 0:oe.docs)==null?void 0:ie.source}}};var ce,ue,de;V.parameters={...V.parameters,docs:{...(ce=V.parameters)==null?void 0:ce.docs,source:{originalSource:`{
  render: args => <Tab {...args}>
            <Tab.List>
                <Tab.Button onClick={() => null}>Tab 1</Tab.Button>
                <Tab.Button onClick={() => null}>Tab 2</Tab.Button>
                <Tab.Button onClick={() => null}>Tab 3</Tab.Button>
            </Tab.List>

            <Tab.Panels>
                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>

                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>

                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>
            </Tab.Panels>
        </Tab>,
  args: {
    type: "primary",
    vertical: false,
    manual: false,
    defaultIndex: 0
  },
  argTypes: {
    as: noControl,
    refName: noControl,
    className: {
      control: {
        type: "text"
      }
    }
  }
}`,...(de=(ue=V.parameters)==null?void 0:ue.docs)==null?void 0:de.source}}};const xt=["Primary","Secondary","NestedTabs"];export{V as NestedTabs,G as Primary,z as Secondary,xt as __namedExportsOrder,ft as default};
