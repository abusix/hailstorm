import{r as d}from"./index-0d5eMwbi.js";import{o as f}from"./use-sync-refs-DhZgiOVe.js";import{f as s}from"./focus-management-CKkqTXfi.js";function L(t,e){let n=d.useRef([]),o=f(t);d.useEffect(()=>{let u=[...n.current];for(let[c,i]of e.entries())if(n.current[c]!==i){let a=o(e,u);return n.current=e,a}},[o,...e])}function m(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let r=[];m(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||r[0]===e.target)return;let n=e.target;n=n.closest(s),r.unshift(n??e.target),r=r.filter(o=>o!=null&&o.isConnected),r.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});export{L as m,r};
