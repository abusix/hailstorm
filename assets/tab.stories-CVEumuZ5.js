import{j as r}from"./jsx-runtime-C798UXYj.js";import{r as i,R as N}from"./index-0d5eMwbi.js";import{c as ge}from"./class-names-DnY5YZNL.js";import{$ as he,a as Ae,w as De,e as Me}from"./use-resolve-button-type-D_6M6Au0.js";import{M as ue,L as O,s as H,y as G,o as w,n as Q,D as U,W as ve,u as M,c as Re}from"./use-sync-refs-DqQDZvJ6.js";import{f as Oe}from"./use-is-mounted-DT-lZL-u.js";import{f as Pe,s as Ge}from"./hidden-BrNieFV6.js";import{_ as D,T as K,P as F,F as v}from"./focus-management-DaVlPEX1.js";import{u as Ue,o as P}from"./keyboard-C2Ifhsxt.js";import{g as We}from"./storybook-utils-C5xEhci0.js";function He({onFocus:e}){let[t,a]=i.useState(!0),n=Oe();return t?N.createElement(Pe,{as:"button",type:"button",features:Ge.Focusable,onFocus:u=>{u.preventDefault();let l,s=50;function d(){if(s--<=0){l&&cancelAnimationFrame(l);return}if(e()){if(cancelAnimationFrame(l),!n.current)return;a(!1);return}l=requestAnimationFrame(d)}l=requestAnimationFrame(d)}}):null}const Ie=i.createContext(null);function Ke(){return{groups:new Map,get(e,t){var a;let n=this.groups.get(e);n||(n=new Map,this.groups.set(e,n));let u=(a=n.get(t))!=null?a:0;n.set(t,u+1);let l=Array.from(n.keys()).indexOf(t);function s(){let d=n.get(t);d>1?n.set(t,d-1):n.delete(t)}return[l,s]}}}function ze({children:e}){let t=i.useRef(Ke());return i.createElement(Ie.Provider,{value:t},e)}function _e(e){let t=i.useContext(Ie);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let a=i.useId(),[n,u]=t.current.get(e,a);return i.useEffect(()=>u,[]),n}var Je=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Je||{}),Ye=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Ye||{}),Qe=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Qe||{});let Xe={0(e,t){var a;let n=D(e.tabs,p=>p.current),u=D(e.panels,p=>p.current),l=n.filter(p=>{var T;return!((T=p.current)!=null&&T.hasAttribute("disabled"))}),s={...e,tabs:n,panels:u};if(t.index<0||t.index>n.length-1){let p=M(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>M(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(l.length===0)return s;let T=M(p,{0:()=>n.indexOf(l[0]),1:()=>n.indexOf(l[l.length-1])});return{...s,selectedIndex:T===-1?e.selectedIndex:T}}let d=n.slice(0,t.index),I=[...n.slice(t.index),...d].find(p=>l.includes(p));if(!I)return s;let y=(a=n.indexOf(I))!=null?a:e.selectedIndex;return y===-1&&(y=e.selectedIndex),{...s,selectedIndex:y}},1(e,t){if(e.tabs.includes(t.tab))return e;let a=e.tabs[e.selectedIndex],n=D([...e.tabs,t.tab],l=>l.current),u=e.selectedIndex;return e.info.current.isControlled||(u=n.indexOf(a),u===-1&&(u=e.selectedIndex)),{...e,tabs:n,selectedIndex:u}},2(e,t){return{...e,tabs:e.tabs.filter(a=>a!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:D([...e.panels,t.panel],a=>a.current)}},4(e,t){return{...e,panels:e.panels.filter(a=>a!==t.panel)}}},ne=i.createContext(null);ne.displayName="TabsDataContext";function q(e){let t=i.useContext(ne);if(t===null){let a=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,q),a}return t}let re=i.createContext(null);re.displayName="TabsActionsContext";function se(e){let t=i.useContext(re);if(t===null){let a=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,se),a}return t}function Ze(e,t){return M(t.type,Xe,e,t)}let et="div";function tt(e,t){let{defaultIndex:a=0,vertical:n=!1,manual:u=!1,onChange:l,selectedIndex:s=null,...d}=e;const I=n?"vertical":"horizontal",y=u?"manual":"auto";let p=s!==null,T=H({isControlled:p}),S=G(t),[b,m]=i.useReducer(Ze,{info:T,selectedIndex:s??a,tabs:[],panels:[]}),B=i.useMemo(()=>({selectedIndex:b.selectedIndex}),[b.selectedIndex]),V=H(l||(()=>{})),j=H(b.tabs),x=i.useMemo(()=>({orientation:I,activation:y,...b}),[I,y,b]),k=w(f=>(m({type:1,tab:f}),()=>m({type:2,tab:f}))),L=w(f=>(m({type:3,panel:f}),()=>m({type:4,panel:f}))),g=w(f=>{h.current!==f&&V.current(f),p||m({type:0,index:f})}),h=H(p?e.selectedIndex:b.selectedIndex),C=i.useMemo(()=>({registerTab:k,registerPanel:L,change:g}),[]);Q(()=>{m({type:0,index:s??a})},[s]),Q(()=>{if(h.current===void 0||b.tabs.length<=0)return;let f=D(b.tabs,E=>E.current);f.some((E,$)=>b.tabs[$]!==E)&&g(f.indexOf(b.tabs[h.current]))});let X={ref:S},A=U();return N.createElement(ze,null,N.createElement(re.Provider,{value:C},N.createElement(ne.Provider,{value:x},x.tabs.length<=0&&N.createElement(He,{onFocus:()=>{var f,E;for(let $ of j.current)if(((f=$.current)==null?void 0:f.tabIndex)===0)return(E=$.current)==null||E.focus(),!0;return!1}}),A({ourProps:X,theirProps:d,slot:B,defaultTag:et,name:"Tabs"}))))}let at="div";function nt(e,t){let{orientation:a,selectedIndex:n}=q("Tab.List"),u=G(t),l=i.useMemo(()=>({selectedIndex:n}),[n]),s=e,d={ref:u,role:"tablist","aria-orientation":a};return U()({ourProps:d,theirProps:s,slot:l,defaultTag:at,name:"Tabs.List"})}let rt="button";function st(e,t){var a,n;let u=i.useId(),{id:l=`headlessui-tabs-tab-${u}`,disabled:s=!1,autoFocus:d=!1,...I}=e,{orientation:y,activation:p,selectedIndex:T,tabs:S,panels:b}=q("Tab"),m=se("Tab"),B=q("Tab"),[V,j]=i.useState(null),x=i.useRef(null),k=G(x,t,j);Q(()=>m.registerTab(x),[m,x]);let L=_e("tabs"),g=S.indexOf(x);g===-1&&(g=L);let h=g===T,C=w(c=>{var _;let W=c();if(W===K.Success&&p==="auto"){let Ve=(_=Ue(x))==null?void 0:_.activeElement,ie=B.tabs.findIndex(Le=>Le.current===Ve);ie!==-1&&m.change(ie)}return W}),X=w(c=>{let _=S.map(W=>W.current).filter(Boolean);if(c.key===P.Space||c.key===P.Enter){c.preventDefault(),c.stopPropagation(),m.change(g);return}switch(c.key){case P.Home:case P.PageUp:return c.preventDefault(),c.stopPropagation(),C(()=>F(_,v.First));case P.End:case P.PageDown:return c.preventDefault(),c.stopPropagation(),C(()=>F(_,v.Last))}if(C(()=>M(y,{vertical(){return c.key===P.ArrowUp?F(_,v.Previous|v.WrapAround):c.key===P.ArrowDown?F(_,v.Next|v.WrapAround):K.Error},horizontal(){return c.key===P.ArrowLeft?F(_,v.Previous|v.WrapAround):c.key===P.ArrowRight?F(_,v.Next|v.WrapAround):K.Error}}))===K.Success)return c.preventDefault()}),A=i.useRef(!1),f=w(()=>{var c;A.current||(A.current=!0,(c=x.current)==null||c.focus({preventScroll:!0}),m.change(g),Re(()=>{A.current=!1}))}),E=w(c=>{c.preventDefault()}),{isFocusVisible:$,focusProps:Se}=he({autoFocus:d}),{isHovered:le,hoverProps:ke}=Ae({isDisabled:s}),{pressed:oe,pressProps:Fe}=De({disabled:s}),qe=i.useMemo(()=>({selected:h,hover:le,active:oe,focus:$,autofocus:d,disabled:s}),[h,le,$,oe,d,s]),Be=ve({ref:k,onKeyDown:X,onMouseDown:E,onClick:f,id:l,role:"tab",type:Me(e,V),"aria-controls":(n=(a=b[g])==null?void 0:a.current)==null?void 0:n.id,"aria-selected":h,tabIndex:h?0:-1,disabled:s||void 0,autoFocus:d},Se,ke,Fe);return U()({ourProps:Be,theirProps:I,slot:qe,defaultTag:rt,name:"Tabs.Tab"})}let lt="div";function ot(e,t){let{selectedIndex:a}=q("Tab.Panels"),n=G(t),u=i.useMemo(()=>({selectedIndex:a}),[a]),l=e,s={ref:n};return U()({ourProps:s,theirProps:l,slot:u,defaultTag:lt,name:"Tabs.Panels"})}let it="div",ut=ue.RenderStrategy|ue.Static;function ct(e,t){var a,n,u,l;let s=i.useId(),{id:d=`headlessui-tabs-panel-${s}`,tabIndex:I=0,...y}=e,{selectedIndex:p,tabs:T,panels:S}=q("Tab.Panel"),b=se("Tab.Panel"),m=i.useRef(null),B=G(m,t);Q(()=>b.registerPanel(m),[b,m]);let V=_e("panels"),j=S.indexOf(m);j===-1&&(j=V);let x=j===p,{isFocusVisible:k,focusProps:L}=he(),g=i.useMemo(()=>({selected:x,focus:k}),[x,k]),h=ve({ref:B,id:d,role:"tabpanel","aria-labelledby":(n=(a=T[j])==null?void 0:a.current)==null?void 0:n.id,tabIndex:x?I:-1},L),C=U();return!x&&((u=y.unmount)==null||u)&&!((l=y.static)!=null&&l)?N.createElement(Pe,{"aria-hidden":"true",...h}):C({ourProps:h,theirProps:y,slot:g,defaultTag:it,features:ut,visible:x,name:"Tabs.Panel"})}let dt=O(st),Ne=O(tt),je=O(nt),Ee=O(ot),Ce=O(ct),pt=Object.assign(dt,{Group:Ne,List:je,Panels:Ee,Panel:Ce});const $e=N.createContext({type:"primary"});function we(){const e=N.useContext($e);if(!e)throw new Error("Tab compound components cannot be rendered outside the Tab component");return e}const mt={primary:"relative whitespace-nowrap focus:ring-2 ring:primary-200 ui-not-selected:hover:text-neutral-800 ui-not-selected:after:hidden ui-selected:after:absolute ui-selected:after:left-0 ui-selected:after:right-0 ui-selected:after:-bottom-2 ui-selected:after:block ui-selected:after:h-0.5 ui-selected:after:bg-primary-500 disabled:ui-selected:after:bg-primary-500 disabled:text-neutral-500",secondary:"px-4 py-2 ui-not-selected:bg-transparent ui-not-selected:hover:text-neutral-800 focus:ring-2 ring:primary-200 ui-not-selected:hover:bg-neutral-100 ui-selected:text-primary-500 ui-selected:bg-primary-100 disabled:text-neutral-500"},Z=({children:e,...t})=>{const{type:a}=we();return r.jsx(pt,{...t,className:"focus-visible:outline-none",children:r.jsx("div",{className:ge("rounded text-xs font-medium outline-none ui-selected:text-primary-500 ui-not-selected:text-neutral-700",mt[a]),children:e})})};try{Z.displayName="TabButton",Z.__docgenInfo={description:"",displayName:"TabButton",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}},refName:{defaultValue:null,description:"",name:"refName",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"any"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const ft={primary:"gap-5 pb-2",secondary:"gap-2"},ee=({children:e})=>{const{type:t}=we();return r.jsx(je,{className:ge("flex",ft[t]),children:e})};try{ee.displayName="TabList",ee.__docgenInfo={description:"",displayName:"TabList",props:{}}}catch{}const te=({children:e})=>r.jsx(Ce,{children:e});try{te.displayName="TabPanel",te.__docgenInfo={description:"",displayName:"TabPanel",props:{}}}catch{}const ae=({children:e,className:t})=>r.jsx(Ee,{className:t,children:e});try{ae.displayName="TabPanels",ae.__docgenInfo={description:"",displayName:"TabPanels",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const o=({type:e="primary",children:t,...a})=>{const n=N.useMemo(()=>({type:e}),[e]);return r.jsx($e.Provider,{value:n,children:r.jsx(Ne,{...a,children:t})})};o.List=ee;o.Button=Z;o.Panels=ae;o.Panel=te;try{o.displayName="Tab",o.__docgenInfo={description:"",displayName:"Tab",props:{type:{defaultValue:{value:"primary"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}},refName:{defaultValue:null,description:"",name:"refName",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"any"}},defaultIndex:{defaultValue:null,description:"",name:"defaultIndex",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((index: number) => void)"}},selectedIndex:{defaultValue:null,description:"",name:"selectedIndex",required:!1,type:{name:"number"}},vertical:{defaultValue:null,description:"",name:"vertical",required:!1,type:{name:"boolean"}},manual:{defaultValue:null,description:"",name:"manual",required:!1,type:{name:"boolean"}}}}}catch{}const Nt={title:"Tab",component:o,parameters:We("Tab component. For a detailed explanation on props, please visit the Headless UI [tab-group documentation](https://headlessui.com/react/tabs#tab-group)")},R=({type:e="primary"})=>r.jsxs(o,{type:e,children:[r.jsxs(o.List,{children:[r.jsx(o.Button,{onClick:()=>null,children:"Tab 1"}),r.jsx(o.Button,{onClick:()=>null,children:"Tab 2"}),r.jsx(o.Button,{onClick:()=>null,children:"Tab 3"})]}),r.jsxs(o.Panels,{children:[r.jsx(o.Panel,{children:r.jsx("p",{className:"paragraph-200 pt-2",children:"Content 1"})}),r.jsx(o.Panel,{children:r.jsx("p",{className:"paragraph-200 pt-2",children:"Content 2"})}),r.jsx(o.Panel,{children:r.jsx("p",{className:"paragraph-200 pt-2",children:"Content 3"})})]})]}),z={render:()=>r.jsx(R,{})},J={render:e=>r.jsx(R,{...e}),args:{type:"secondary"}},Y={render:e=>r.jsxs(o,{...e,children:[r.jsxs(o.List,{children:[r.jsx(o.Button,{onClick:()=>null,children:"Tab 1"}),r.jsx(o.Button,{onClick:()=>null,children:"Tab 2"}),r.jsx(o.Button,{onClick:()=>null,children:"Tab 3"})]}),r.jsxs(o.Panels,{children:[r.jsx(o.Panel,{children:r.jsx("div",{className:"pt-2",children:r.jsx(R,{})})}),r.jsx(o.Panel,{children:r.jsx("div",{className:"pt-2",children:r.jsx(R,{})})}),r.jsx(o.Panel,{children:r.jsx("div",{className:"pt-2",children:r.jsx(R,{})})})]})]}),args:{type:"primary",vertical:!1,manual:!1,defaultIndex:0},argTypes:{className:{control:{type:"text"}}}};var ce,de,pe;z.parameters={...z.parameters,docs:{...(ce=z.parameters)==null?void 0:ce.docs,source:{originalSource:`{
  render: () => <TabsExample />
}`,...(pe=(de=z.parameters)==null?void 0:de.docs)==null?void 0:pe.source}}};var me,fe,be;J.parameters={...J.parameters,docs:{...(me=J.parameters)==null?void 0:me.docs,source:{originalSource:`{
  render: args => <TabsExample {...args} />,
  args: {
    type: "secondary"
  }
}`,...(be=(fe=J.parameters)==null?void 0:fe.docs)==null?void 0:be.source}}};var xe,ye,Te;Y.parameters={...Y.parameters,docs:{...(xe=Y.parameters)==null?void 0:xe.docs,source:{originalSource:`{
  render: args => <Tab {...args}>
            <Tab.List>
                <Tab.Button onClick={() => null}>Tab 1</Tab.Button>
                <Tab.Button onClick={() => null}>Tab 2</Tab.Button>
                <Tab.Button onClick={() => null}>Tab 3</Tab.Button>
            </Tab.List>

            <Tab.Panels>
                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>

                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>

                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>
            </Tab.Panels>
        </Tab>,
  args: {
    type: "primary",
    vertical: false,
    manual: false,
    defaultIndex: 0
  },
  argTypes: {
    className: {
      control: {
        type: "text"
      }
    }
  }
}`,...(Te=(ye=Y.parameters)==null?void 0:ye.docs)==null?void 0:Te.source}}};const jt=["Primary","Secondary","NestedTabs"];export{Y as NestedTabs,z as Primary,J as Secondary,jt as __namedExportsOrder,Nt as default};
