import{j as w}from"./jsx-runtime-C798UXYj.js";import{$ as fe,a as ve,w as Ie,e as ye}from"./use-resolve-button-type-D_6M6Au0.js";import{r as v,R as D}from"./index-0d5eMwbi.js";import{r as O}from"./index-BoyHNU0R.js";import{s as be,F as ge,a as xe,u as he,c as y,f as q}from"./use-text-value-ehRDfXkw.js";import{M as Z,L as N,y as K,o as g,D as k,u as te,W as re,p as Se,n as j,a as Ee}from"./use-sync-refs-DqQDZvJ6.js";import{M as Me,F as _e,y as Pe,x as $e,R as Re,b as we,d as De}from"./floating-ERp4LevH.js";import{y as Ne}from"./use-inert-others-CzqV763I.js";import{R as ke,n as Te,m as Fe,f as Ce,r as Ae}from"./portal-CLj4HHuk.js";import{c as Oe,i as L,u as je,x as Le,R as Ke}from"./open-closed-DC3t9YEZ.js";import{r as Qe}from"./bugs-DpEN4NTH.js";import{A as Be,h as Ve,j as qe,F as ee,G as ne,_ as Ue}from"./focus-management-DaVlPEX1.js";import{w as Ge}from"./description-D9Ee5mtv.js";import{o as I}from"./keyboard-C2Ifhsxt.js";import{K as ae,P as He}from"./label-BBnH-iCi.js";import{M as ze}from"./menu-info-item-CC1TeP-c.js";import{M as Je}from"./menu-separator-yO-BIXMb.js";import{M as We}from"./menu-title-DpAy2147.js";var Xe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Xe||{}),Ye=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ye||{}),Ze=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e))(Ze||{});function U(e,r=a=>a){let a=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=Ue(r(e.items.slice()),s=>s.dataRef.current.domRef.current),o=a?n.indexOf(a):null;return o===-1&&(o=null),{items:n,activeItemIndex:o}}let et={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,r)=>{var a,n,o,s,i;if(e.menuState===1)return e;let d={...e,searchQuery:"",activationTrigger:(a=r.trigger)!=null?a:1,__demoMode:!1};if(r.focus===y.Nothing)return{...d,activeItemIndex:null};if(r.focus===y.Specific)return{...d,activeItemIndex:e.items.findIndex(c=>c.id===r.id)};if(r.focus===y.Previous){let c=e.activeItemIndex;if(c!==null){let b=e.items[c].dataRef.current.domRef,t=q(r,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});if(t!==null){let u=e.items[t].dataRef.current.domRef;if(((n=b.current)==null?void 0:n.previousElementSibling)===u.current||((o=u.current)==null?void 0:o.previousElementSibling)===null)return{...d,activeItemIndex:t}}}}else if(r.focus===y.Next){let c=e.activeItemIndex;if(c!==null){let b=e.items[c].dataRef.current.domRef,t=q(r,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});if(t!==null){let u=e.items[t].dataRef.current.domRef;if(((s=b.current)==null?void 0:s.nextElementSibling)===u.current||((i=u.current)==null?void 0:i.nextElementSibling)===null)return{...d,activeItemIndex:t}}}}let m=U(e),p=q(r,{resolveItems:()=>m.items,resolveActiveIndex:()=>m.activeItemIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});return{...d,...m,activeItemIndex:p}},3:(e,r)=>{let a=e.searchQuery!==""?0:1,n=e.searchQuery+r.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+a).concat(e.items.slice(0,e.activeItemIndex+a)):e.items).find(i=>{var d;return((d=i.dataRef.current.textValue)==null?void 0:d.startsWith(n))&&!i.dataRef.current.disabled}),s=o?e.items.indexOf(o):-1;return s===-1||s===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,r)=>{let a=U(e,n=>[...n,{id:r.id,dataRef:r.dataRef}]);return{...e,...a}},6:(e,r)=>{let a=U(e,n=>{let o=n.findIndex(s=>s.id===r.id);return o!==-1&&n.splice(o,1),n});return{...e,...a,activationTrigger:1}},7:(e,r)=>e.buttonElement===r.element?e:{...e,buttonElement:r.element},8:(e,r)=>e.itemsElement===r.element?e:{...e,itemsElement:r.element}},J=v.createContext(null);J.displayName="MenuContext";function Q(e){let r=v.useContext(J);if(r===null){let a=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Q),a}return r}function tt(e,r){return te(r.type,et,e,r)}let rt=v.Fragment;function nt(e,r){let{__demoMode:a=!1,...n}=e,o=v.useReducer(tt,{__demoMode:a,menuState:a?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsElement:i,buttonElement:d},m]=o,p=K(r);ke(s===0,[d,i],(M,h)=>{m({type:1}),Be(h,Ve.Loose)||(M.preventDefault(),d==null||d.focus())});let c=g(()=>{m({type:1})}),b=v.useMemo(()=>({open:s===0,close:c}),[s,c]),t={ref:p},u=k();return D.createElement(Me,null,D.createElement(J.Provider,{value:o},D.createElement(Oe,{value:te(s,{0:L.Open,1:L.Closed})},u({ourProps:t,theirProps:n,slot:b,defaultTag:rt,name:"Menu"}))))}let at="button";function ot(e,r){var a;let n=v.useId(),{id:o=`headlessui-menu-button-${n}`,disabled:s=!1,autoFocus:i=!1,...d}=e,[m,p]=Q("Menu.Button"),c=_e(),b=K(r,Pe(),g(f=>p({type:7,element:f}))),t=g(f=>{switch(f.key){case I.Space:case I.Enter:case I.ArrowDown:f.preventDefault(),f.stopPropagation(),O.flushSync(()=>p({type:0})),p({type:2,focus:y.First});break;case I.ArrowUp:f.preventDefault(),f.stopPropagation(),O.flushSync(()=>p({type:0})),p({type:2,focus:y.Last});break}}),u=g(f=>{switch(f.key){case I.Space:f.preventDefault();break}}),M=g(f=>{var C;if(Qe(f.currentTarget))return f.preventDefault();s||(m.menuState===0?(O.flushSync(()=>p({type:1})),(C=m.buttonElement)==null||C.focus({preventScroll:!0})):(f.preventDefault(),p({type:0})))}),{isFocusVisible:h,focusProps:_}=fe({autoFocus:i}),{isHovered:P,hoverProps:T}=ve({isDisabled:s}),{pressed:$,pressProps:S}=Ie({disabled:s}),F=v.useMemo(()=>({open:m.menuState===0,active:$||m.menuState===0,disabled:s,hover:P,focus:h,autofocus:i}),[m,P,h,$,s,i]),R=re(c(),{ref:b,id:o,type:ye(e,m.buttonElement),"aria-haspopup":"menu","aria-controls":(a=m.itemsElement)==null?void 0:a.id,"aria-expanded":m.menuState===0,disabled:s||void 0,autoFocus:i,onKeyDown:t,onKeyUp:u,onClick:M},_,T,S);return k()({ourProps:R,theirProps:d,slot:F,defaultTag:at,name:"Menu.Button"})}let lt="div",ut=Z.RenderStrategy|Z.Static;function st(e,r){var a,n;let o=v.useId(),{id:s=`headlessui-menu-items-${o}`,anchor:i,portal:d=!1,modal:m=!0,transition:p=!1,...c}=e,b=$e(i),[t,u]=Q("Menu.Items"),[M,h]=Re(b),_=we(),[P,T]=v.useState(null),$=K(r,b?M:null,g(l=>u({type:8,element:l})),T),S=Te(t.itemsElement);b&&(d=!0);let F=je(),[R,f]=Le(p,P,F!==null?(F&L.Open)===L.Open:t.menuState===0);Fe(R,t.buttonElement,()=>{u({type:1})});let C=t.__demoMode?!1:m&&t.menuState===0;Ce(C,S);let B=t.__demoMode?!1:m&&t.menuState===0;Ne(B,{allowed:v.useCallback(()=>[t.buttonElement,t.itemsElement],[t.buttonElement,t.itemsElement])});let V=t.menuState!==0,x=be(V,t.buttonElement)?!1:R;v.useEffect(()=>{let l=t.itemsElement;l&&t.menuState===0&&l!==(S==null?void 0:S.activeElement)&&l.focus({preventScroll:!0})},[t.menuState,t.itemsElement,S]),ge(t.menuState===0,{container:t.itemsElement,accept(l){return l.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:l.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(l){l.setAttribute("role","none")}});let A=Se(),se=g(l=>{var W,X,Y;switch(A.dispose(),l.key){case I.Space:if(t.searchQuery!=="")return l.preventDefault(),l.stopPropagation(),u({type:3,value:l.key});case I.Enter:if(l.preventDefault(),l.stopPropagation(),u({type:1}),t.activeItemIndex!==null){let{dataRef:pe}=t.items[t.activeItemIndex];(X=(W=pe.current)==null?void 0:W.domRef.current)==null||X.click()}ne(t.buttonElement);break;case I.ArrowDown:return l.preventDefault(),l.stopPropagation(),u({type:2,focus:y.Next});case I.ArrowUp:return l.preventDefault(),l.stopPropagation(),u({type:2,focus:y.Previous});case I.Home:case I.PageUp:return l.preventDefault(),l.stopPropagation(),u({type:2,focus:y.First});case I.End:case I.PageDown:return l.preventDefault(),l.stopPropagation(),u({type:2,focus:y.Last});case I.Escape:l.preventDefault(),l.stopPropagation(),O.flushSync(()=>u({type:1})),(Y=t.buttonElement)==null||Y.focus({preventScroll:!0});break;case I.Tab:l.preventDefault(),l.stopPropagation(),O.flushSync(()=>u({type:1})),qe(t.buttonElement,l.shiftKey?ee.Previous:ee.Next);break;default:l.key.length===1&&(u({type:3,value:l.key}),A.setTimeout(()=>u({type:4}),350));break}}),ie=g(l=>{switch(l.key){case I.Space:l.preventDefault();break}}),de=v.useMemo(()=>({open:t.menuState===0}),[t.menuState]),me=re(b?_():{},{"aria-activedescendant":t.activeItemIndex===null||(a=t.items[t.activeItemIndex])==null?void 0:a.id,"aria-labelledby":(n=t.buttonElement)==null?void 0:n.id,id:s,onKeyDown:se,onKeyUp:ie,role:"menu",tabIndex:t.menuState===0?0:void 0,ref:$,style:{...c.style,...h,"--button-width":De(t.buttonElement,!0).width},...Ke(f)}),ce=k();return D.createElement(Ae,{enabled:d?e.static||R:!1},ce({ourProps:me,theirProps:c,slot:de,defaultTag:lt,features:ut,visible:x,name:"Menu.Items"}))}let it=v.Fragment;function dt(e,r){let a=v.useId(),{id:n=`headlessui-menu-item-${a}`,disabled:o=!1,...s}=e,[i,d]=Q("Menu.Item"),m=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,p=v.useRef(null),c=K(r,p);j(()=>{if(!i.__demoMode&&i.menuState===0&&m&&i.activationTrigger!==0)return Ee().requestAnimationFrame(()=>{var x,A;(A=(x=p.current)==null?void 0:x.scrollIntoView)==null||A.call(x,{block:"nearest"})})},[i.__demoMode,p,m,i.menuState,i.activationTrigger,i.activeItemIndex]);let b=xe(p),t=v.useRef({disabled:o,domRef:p,get textValue(){return b()}});j(()=>{t.current.disabled=o},[t,o]),j(()=>(d({type:5,id:n,dataRef:t}),()=>d({type:6,id:n})),[t,n]);let u=g(()=>{d({type:1})}),M=g(x=>{if(o)return x.preventDefault();d({type:1}),ne(i.buttonElement)}),h=g(()=>{if(o)return d({type:2,focus:y.Nothing});d({type:2,focus:y.Specific,id:n})}),_=he(),P=g(x=>{_.update(x),!o&&(m||d({type:2,focus:y.Specific,id:n,trigger:0}))}),T=g(x=>{_.wasMoved(x)&&(o||m||d({type:2,focus:y.Specific,id:n,trigger:0}))}),$=g(x=>{_.wasMoved(x)&&(o||m&&d({type:2,focus:y.Nothing}))}),[S,F]=ae(),[R,f]=Ge(),C=v.useMemo(()=>({active:m,focus:m,disabled:o,close:u}),[m,o,u]),B={id:n,ref:c,role:"menuitem",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-labelledby":S,"aria-describedby":R,disabled:void 0,onClick:M,onFocus:h,onPointerEnter:P,onMouseEnter:P,onPointerMove:T,onMouseMove:T,onPointerLeave:$,onMouseLeave:$},V=k();return D.createElement(F,null,D.createElement(f,null,V({ourProps:B,theirProps:s,slot:C,defaultTag:it,name:"Menu.Item"})))}let mt="div";function ct(e,r){let[a,n]=ae(),o=e,s={ref:r,"aria-labelledby":a,role:"group"},i=k();return D.createElement(n,null,i({ourProps:s,theirProps:o,slot:{},defaultTag:mt,name:"Menu.Section"}))}let pt="header";function ft(e,r){let a=v.useId(),{id:n=`headlessui-menu-heading-${a}`,...o}=e,s=He();j(()=>s.register(n),[n,s.register]);let i={id:n,ref:r,role:"presentation",...s.props};return k()({ourProps:i,theirProps:o,slot:{},defaultTag:pt,name:"Menu.Heading"})}let vt="div";function It(e,r){let a=e,n={ref:r,role:"separator"};return k()({ourProps:n,theirProps:a,slot:{},defaultTag:vt,name:"Menu.Separator"})}let yt=N(nt),oe=N(ot),le=N(st),ue=N(dt),bt=N(ct),gt=N(ft),xt=N(It),ht=Object.assign(yt,{Button:oe,Items:le,Item:ue,Section:bt,Heading:gt,Separator:xt});const G=({children:e,className:r})=>w.jsx(oe,{as:"div",className:r,children:e});try{G.displayName="MenuButton",G.__docgenInfo={description:"",displayName:"MenuButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const H=({children:e,LeftIcon:r,disabled:a=!1,onClick:n})=>w.jsx(ue,{disabled:a,children:w.jsxs("button",{type:"button",className:"group relative flex w-full cursor-pointer items-center gap-4 bg-neutral-0 px-4 py-2.5 hover:bg-neutral-100 disabled:bg-neutral-0 data-[focus]:bg-neutral-200",disabled:a,onKeyDown:n,onClick:n,children:[r?w.jsx(r,{className:"h-4 w-4 fill-neutral-600 group-disabled:fill-neutral-400"}):null,w.jsx("div",{className:"paragraph-200 text-neutral-800 group-disabled:text-neutral-400",children:e})]})});try{H.displayName="MenuItem",H.__docgenInfo={description:"",displayName:"MenuItem",props:{LeftIcon:{defaultValue:null,description:"",name:"LeftIcon",required:!1,type:{name:"ElementType<any>"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}}}catch{}const z=({children:e})=>w.jsx(le,{className:"absolute right-0 z-10 mt-2 flex w-52 flex-col rounded-md bg-neutral-0 py-2 shadow-md outline-none",children:e});try{z.displayName="MenuItems",z.__docgenInfo={description:"",displayName:"MenuItems",props:{}}}catch{}const E=({children:e})=>w.jsx(ht,{as:"div",className:"relative",children:e});E.Button=G;E.Items=z;E.Title=We;E.Item=H;E.InfoItem=ze;E.Separator=Je;try{E.displayName="Menu",E.__docgenInfo={description:"",displayName:"Menu",props:{}}}catch{}export{H as M,E as a};
