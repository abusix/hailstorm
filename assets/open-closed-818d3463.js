import{r as c,R as v}from"./index-8db94870.js";import{h as E,T as C}from"./focus-management-8ba95dc1.js";import{s as g}from"./keyboard-f3ae5531.js";function m(e,i,o){let a=g(i);c.useEffect(()=>{function f(u){a.current(u)}return document.addEventListener(e,f,o),()=>document.removeEventListener(e,f,o)},[e,o])}function R(e,i,o=!0){let a=c.useRef(!1);c.useEffect(()=>{requestAnimationFrame(()=>{a.current=o})},[o]);function f(n,s){if(!a.current||n.defaultPrevented)return;let d=function l(t){return typeof t=="function"?l(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),r=s(n);if(r!==null&&r.getRootNode().contains(r)){for(let l of d){if(l===null)continue;let t=l instanceof HTMLElement?l:l.current;if(t!=null&&t.contains(r)||n.composed&&n.composedPath().includes(t))return}return!E(r,C.Loose)&&r.tabIndex!==-1&&n.preventDefault(),i(n,r)}}let u=c.useRef(null);m("mousedown",n=>{var s,d;a.current&&(u.current=((d=(s=n.composedPath)==null?void 0:s.call(n))==null?void 0:d[0])||n.target)},!0),m("click",n=>{u.current&&(f(n,()=>u.current),u.current=null)},!0),m("blur",n=>f(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}let p=c.createContext(null);p.displayName="OpenClosedContext";var x=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(x||{});function h(){return c.useContext(p)}function y({value:e,children:i}){return v.createElement(p.Provider,{value:e},i)}export{h as C,R as L,y as c,x as d};
//# sourceMappingURL=open-closed-818d3463.js.map
