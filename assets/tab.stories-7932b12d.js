import{a as r,j as L}from"./jsx-runtime-a888423b.js";import{r as c,R as P}from"./index-8db94870.js";import{c as Te}from"./class-names-dbcba743.js";import{S as se,D as M,y as O,s as J,o as w,l as H,X as V,I as xe,u as D,a as h,t as Ee}from"./keyboard-f3ae5531.js";import{I as q,N as G,e as Ce,O as k,M as v}from"./focus-management-8ba95dc1.js";import{s as Se}from"./use-resolve-button-type-3a664423.js";import{c as ge,p as $e}from"./hidden-05078d32.js";import{g as we,n as oe}from"./storybook-utils-5525ffdc.js";import"./_commonjsHelpers-042e6b4d.js";function ke({onFocus:e}){let[t,n]=c.useState(!0);return t?P.createElement(ge,{as:"button",type:"button",features:$e.Focusable,onFocus:a=>{a.preventDefault();let l,o=50;function u(){if(o--<=0){l&&cancelAnimationFrame(l);return}if(e()){n(!1),cancelAnimationFrame(l);return}l=requestAnimationFrame(u)}l=requestAnimationFrame(u)}}):null}const he=c.createContext(null);function Le(){return{groups:new Map,get(e,t){var n;let a=this.groups.get(e);a||(a=new Map,this.groups.set(e,a));let l=(n=a.get(t))!=null?n:0;a.set(t,l+1);let o=Array.from(a.keys()).indexOf(t);function u(){let g=a.get(t);g>1?a.set(t,g-1):a.delete(t)}return[o,u]}}}function Be({children:e}){let t=c.useRef(Le());return c.createElement(he.Provider,{value:t},e)}function ve(e){let t=c.useContext(he);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=Re(),[a,l]=t.current.get(e,n);return c.useEffect(()=>l,[]),a}function Re(){var e,t,n;let a=(n=(t=(e=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!a)return Symbol();let l=[],o=a;for(;o;)l.push(o.index),o=o.return;return"$."+l.join(".")}var Ae=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ae||{}),qe=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(qe||{}),De=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(De||{});let Fe={[0](e,t){var n;let a=q(e.tabs,p=>p.current),l=q(e.panels,p=>p.current),o=a.filter(p=>{var N;return!((N=p.current)!=null&&N.hasAttribute("disabled"))}),u={...e,tabs:a,panels:l};if(t.index<0||t.index>a.length-1){let p=D(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,[0]:()=>D(Math.sign(t.index),{[-1]:()=>0,[0]:()=>0,[1]:()=>1}),[1]:()=>0});return o.length===0?u:{...u,selectedIndex:D(p,{[0]:()=>a.indexOf(o[0]),[1]:()=>a.indexOf(o[o.length-1])})}}let g=a.slice(0,t.index),_=[...a.slice(t.index),...g].find(p=>o.includes(p));if(!_)return u;let y=(n=a.indexOf(_))!=null?n:e.selectedIndex;return y===-1&&(y=e.selectedIndex),{...u,selectedIndex:y}},[1](e,t){var n;if(e.tabs.includes(t.tab))return e;let a=e.tabs[e.selectedIndex],l=q([...e.tabs,t.tab],u=>u.current),o=(n=l.indexOf(a))!=null?n:e.selectedIndex;return o===-1&&(o=e.selectedIndex),{...e,tabs:l,selectedIndex:o}},[2](e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},[3](e,t){return e.panels.includes(t.panel)?e:{...e,panels:q([...e.panels,t.panel],n=>n.current)}},[4](e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},ne=c.createContext(null);ne.displayName="TabsDataContext";function B(e){let t=c.useContext(ne);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,B),n}return t}let ae=c.createContext(null);ae.displayName="TabsActionsContext";function re(e){let t=c.useContext(ae);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,re),n}return t}function Me(e,t){return D(t.type,Fe,e,t)}let Oe=c.Fragment;function Ve(e,t){let{defaultIndex:n=0,vertical:a=!1,manual:l=!1,onChange:o,selectedIndex:u=null,...g}=e;const _=a?"vertical":"horizontal",y=l?"manual":"auto";let p=u!==null,N=O(t),[d,x]=c.useReducer(Me,{selectedIndex:u??n,tabs:[],panels:[]}),b=c.useMemo(()=>({selectedIndex:d.selectedIndex}),[d.selectedIndex]),R=J(o||(()=>{})),A=J(d.tabs),f=c.useMemo(()=>({orientation:_,activation:y,...d}),[_,y,d]),T=w(m=>(x({type:1,tab:m}),()=>x({type:2,tab:m}))),C=w(m=>(x({type:3,panel:m}),()=>x({type:4,panel:m}))),S=w(m=>{$.current!==m&&R.current(m),p||x({type:0,index:m})}),$=J(p?e.selectedIndex:d.selectedIndex),Y=c.useMemo(()=>({registerTab:T,registerPanel:C,change:S}),[]);H(()=>{x({type:0,index:u??n})},[u]),H(()=>{if($.current===void 0||d.tabs.length<=0)return;let m=q(d.tabs,E=>E.current);m.some((E,s)=>d.tabs[s]!==E)&&S(m.indexOf(d.tabs[$.current]))});let K={ref:N};return P.createElement(Be,null,P.createElement(ae.Provider,{value:Y},P.createElement(ne.Provider,{value:f},f.tabs.length<=0&&P.createElement(ke,{onFocus:()=>{var m,E;for(let s of A.current)if(((m=s.current)==null?void 0:m.tabIndex)===0)return(E=s.current)==null||E.focus(),!0;return!1}}),V({ourProps:K,theirProps:g,slot:b,defaultTag:Oe,name:"Tabs"}))))}let Ue="div";function je(e,t){let{orientation:n,selectedIndex:a}=B("Tab.List"),l=O(t);return V({ourProps:{ref:l,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:a},defaultTag:Ue,name:"Tabs.List"})}let Ge="button";function We(e,t){var n,a;let l=xe(),{id:o=`headlessui-tabs-tab-${l}`,...u}=e,{orientation:g,activation:_,selectedIndex:y,tabs:p,panels:N}=B("Tab"),d=re("Tab"),x=B("Tab"),b=c.useRef(null),R=O(b,t);H(()=>d.registerTab(b),[d,b]);let A=ve("tabs"),f=p.indexOf(b);f===-1&&(f=A);let T=f===y,C=w(s=>{var I;let j=s();if(j===G.Success&&_==="auto"){let Ie=(I=Ce(b))==null?void 0:I.activeElement,le=x.tabs.findIndex(Ne=>Ne.current===Ie);le!==-1&&d.change(le)}return j}),S=w(s=>{let I=p.map(j=>j.current).filter(Boolean);if(s.key===h.Space||s.key===h.Enter){s.preventDefault(),s.stopPropagation(),d.change(f);return}switch(s.key){case h.Home:case h.PageUp:return s.preventDefault(),s.stopPropagation(),C(()=>k(I,v.First));case h.End:case h.PageDown:return s.preventDefault(),s.stopPropagation(),C(()=>k(I,v.Last))}if(C(()=>D(g,{vertical(){return s.key===h.ArrowUp?k(I,v.Previous|v.WrapAround):s.key===h.ArrowDown?k(I,v.Next|v.WrapAround):G.Error},horizontal(){return s.key===h.ArrowLeft?k(I,v.Previous|v.WrapAround):s.key===h.ArrowRight?k(I,v.Next|v.WrapAround):G.Error}}))===G.Success)return s.preventDefault()}),$=c.useRef(!1),Y=w(()=>{var s;$.current||($.current=!0,(s=b.current)==null||s.focus(),d.change(f),Ee(()=>{$.current=!1}))}),K=w(s=>{s.preventDefault()}),m=c.useMemo(()=>({selected:T}),[T]),E={ref:R,onKeyDown:S,onMouseDown:K,onClick:Y,id:o,role:"tab",type:Se(e,b),"aria-controls":(a=(n=N[f])==null?void 0:n.current)==null?void 0:a.id,"aria-selected":T,tabIndex:T?0:-1};return V({ourProps:E,theirProps:u,slot:m,defaultTag:Ge,name:"Tabs.Tab"})}let ze="div";function Xe(e,t){let{selectedIndex:n}=B("Tab.Panels"),a=O(t),l=c.useMemo(()=>({selectedIndex:n}),[n]);return V({ourProps:{ref:a},theirProps:e,slot:l,defaultTag:ze,name:"Tabs.Panels"})}let He="div",Ye=se.RenderStrategy|se.Static;function Ke(e,t){var n,a,l,o;let u=xe(),{id:g=`headlessui-tabs-panel-${u}`,tabIndex:_=0,...y}=e,{selectedIndex:p,tabs:N,panels:d}=B("Tab.Panel"),x=re("Tab.Panel"),b=c.useRef(null),R=O(b,t);H(()=>x.registerPanel(b),[x,b]);let A=ve("panels"),f=d.indexOf(b);f===-1&&(f=A);let T=f===p,C=c.useMemo(()=>({selected:T}),[T]),S={ref:R,id:g,role:"tabpanel","aria-labelledby":(a=(n=N[f])==null?void 0:n.current)==null?void 0:a.id,tabIndex:T?_:-1};return!T&&((l=y.unmount)==null||l)&&!((o=y.static)!=null&&o)?P.createElement(ge,{as:"span",...S}):V({ourProps:S,theirProps:y,slot:C,defaultTag:He,features:Ye,visible:T,name:"Tabs.Panel"})}let Je=M(We),Qe=M(Ve),Ze=M(je),et=M(Xe),tt=M(Ke),U=Object.assign(Je,{Group:Qe,List:Ze,Panels:et,Panel:tt});const Pe=P.createContext({type:"primary"});function _e(){const e=P.useContext(Pe);if(!e)throw new Error("Tab compound components cannot be rendered outside the Tab component");return e}const nt={primary:"relative whitespace-nowrap focus:ring-2 ring:primary-200 ui-not-selected:hover:text-neutral-800 ui-not-selected:after:hidden ui-selected:after:absolute ui-selected:after:left-0 ui-selected:after:right-0 ui-selected:after:-bottom-2 ui-selected:after:block ui-selected:after:h-0.5 ui-selected:after:bg-primary-500 disabled:ui-selected:after:bg-primary-500 disabled:text-neutral-500",secondary:"px-4 py-2 ui-not-selected:bg-transparent ui-not-selected:hover:text-neutral-800 focus:ring-2 ring:primary-200 ui-not-selected:hover:bg-neutral-100 ui-selected:text-primary-500 ui-selected:bg-primary-50 disabled:text-neutral-500"},Q=({children:e,...t})=>{const{type:n}=_e();return r(U,{...t,className:"focus-visible:outline-none",children:r("div",{className:Te("rounded text-xs font-medium outline-none ui-selected:text-primary-500 ui-not-selected:text-neutral-700",nt[n]),children:e})})};try{Q.displayName="TabButton",Q.__docgenInfo={description:"",displayName:"TabButton",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}},refName:{defaultValue:null,description:"",name:"refName",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"any"}}}}}catch{}const at={primary:"gap-5 pb-2",secondary:"gap-2"},Z=({children:e})=>{const{type:t}=_e();return r(U.List,{className:Te("flex",at[t]),children:e})};try{Z.displayName="TabList",Z.__docgenInfo={description:"",displayName:"TabList",props:{}}}catch{}const ee=({children:e})=>r(U.Panel,{as:P.Fragment,children:e});try{ee.displayName="TabPanel",ee.__docgenInfo={description:"",displayName:"TabPanel",props:{}}}catch{}const te=({children:e})=>r(U.Panels,{children:e});try{te.displayName="TabPanels",te.__docgenInfo={description:"",displayName:"TabPanels",props:{}}}catch{}const i=({type:e="primary",children:t,...n})=>{const a=P.useMemo(()=>({type:e}),[e]);return r(Pe.Provider,{value:a,children:r(U.Group,{...n,children:t})})};i.List=Z;i.Button=Q;i.Panels=te;i.Panel=ee;try{i.displayName="Tab",i.__docgenInfo={description:"",displayName:"Tab",props:{type:{defaultValue:{value:"primary"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}},refName:{defaultValue:null,description:"",name:"refName",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"any"}},defaultIndex:{defaultValue:null,description:"",name:"defaultIndex",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((index: number) => void)"}},selectedIndex:{defaultValue:null,description:"",name:"selectedIndex",required:!1,type:{name:"number"}},vertical:{defaultValue:null,description:"",name:"vertical",required:!1,type:{name:"boolean"}},manual:{defaultValue:null,description:"",name:"manual",required:!1,type:{name:"boolean"}}}}}catch{}const mt={title:"Tab",component:i,parameters:we("Tab component. For a detailed explanation on props, please visit the Headless UI [tab-group documentation](https://headlessui.com/react/tabs#tab-group)")},F=({type:e="primary"})=>L(i,{type:e,children:[L(i.List,{children:[r(i.Button,{onClick:()=>null,children:"Tab 1"}),r(i.Button,{onClick:()=>null,children:"Tab 2"}),r(i.Button,{onClick:()=>null,children:"Tab 3"})]}),L(i.Panels,{children:[r(i.Panel,{children:r("p",{className:"paragraph-200 pt-2",children:"Content 1"})}),r(i.Panel,{children:r("p",{className:"paragraph-200 pt-2",children:"Content 2"})}),r(i.Panel,{children:r("p",{className:"paragraph-200 pt-2",children:"Content 3"})})]})]}),W={render:()=>r(F,{})},z={render:e=>r(F,{...e}),args:{type:"secondary"}},X={render:e=>L(i,{...e,children:[L(i.List,{children:[r(i.Button,{onClick:()=>null,children:"Tab 1"}),r(i.Button,{onClick:()=>null,children:"Tab 2"}),r(i.Button,{onClick:()=>null,children:"Tab 3"})]}),L(i.Panels,{children:[r(i.Panel,{children:r("div",{className:"pt-2",children:r(F,{})})}),r(i.Panel,{children:r("div",{className:"pt-2",children:r(F,{})})}),r(i.Panel,{children:r("div",{className:"pt-2",children:r(F,{})})})]})]}),args:{type:"primary",vertical:!1,manual:!1,defaultIndex:0},argTypes:{as:oe,refName:oe,className:{control:{type:"text"}}}};var ie,ue,ce;W.parameters={...W.parameters,docs:{...(ie=W.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  render: () => <TabsExample />
}`,...(ce=(ue=W.parameters)==null?void 0:ue.docs)==null?void 0:ce.source}}};var de,pe,me;z.parameters={...z.parameters,docs:{...(de=z.parameters)==null?void 0:de.docs,source:{originalSource:`{
  render: args => <TabsExample {...args} />,
  args: {
    type: "secondary"
  }
}`,...(me=(pe=z.parameters)==null?void 0:pe.docs)==null?void 0:me.source}}};var be,fe,ye;X.parameters={...X.parameters,docs:{...(be=X.parameters)==null?void 0:be.docs,source:{originalSource:`{
  render: args => <Tab {...args}>
            <Tab.List>
                <Tab.Button onClick={() => null}>Tab 1</Tab.Button>
                <Tab.Button onClick={() => null}>Tab 2</Tab.Button>
                <Tab.Button onClick={() => null}>Tab 3</Tab.Button>
            </Tab.List>

            <Tab.Panels>
                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>

                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>

                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>
            </Tab.Panels>
        </Tab>,
  args: {
    type: "primary",
    vertical: false,
    manual: false,
    defaultIndex: 0
  },
  argTypes: {
    as: noControl,
    refName: noControl,
    className: {
      control: {
        type: "text"
      }
    }
  }
}`,...(ye=(fe=X.parameters)==null?void 0:fe.docs)==null?void 0:ye.source}}};const bt=["Primary","Secondary","NestedTabs"];export{X as NestedTabs,W as Primary,z as Secondary,bt as __namedExportsOrder,mt as default};
//# sourceMappingURL=tab.stories-7932b12d.js.map
