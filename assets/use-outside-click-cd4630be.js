import{r as s}from"./index-8db94870.js";import{h as E,T as p}from"./focus-management-0b66a118.js";import{b as m}from"./keyboard-21395176.js";function d(o,f,t){let i=m(f);s.useEffect(()=>{function u(c){i.current(c)}return document.addEventListener(o,u,t),()=>document.removeEventListener(o,u,t)},[o,t])}function w(o,f,t){let i=m(f);s.useEffect(()=>{function u(c){i.current(c)}return window.addEventListener(o,u,t),()=>window.removeEventListener(o,u,t)},[o,t])}function x(o,f,t=!0){let i=s.useRef(!1);s.useEffect(()=>{requestAnimationFrame(()=>{i.current=t})},[t]);function u(e,a){if(!i.current||e.defaultPrevented)return;let n=a(e);if(n===null||!n.getRootNode().contains(n))return;let v=function l(r){return typeof r=="function"?l(r()):Array.isArray(r)||r instanceof Set?r:[r]}(o);for(let l of v){if(l===null)continue;let r=l instanceof HTMLElement?l:l.current;if(r!=null&&r.contains(n)||e.composed&&e.composedPath().includes(r))return}return!E(n,p.Loose)&&n.tabIndex!==-1&&e.preventDefault(),f(e,n)}let c=s.useRef(null);d("mousedown",e=>{var a,n;i.current&&(c.current=((n=(a=e.composedPath)==null?void 0:a.call(e))==null?void 0:n[0])||e.target)},!0),d("click",e=>{c.current&&(u(e,()=>c.current),c.current=null)},!0),w("blur",e=>u(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{x as H,w as s};
//# sourceMappingURL=use-outside-click-cd4630be.js.map
