import{r as i,R as c}from"./index-DX35FyXq.js";import{T as p,s as h}from"./hidden-BRuiewI3.js";import{u as v}from"./keyboard-CMPngVPH.js";import{o as d}from"./use-sync-refs-DTQ85WuU.js";import{n as y,s as b}from"./portal-DK2bHMyK.js";function C({defaultContainers:t=[],portals:n,mainTreeNode:l}={}){let s=y(l),a=d(()=>{var r,u;let o=[];for(let e of t)e!==null&&(e instanceof HTMLElement?o.push(e):"current"in e&&e.current instanceof HTMLElement&&o.push(e.current));if(n!=null&&n.current)for(let e of n.current)o.push(e);for(let e of(r=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?r:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&e.id!=="headlessui-portal-root"&&(l&&(e.contains(l)||e.contains((u=l==null?void 0:l.getRootNode())==null?void 0:u.host))||o.some(m=>e.contains(m))||o.push(e));return o});return{resolveContainers:a,contains:d(r=>a().some(u=>u.contains(r)))}}let f=i.createContext(null);function L({children:t,node:n}){let[l,s]=i.useState(null),a=E(n??l);return c.createElement(f.Provider,{value:a},t,a===null&&c.createElement(p,{features:h.Hidden,ref:r=>{var u,o;if(r){for(let e of(o=(u=v(r))==null?void 0:u.querySelectorAll("html > *, body > *"))!=null?o:[])if(e!==document.body&&e!==document.head&&e instanceof HTMLElement&&e!=null&&e.contains(r)){s(e);break}}}}))}function E(t=null){var n;return(n=i.useContext(f))!=null?n:t}var T=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(T||{});function M(){let t=i.useRef(0);return b(!0,"keydown",n=>{n.key==="Tab"&&(t.current=n.shiftKey?1:0)},!0),t}export{L as O,C as R,T as a,E as b,M as u};
