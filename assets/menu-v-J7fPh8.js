import{j as x}from"./jsx-runtime-DtaoT6pD.js";import{M as X}from"./menu-info-item-zXznKl6s.js";import{c as F}from"./class-names-xhKKfcKT.js";import{r as p,R as Q}from"./index-OjgoNOWw.js";import{S as U,D as N,y as D,o as v,u as V,X as E,l as A}from"./render--CnTCjM4.js";import{o as B}from"./disposables-x8EK1kJp.js";import{p as G}from"./use-disposables-zYA53INM.js";import{I as j,o as c}from"./keyboard-ypJuuhig.js";import{F as Y,b as Z,u as ee,a as b,x as te}from"./use-text-value-5FULYfhL.js";import{r as re}from"./bugs-DTVvle51.js";import{h as ae,T as ne,_ as oe,M as K,D as z,I as se}from"./focus-management-3l6xl84w.js";import{h as ie,n as ue}from"./use-owner-is5PDNtX.js";import{c as le,d as k,C as me}from"./open-closed-QZcf9p9x.js";import{s as ce}from"./use-resolve-button-type-CvYxBXG6.js";import{M as de}from"./menu-separator-A-X6ODcl.js";import{M as pe}from"./menu-title-T4by162O.js";var fe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(fe||{}),ve=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ve||{}),Ie=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(Ie||{});function O(e,s=o=>o){let o=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,a=se(s(e.items.slice()),u=>u.dataRef.current.domRef.current),n=o?a.indexOf(o):null;return n===-1&&(n=null),{items:a,activeItemIndex:n}}let ye={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,s)=>{var o;let a=O(e),n=te(s,{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...e,...a,searchQuery:"",activeItemIndex:n,activationTrigger:(o=s.trigger)!=null?o:1}},3:(e,s)=>{let o=e.searchQuery!==""?0:1,a=e.searchQuery+s.value.toLowerCase(),n=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+o).concat(e.items.slice(0,e.activeItemIndex+o)):e.items).find(i=>{var t;return((t=i.dataRef.current.textValue)==null?void 0:t.startsWith(a))&&!i.dataRef.current.disabled}),u=n?e.items.indexOf(n):-1;return u===-1||u===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:u,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,s)=>{let o=O(e,a=>[...a,{id:s.id,dataRef:s.dataRef}]);return{...e,...o}},6:(e,s)=>{let o=O(e,a=>{let n=a.findIndex(u=>u.id===s.id);return n!==-1&&a.splice(n,1),a});return{...e,...o,activationTrigger:1}}},q=p.createContext(null);q.displayName="MenuContext";function $(e){let s=p.useContext(q);if(s===null){let o=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,$),o}return s}function be(e,s){return V(s.type,ye,e,s)}let ge=p.Fragment;function Re(e,s){let{__demoMode:o=!1,...a}=e,n=p.useReducer(be,{__demoMode:o,menuState:o?0:1,buttonRef:p.createRef(),itemsRef:p.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:u,itemsRef:i,buttonRef:t},l]=n,f=D(s);ie([t,i],(R,h)=>{var m;l({type:1}),ae(h,ne.Loose)||(R.preventDefault(),(m=t.current)==null||m.focus())},u===0);let y=v(()=>{l({type:1})}),g=p.useMemo(()=>({open:u===0,close:y}),[u,y]),I={ref:f};return Q.createElement(q.Provider,{value:n},Q.createElement(le,{value:V(u,{0:k.Open,1:k.Closed})},E({ourProps:I,theirProps:a,slot:g,defaultTag:ge,name:"Menu"})))}let Me="button";function he(e,s){var o;let a=j(),{id:n=`headlessui-menu-button-${a}`,...u}=e,[i,t]=$("Menu.Button"),l=D(i.buttonRef,s),f=G(),y=v(m=>{switch(m.key){case c.Space:case c.Enter:case c.ArrowDown:m.preventDefault(),m.stopPropagation(),t({type:0}),f.nextFrame(()=>t({type:2,focus:b.First}));break;case c.ArrowUp:m.preventDefault(),m.stopPropagation(),t({type:0}),f.nextFrame(()=>t({type:2,focus:b.Last}));break}}),g=v(m=>{switch(m.key){case c.Space:m.preventDefault();break}}),I=v(m=>{if(re(m.currentTarget))return m.preventDefault();e.disabled||(i.menuState===0?(t({type:1}),f.nextFrame(()=>{var M;return(M=i.buttonRef.current)==null?void 0:M.focus({preventScroll:!0})})):(m.preventDefault(),t({type:0})))}),R=p.useMemo(()=>({open:i.menuState===0}),[i]),h={ref:l,id:n,type:ce(e,i.buttonRef),"aria-haspopup":"menu","aria-controls":(o=i.itemsRef.current)==null?void 0:o.id,"aria-expanded":i.menuState===0,onKeyDown:y,onKeyUp:g,onClick:I};return E({ourProps:h,theirProps:u,slot:R,defaultTag:Me,name:"Menu.Button"})}let xe="div",Pe=U.RenderStrategy|U.Static;function Te(e,s){var o,a;let n=j(),{id:u=`headlessui-menu-items-${n}`,...i}=e,[t,l]=$("Menu.Items"),f=D(t.itemsRef,s),y=ue(t.itemsRef),g=G(),I=me(),R=I!==null?(I&k.Open)===k.Open:t.menuState===0;p.useEffect(()=>{let r=t.itemsRef.current;r&&t.menuState===0&&r!==(y==null?void 0:y.activeElement)&&r.focus({preventScroll:!0})},[t.menuState,t.itemsRef,y]),Y({container:t.itemsRef.current,enabled:t.menuState===0,accept(r){return r.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:r.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(r){r.setAttribute("role","none")}});let h=v(r=>{var T,w;switch(g.dispose(),r.key){case c.Space:if(t.searchQuery!=="")return r.preventDefault(),r.stopPropagation(),l({type:3,value:r.key});case c.Enter:if(r.preventDefault(),r.stopPropagation(),l({type:1}),t.activeItemIndex!==null){let{dataRef:d}=t.items[t.activeItemIndex];(w=(T=d.current)==null?void 0:T.domRef.current)==null||w.click()}z(t.buttonRef.current);break;case c.ArrowDown:return r.preventDefault(),r.stopPropagation(),l({type:2,focus:b.Next});case c.ArrowUp:return r.preventDefault(),r.stopPropagation(),l({type:2,focus:b.Previous});case c.Home:case c.PageUp:return r.preventDefault(),r.stopPropagation(),l({type:2,focus:b.First});case c.End:case c.PageDown:return r.preventDefault(),r.stopPropagation(),l({type:2,focus:b.Last});case c.Escape:r.preventDefault(),r.stopPropagation(),l({type:1}),B().nextFrame(()=>{var d;return(d=t.buttonRef.current)==null?void 0:d.focus({preventScroll:!0})});break;case c.Tab:r.preventDefault(),r.stopPropagation(),l({type:1}),B().nextFrame(()=>{oe(t.buttonRef.current,r.shiftKey?K.Previous:K.Next)});break;default:r.key.length===1&&(l({type:3,value:r.key}),g.setTimeout(()=>l({type:4}),350));break}}),m=v(r=>{switch(r.key){case c.Space:r.preventDefault();break}}),M=p.useMemo(()=>({open:t.menuState===0}),[t]),S={"aria-activedescendant":t.activeItemIndex===null||(o=t.items[t.activeItemIndex])==null?void 0:o.id,"aria-labelledby":(a=t.buttonRef.current)==null?void 0:a.id,id:u,onKeyDown:h,onKeyUp:m,role:"menu",tabIndex:0,ref:f};return E({ourProps:S,theirProps:i,slot:M,defaultTag:xe,features:Pe,visible:R,name:"Menu.Items"})}let Se=p.Fragment;function we(e,s){let o=j(),{id:a=`headlessui-menu-item-${o}`,disabled:n=!1,...u}=e,[i,t]=$("Menu.Item"),l=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===a:!1,f=p.useRef(null),y=D(s,f);A(()=>{if(i.__demoMode||i.menuState!==0||!l||i.activationTrigger===0)return;let d=B();return d.requestAnimationFrame(()=>{var C,L;(L=(C=f.current)==null?void 0:C.scrollIntoView)==null||L.call(C,{block:"nearest"})}),d.dispose},[i.__demoMode,f,l,i.menuState,i.activationTrigger,i.activeItemIndex]);let g=Z(f),I=p.useRef({disabled:n,domRef:f,get textValue(){return g()}});A(()=>{I.current.disabled=n},[I,n]),A(()=>(t({type:5,id:a,dataRef:I}),()=>t({type:6,id:a})),[I,a]);let R=v(()=>{t({type:1})}),h=v(d=>{if(n)return d.preventDefault();t({type:1}),z(i.buttonRef.current)}),m=v(()=>{if(n)return t({type:2,focus:b.Nothing});t({type:2,focus:b.Specific,id:a})}),M=ee(),S=v(d=>M.update(d)),r=v(d=>{M.wasMoved(d)&&(n||l||t({type:2,focus:b.Specific,id:a,trigger:0}))}),T=v(d=>{M.wasMoved(d)&&(n||l&&t({type:2,focus:b.Nothing}))}),w=p.useMemo(()=>({active:l,disabled:n,close:R}),[l,n,R]);return E({ourProps:{id:a,ref:y,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:h,onFocus:m,onPointerEnter:S,onMouseEnter:S,onPointerMove:r,onMouseMove:r,onPointerLeave:T,onMouseLeave:T},theirProps:u,slot:w,defaultTag:Se,name:"Menu.Item"})}let ke=N(Re),Ne=N(he),De=N(Te),Ee=N(we),_=Object.assign(ke,{Button:Ne,Items:De,Item:Ee});const H=({children:e,LeftIcon:s,isSelected:o=!1,disabled:a=!1,onClick:n})=>x.jsx(_.Item,{disabled:a,children:({active:u})=>x.jsxs("button",{type:"button",className:F("group relative flex w-full cursor-pointer items-center gap-4 bg-neutral-0 px-4 py-2.5 hover:bg-neutral-100 focus:ring-2 focus:ring-primary-200 active:bg-neutral-200 disabled:bg-neutral-0",u&&"bg-neutral-100",o&&"bg-primary-100 hover:bg-primary-100 active:bg-primary-100"),disabled:a,onKeyDown:n,onClick:n,children:[s?x.jsx(s,{className:F("h-4 w-4 fill-neutral-600 group-disabled:fill-neutral-400",o&&"fill-primary-400")}):null,x.jsx("div",{className:F("paragraph-200 text-neutral-800 group-disabled:text-neutral-400",o&&"text-primary-400 before:absolute before:bottom-0 before:left-0 before:top-0 before:w-0.5 before:rounded-r-sm before:bg-primary-400 group-disabled:before:bg-neutral-0"),children:e})]})});H.__docgenInfo={description:"",methods:[],displayName:"MenuItem",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},LeftIcon:{required:!1,tsType:{name:"ReactElementType",raw:"React.ElementType"},description:""},isSelected:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const J=({children:e})=>x.jsx(_.Items,{className:"absolute right-0 z-10 mt-2 flex w-52 flex-col rounded-md bg-neutral-0 py-2 shadow-md outline-none",children:e});J.__docgenInfo={description:"",methods:[],displayName:"MenuItems",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const W=({children:e,className:s})=>x.jsx(_.Button,{as:"div",className:s,children:e});W.__docgenInfo={description:"",methods:[],displayName:"MenuButton",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const P=({children:e})=>x.jsx(_,{as:"div",className:"relative",children:e});P.Button=W;P.Items=J;P.Title=pe;P.Item=H;P.InfoItem=X;P.Separator=de;P.__docgenInfo={description:"",methods:[{name:"Button",docblock:null,modifiers:["static"],params:[{name:"{ children, className }: MenuButtonProps",optional:!1,type:{name:"MenuButtonProps",alias:"MenuButtonProps"}}],returns:null},{name:"Items",docblock:null,modifiers:["static"],params:[{name:"{ children }: MenuItemsProps",optional:!1,type:{name:"MenuItemsProps",alias:"MenuItemsProps"}}],returns:null},{name:"Title",docblock:null,modifiers:["static"],params:[{name:"{ children }: MenuTitleProps",optional:!1,type:{name:"MenuTitleProps",alias:"MenuTitleProps"}}],returns:null},{name:"Item",docblock:null,modifiers:["static"],params:[{name:`{
    children,
    LeftIcon,
    isSelected = false,
    disabled = false,
    onClick,
}: MenuItemProps`,optional:!1,type:{name:"MenuItemProps",alias:"MenuItemProps"}}],returns:null},{name:"InfoItem",docblock:null,modifiers:["static"],params:[{name:"{ title, subtitle }: MenuInfoItemProps",optional:!1,type:{name:"MenuInfoItemProps",alias:"MenuInfoItemProps"}}],returns:null},{name:"Separator",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"Menu",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};export{H as M,P as a};
