import{j as r}from"./jsx-runtime-DiklIkkE.js";import{r as i,R as N}from"./index-DRjF_FHU.js";import{c as Te}from"./class-names-AhVFtEzo.js";import{$ as he,a as Le,w as De,e as Me}from"./use-resolve-button-type-anS-OQ-j.js";import{K as O,s as W,y as G,o as $,n as Q,L as U,u as M,O as ue,c as Re,_ as ve}from"./use-sync-refs-4PSbzubZ.js";import{f as Oe}from"./use-is-mounted-D2HKdifd.js";import{f as Pe,s as Ge}from"./hidden-BTT1K2UY.js";import{_ as D,T as H,P as S,F as v}from"./focus-management-CtIqEZ7d.js";import{o as Ue,a as P}from"./keyboard-BXsyG9-6.js";import{g as Ke}from"./storybook-utils-C5xEhci0.js";function We({onFocus:e}){let[t,a]=i.useState(!0),n=Oe();return t?N.createElement(Pe,{as:"button",type:"button",features:Ge.Focusable,onFocus:u=>{u.preventDefault();let l,s=50;function c(){if(s--<=0){l&&cancelAnimationFrame(l);return}if(e()){if(cancelAnimationFrame(l),!n.current)return;a(!1);return}l=requestAnimationFrame(c)}l=requestAnimationFrame(c)}}):null}const _e=i.createContext(null);function He(){return{groups:new Map,get(e,t){var a;let n=this.groups.get(e);n||(n=new Map,this.groups.set(e,n));let u=(a=n.get(t))!=null?a:0;n.set(t,u+1);let l=Array.from(n.keys()).indexOf(t);function s(){let c=n.get(t);c>1?n.set(t,c-1):n.delete(t)}return[l,s]}}}function ze({children:e}){let t=i.useRef(He());return i.createElement(_e.Provider,{value:t},e)}function Ie(e){let t=i.useContext(_e);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let a=i.useId(),[n,u]=t.current.get(e,a);return i.useEffect(()=>u,[]),n}var Je=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Je||{}),Ye=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Ye||{}),Qe=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Qe||{});let Xe={0(e,t){var a;let n=D(e.tabs,p=>p.current),u=D(e.panels,p=>p.current),l=n.filter(p=>{var g;return!((g=p.current)!=null&&g.hasAttribute("disabled"))}),s={...e,tabs:n,panels:u};if(t.index<0||t.index>n.length-1){let p=M(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>M(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(l.length===0)return s;let g=M(p,{0:()=>n.indexOf(l[0]),1:()=>n.indexOf(l[l.length-1])});return{...s,selectedIndex:g===-1?e.selectedIndex:g}}let c=n.slice(0,t.index),_=[...n.slice(t.index),...c].find(p=>l.includes(p));if(!_)return s;let y=(a=n.indexOf(_))!=null?a:e.selectedIndex;return y===-1&&(y=e.selectedIndex),{...s,selectedIndex:y}},1(e,t){if(e.tabs.includes(t.tab))return e;let a=e.tabs[e.selectedIndex],n=D([...e.tabs,t.tab],l=>l.current),u=e.selectedIndex;return e.info.current.isControlled||(u=n.indexOf(a),u===-1&&(u=e.selectedIndex)),{...e,tabs:n,selectedIndex:u}},2(e,t){return{...e,tabs:e.tabs.filter(a=>a!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:D([...e.panels,t.panel],a=>a.current)}},4(e,t){return{...e,panels:e.panels.filter(a=>a!==t.panel)}}},ne=i.createContext(null);ne.displayName="TabsDataContext";function V(e){let t=i.useContext(ne);if(t===null){let a=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,V),a}return t}let re=i.createContext(null);re.displayName="TabsActionsContext";function se(e){let t=i.useContext(re);if(t===null){let a=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,se),a}return t}function Ze(e,t){return M(t.type,Xe,e,t)}let et="div";function tt(e,t){let{defaultIndex:a=0,vertical:n=!1,manual:u=!1,onChange:l,selectedIndex:s=null,...c}=e;const _=n?"vertical":"horizontal",y=u?"manual":"auto";let p=s!==null,g=W({isControlled:p}),k=G(t),[b,m]=i.useReducer(Ze,{info:g,selectedIndex:s??a,tabs:[],panels:[]}),F=i.useMemo(()=>({selectedIndex:b.selectedIndex}),[b.selectedIndex]),B=W(l||(()=>{})),C=W(b.tabs),x=i.useMemo(()=>({orientation:_,activation:y,...b}),[_,y,b]),q=$(f=>(m({type:1,tab:f}),()=>m({type:2,tab:f}))),A=$(f=>(m({type:3,panel:f}),()=>m({type:4,panel:f}))),T=$(f=>{h.current!==f&&B.current(f),p||m({type:0,index:f})}),h=W(p?e.selectedIndex:b.selectedIndex),E=i.useMemo(()=>({registerTab:q,registerPanel:A,change:T}),[]);Q(()=>{m({type:0,index:s??a})},[s]),Q(()=>{if(h.current===void 0||b.tabs.length<=0)return;let f=D(b.tabs,j=>j.current);f.some((j,w)=>b.tabs[w]!==j)&&T(f.indexOf(b.tabs[h.current]))});let X={ref:k},L=U();return N.createElement(ze,null,N.createElement(re.Provider,{value:E},N.createElement(ne.Provider,{value:x},x.tabs.length<=0&&N.createElement(We,{onFocus:()=>{var f,j;for(let w of C.current)if(((f=w.current)==null?void 0:f.tabIndex)===0)return(j=w.current)==null||j.focus(),!0;return!1}}),L({ourProps:X,theirProps:c,slot:F,defaultTag:et,name:"Tabs"}))))}let at="div";function nt(e,t){let{orientation:a,selectedIndex:n}=V("Tab.List"),u=G(t),l=i.useMemo(()=>({selectedIndex:n}),[n]),s=e,c={ref:u,role:"tablist","aria-orientation":a};return U()({ourProps:c,theirProps:s,slot:l,defaultTag:at,name:"Tabs.List"})}let rt="button";function st(e,t){var a,n;let u=i.useId(),{id:l=`headlessui-tabs-tab-${u}`,disabled:s=!1,autoFocus:c=!1,..._}=e,{orientation:y,activation:p,selectedIndex:g,tabs:k,panels:b}=V("Tab"),m=se("Tab"),F=V("Tab"),[B,C]=i.useState(null),x=i.useRef(null),q=G(x,t,C);Q(()=>m.registerTab(x),[m,x]);let A=Ie("tabs"),T=k.indexOf(x);T===-1&&(T=A);let h=T===g,E=$(d=>{var I;let K=d();if(K===H.Success&&p==="auto"){let Be=(I=Ue(x))==null?void 0:I.activeElement,ie=F.tabs.findIndex(Ae=>Ae.current===Be);ie!==-1&&m.change(ie)}return K}),X=$(d=>{let I=k.map(K=>K.current).filter(Boolean);if(d.key===P.Space||d.key===P.Enter){d.preventDefault(),d.stopPropagation(),m.change(T);return}switch(d.key){case P.Home:case P.PageUp:return d.preventDefault(),d.stopPropagation(),E(()=>S(I,v.First));case P.End:case P.PageDown:return d.preventDefault(),d.stopPropagation(),E(()=>S(I,v.Last))}if(E(()=>M(y,{vertical(){return d.key===P.ArrowUp?S(I,v.Previous|v.WrapAround):d.key===P.ArrowDown?S(I,v.Next|v.WrapAround):H.Error},horizontal(){return d.key===P.ArrowLeft?S(I,v.Previous|v.WrapAround):d.key===P.ArrowRight?S(I,v.Next|v.WrapAround):H.Error}}))===H.Success)return d.preventDefault()}),L=i.useRef(!1),f=$(()=>{var d;L.current||(L.current=!0,(d=x.current)==null||d.focus({preventScroll:!0}),m.change(T),Re(()=>{L.current=!1}))}),j=$(d=>{d.preventDefault()}),{isFocusVisible:w,focusProps:ke}=he({autoFocus:c}),{isHovered:le,hoverProps:qe}=Le({isDisabled:s}),{pressed:oe,pressProps:Se}=De({disabled:s}),Ve=i.useMemo(()=>({selected:h,hover:le,active:oe,focus:w,autofocus:c,disabled:s}),[h,le,w,oe,c,s]),Fe=ve({ref:q,onKeyDown:X,onMouseDown:j,onClick:f,id:l,role:"tab",type:Me(e,B),"aria-controls":(n=(a=b[T])==null?void 0:a.current)==null?void 0:n.id,"aria-selected":h,tabIndex:h?0:-1,disabled:s||void 0,autoFocus:c},ke,qe,Se);return U()({ourProps:Fe,theirProps:_,slot:Ve,defaultTag:rt,name:"Tabs.Tab"})}let lt="div";function ot(e,t){let{selectedIndex:a}=V("Tab.Panels"),n=G(t),u=i.useMemo(()=>({selectedIndex:a}),[a]),l=e,s={ref:n};return U()({ourProps:s,theirProps:l,slot:u,defaultTag:lt,name:"Tabs.Panels"})}let it="div",ut=ue.RenderStrategy|ue.Static;function dt(e,t){var a,n,u,l;let s=i.useId(),{id:c=`headlessui-tabs-panel-${s}`,tabIndex:_=0,...y}=e,{selectedIndex:p,tabs:g,panels:k}=V("Tab.Panel"),b=se("Tab.Panel"),m=i.useRef(null),F=G(m,t);Q(()=>b.registerPanel(m),[b,m]);let B=Ie("panels"),C=k.indexOf(m);C===-1&&(C=B);let x=C===p,{isFocusVisible:q,focusProps:A}=he(),T=i.useMemo(()=>({selected:x,focus:q}),[x,q]),h=ve({ref:F,id:c,role:"tabpanel","aria-labelledby":(n=(a=g[C])==null?void 0:a.current)==null?void 0:n.id,tabIndex:x?_:-1},A),E=U();return!x&&((u=y.unmount)==null||u)&&!((l=y.static)!=null&&l)?N.createElement(Pe,{"aria-hidden":"true",...h}):E({ourProps:h,theirProps:y,slot:T,defaultTag:it,features:ut,visible:x,name:"Tabs.Panel"})}let ct=O(st),Ne=O(tt),Ce=O(nt),je=O(ot),Ee=O(dt),pt=Object.assign(ct,{Group:Ne,List:Ce,Panels:je,Panel:Ee});const we=N.createContext({type:"primary"});function $e(){const e=N.useContext(we);if(!e)throw new Error("Tab compound components cannot be rendered outside the Tab component");return e}try{Context.displayName="Context",Context.__docgenInfo={description:`Context lets components pass information deep down without explicitly
passing props.

Created from {@link createContext}`,displayName:"Context",props:{}}}catch{}const mt={primary:"relative whitespace-nowrap focus:ring-2 ring:primary-200 ui-not-selected:hover:text-neutral-800 ui-not-selected:after:hidden ui-selected:after:absolute ui-selected:after:left-0 ui-selected:after:right-0 ui-selected:after:-bottom-2 ui-selected:after:block ui-selected:after:h-0.5 ui-selected:after:bg-primary-500 disabled:ui-selected:after:bg-primary-500 disabled:text-neutral-500",secondary:"px-4 py-2 ui-not-selected:bg-transparent ui-not-selected:hover:text-neutral-800 focus:ring-2 ring:primary-200 ui-not-selected:hover:bg-neutral-100 ui-selected:text-primary-500 ui-selected:bg-primary-100 disabled:text-neutral-500"},Z=({children:e,...t})=>{const{type:a}=$e();return r.jsx(pt,{...t,className:"focus-visible:outline-none",children:r.jsx("div",{className:Te("rounded text-xs font-medium outline-none ui-selected:text-primary-500 ui-not-selected:text-neutral-700",mt[a]),children:e})})};try{Z.displayName="TabButton",Z.__docgenInfo={description:"",displayName:"TabButton",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},refName:{defaultValue:null,description:"",name:"refName",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"any"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const ft={primary:"gap-5 pb-2",secondary:"gap-2"},ee=({children:e})=>{const{type:t}=$e();return r.jsx(Ce,{className:Te("flex",ft[t]),children:e})};try{ee.displayName="TabList",ee.__docgenInfo={description:"",displayName:"TabList",props:{}}}catch{}const te=({children:e,...t})=>r.jsx(Ee,{...t,children:e});try{te.displayName="TabPanel",te.__docgenInfo={description:"",displayName:"TabPanel",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"enum",value:[{value:'"div"'}]}},refName:{defaultValue:null,description:"",name:"refName",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | ((bag: PanelRenderPropArg) => string)"}},static:{defaultValue:null,description:"",name:"static",required:!1,type:{name:"boolean"}},unmount:{defaultValue:null,description:"",name:"unmount",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}}}}}catch{}const ae=({children:e,className:t})=>r.jsx(je,{className:t,children:e});try{ae.displayName="TabPanels",ae.__docgenInfo={description:"",displayName:"TabPanels",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const o=({type:e="primary",children:t,...a})=>{const n=N.useMemo(()=>({type:e}),[e]);return r.jsx(we.Provider,{value:n,children:r.jsx(Ne,{...a,children:t})})};o.List=ee;o.Button=Z;o.Panels=ae;o.Panel=te;try{o.displayName="Tab",o.__docgenInfo={description:"",displayName:"Tab",props:{type:{defaultValue:{value:"primary"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},refName:{defaultValue:null,description:"",name:"refName",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"any"}},defaultIndex:{defaultValue:null,description:"",name:"defaultIndex",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((index: number) => void)"}},selectedIndex:{defaultValue:null,description:"",name:"selectedIndex",required:!1,type:{name:"number"}},vertical:{defaultValue:null,description:"",name:"vertical",required:!1,type:{name:"boolean"}},manual:{defaultValue:null,description:"",name:"manual",required:!1,type:{name:"boolean"}}}}}catch{}const Nt={title:"Tab",component:o,parameters:Ke("Tab component. For a detailed explanation on props, please visit the Headless UI [tab-group documentation](https://headlessui.com/react/tabs#tab-group)")},R=({type:e="primary"})=>r.jsxs(o,{type:e,children:[r.jsxs(o.List,{children:[r.jsx(o.Button,{onClick:()=>null,children:"Tab 1"}),r.jsx(o.Button,{onClick:()=>null,children:"Tab 2"}),r.jsx(o.Button,{onClick:()=>null,children:"Tab 3"})]}),r.jsxs(o.Panels,{children:[r.jsx(o.Panel,{children:r.jsx("p",{className:"paragraph-200 pt-2",children:"Content 1"})}),r.jsx(o.Panel,{children:r.jsx("p",{className:"paragraph-200 pt-2",children:"Content 2"})}),r.jsx(o.Panel,{children:r.jsx("p",{className:"paragraph-200 pt-2",children:"Content 3"})})]})]}),z={render:()=>r.jsx(R,{})},J={render:e=>r.jsx(R,{...e}),args:{type:"secondary"}},Y={render:e=>r.jsxs(o,{...e,children:[r.jsxs(o.List,{children:[r.jsx(o.Button,{onClick:()=>null,children:"Tab 1"}),r.jsx(o.Button,{onClick:()=>null,children:"Tab 2"}),r.jsx(o.Button,{onClick:()=>null,children:"Tab 3"})]}),r.jsxs(o.Panels,{children:[r.jsx(o.Panel,{children:r.jsx("div",{className:"pt-2",children:r.jsx(R,{})})}),r.jsx(o.Panel,{children:r.jsx("div",{className:"pt-2",children:r.jsx(R,{})})}),r.jsx(o.Panel,{children:r.jsx("div",{className:"pt-2",children:r.jsx(R,{})})})]})]}),args:{type:"primary",vertical:!1,manual:!1,defaultIndex:0},argTypes:{className:{control:{type:"text"}}}};var de,ce,pe;z.parameters={...z.parameters,docs:{...(de=z.parameters)==null?void 0:de.docs,source:{originalSource:`{
  render: () => <TabsExample />
}`,...(pe=(ce=z.parameters)==null?void 0:ce.docs)==null?void 0:pe.source}}};var me,fe,be;J.parameters={...J.parameters,docs:{...(me=J.parameters)==null?void 0:me.docs,source:{originalSource:`{
  render: args => <TabsExample {...args} />,
  args: {
    type: "secondary"
  }
}`,...(be=(fe=J.parameters)==null?void 0:fe.docs)==null?void 0:be.source}}};var xe,ye,ge;Y.parameters={...Y.parameters,docs:{...(xe=Y.parameters)==null?void 0:xe.docs,source:{originalSource:`{
  render: args => <Tab {...args}>
            <Tab.List>
                <Tab.Button onClick={() => null}>Tab 1</Tab.Button>
                <Tab.Button onClick={() => null}>Tab 2</Tab.Button>
                <Tab.Button onClick={() => null}>Tab 3</Tab.Button>
            </Tab.List>

            <Tab.Panels>
                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>

                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>

                <Tab.Panel>
                    <div className="pt-2">
                        <TabsExample />
                    </div>
                </Tab.Panel>
            </Tab.Panels>
        </Tab>,
  args: {
    type: "primary",
    vertical: false,
    manual: false,
    defaultIndex: 0
  },
  argTypes: {
    className: {
      control: {
        type: "text"
      }
    }
  }
}`,...(ge=(ye=Y.parameters)==null?void 0:ye.docs)==null?void 0:ge.source}}};const Ct=["Primary","Secondary","NestedTabs"];export{Y as NestedTabs,z as Primary,J as Secondary,Ct as __namedExportsOrder,Nt as default};
